-- DB update 2020_12_10_01 -> 2020_12_10_02
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_10_01';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_10_01 2020_12_10_02 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607583597752564623'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607583597752564623');

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 8660;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 8660 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(8660,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'The Evalcharr - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 360930;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(360930,1,3124.79,-4185.41,107.457,0,0,0,0,100,0),
(360930,2,3127.9,-4195,108.387,0,0,0,0,100,0),
(360930,3,3131.38,-4205.64,106.846,0,0,0,0,100,0),
(360930,4,3134.34,-4219.87,102.604,0,0,0,0,100,0),
(360930,5,3138.14,-4231.97,100.708,0,0,0,0,100,0),
(360930,6,3144.39,-4247.98,100.987,0,0,0,0,100,0),
(360930,7,3148.82,-4261.09,102.607,0,0,0,0,100,0),
(360930,8,3153.31,-4275.71,102.805,0,0,0,0,100,0),
(360930,9,3156.92,-4289.23,102.268,0,0,0,0,100,0),
(360930,10,3160.53,-4302.76,102.107,0,0,0,0,100,0),
(360930,11,3167.54,-4329.06,103.796,0,0,0,0,100,0),
(360930,12,3173.44,-4343.42,105.24,0,0,0,0,100,0),
(360930,13,3177.47,-4356.27,105.194,0,0,0,0,100,0),
(360930,14,3181.81,-4370.14,103.597,0,0,0,0,100,0),
(360930,15,3188.55,-4388.06,101.387,0,0,0,0,100,0),
(360930,16,3208.53,-4399.78,99.9641,0,0,0,0,100,0),
(360930,17,3221.32,-4405.42,100.638,0,0,0,0,100,0),
(360930,18,3247.15,-4416.23,101.296,0,0,0,0,100,0),
(360930,19,3270.46,-4425.27,103.279,0,0,0,0,100,0),
(360930,20,3284.04,-4421.89,104.304,0,0,0,0,100,0),
(360930,21,3297.44,-4417.83,105.84,0,0,0,0,100,0),
(360930,22,3310.64,-4413.15,106.817,0,0,0,0,100,0),
(360930,23,3334.54,-4402.16,103.241,0,0,0,0,100,0),
(360930,24,3342.09,-4390.6,103.711,0,0,0,0,100,0),
(360930,25,3342.09,-4390.6,103.711,0,0,0,0,100,0),
(360930,26,3345.71,-4377.08,103.318,0,0,0,0,100,0),
(360930,27,3359.8,-4345.9,99.8395,0,0,0,0,100,0),
(360930,28,3370.13,-4328.82,99.4263,0,0,0,0,100,0),
(360930,29,3370.04,-4310.9,96.1145,0,0,0,0,100,0),
(360930,30,3367.08,-4297.22,97.2533,0,0,0,0,100,0),
(360930,31,3364.12,-4283.55,99.9641,0,0,0,0,100,0),
(360930,32,3360.98,-4269.96,104.881,0,0,0,0,100,0),
(360930,33,3357.34,-4254.6,108.993,0,0,0,0,100,0),
(360930,34,3354.78,-4243.8,110.437,0,0,0,0,100,0),
(360930,35,3348.91,-4228.9,109.01,0,0,0,0,100,0),
(360930,36,3340.45,-4210.42,106.945,0,0,0,0,100,0),
(360930,37,3330.87,-4190.57,110.16,0,0,0,0,100,0),
(360930,38,3307.99,-4187.25,107.646,0,0,0,0,100,0),
(360930,39,3294.18,-4184.94,106.301,0,0,0,0,100,0),
(360930,40,3268.01,-4179.71,104.681,0,0,0,0,100,0),
(360930,41,3257.62,-4176.75,106.671,0,0,0,0,100,0),
(360930,42,3249.82,-4175.97,106.314,0,0,0,0,100,0),
(360930,43,3237.5,-4175.79,103.782,0,0,0,0,100,0),
(360930,44,3223.53,-4176.63,104.858,0,0,0,0,100,0),
(360930,45,3207.69,-4177.7,109.003,0,0,0,0,100,0),
(360930,46,3199.21,-4174.81,106.876,0,0,0,0,100,0),
(360930,47,3189.42,-4170.18,104.84,0,0,0,0,100,0),
(360930,48,3177.85,-4161.38,105.661,0,0,0,0,100,0),
(360930,49,3165.45,-4151.86,108.641,0,0,0,0,100,0),
(360930,50,3155.65,-4144.34,109.152,0,0,0,0,100,0),
(360930,51,3144.81,-4138.66,109.024,0,0,0,0,100,0),
(360930,52,3136.31,-4135.91,107.817,0,0,0,0,100,0),
(360930,53,3126.16,-4133.44,105.674,0,0,0,0,100,0),
(360930,54,3112.13,-4131.53,103.256,0,0,0,0,100,0),
(360930,55,3111.46,-4144.95,103.126,0,0,0,0,100,0),
(360930,56,3110.84,-4157.28,101.976,0,0,0,0,100,0),
(360930,57,3114.61,-4165.41,102.657,0,0,0,0,100,0),
(360930,58,3118.83,-4172.02,104.419,0,0,0,0,100,0),
(360930,59,3120.65,-4174.84,105.284,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
