-- DB update 2020_12_14_02 -> 2020_12_14_03
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_14_02';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_14_02 2020_12_14_03 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607948039180329044'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607948039180329044');

UPDATE `creature` SET `position_x` = -14451.6, `position_y` = 806.17, `position_z` = -36.7082 WHERE `guid` = 49058;
UPDATE `creature` SET `position_x` = -14780.5, `position_y` = 353.594, `position_z` = -18.4015 WHERE `guid` = 134221;

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 14490;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 14490 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(14490,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Rippa - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` IN (490580,1342210);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(490580,1,-14451.6,806.17,-36.7082,0,0,0,0,100,0),
(490580,2,-14423.2,794.435,-29.9767,0,0,0,0,100,0),
(490580,3,-14394.7,796.652,-23.4438,0,0,0,0,100,0),
(490580,4,-14364.7,756.168,-11.9257,0,0,0,0,100,0),
(490580,5,-14310.1,667.067,-30.4592,0,0,0,0,100,0),
(490580,6,-14306.6,614.361,-29.9255,0,0,0,0,100,0),
(490580,7,-14328.5,579.791,-29.518,0,0,0,0,100,0),
(490580,8,-14376.3,512.238,-28.6945,0,0,0,0,100,0),
(490580,9,-14394.7,501.28,-28.4813,0,0,0,0,100,0),
(490580,10,-14395.5,480.046,-28.2699,0,0,0,0,100,0),
(490580,11,-14387.6,474.03,-28.1622,0,0,0,0,100,0),
(490580,12,-14376.4,475.312,-28.0502,0,0,0,0,100,0),
(490580,13,-14339.5,547.574,-27.241,0,0,0,0,100,0),
(490580,14,-14316.9,560.702,-26.9808,0,0,0,0,100,0),
(490580,15,-14297.3,582.538,-26.689,0,0,0,0,100,0),
(490580,16,-14277.7,624.366,-26.2294,0,0,0,0,100,0),
(490580,17,-14193,623.122,-1.52426,0,0,0,0,100,0),
(490580,18,-14140.8,619.16,-35.5701,0,0,0,0,100,0),
(490580,19,-14102.9,596.13,-37.2231,0,0,0,0,100,0),
(490580,20,-14060.6,620.132,-35.3111,0,0,0,0,100,0),
(490580,21,-14039.3,676.141,-32.95,0,0,0,0,100,0),
(490580,22,-14038.2,712.946,-31.4995,0,0,0,0,100,0),
(490580,23,-14004.3,753.493,-29.4165,0,0,0,0,100,0),
(490580,24,-13959.6,755.732,-27.6528,0,0,0,0,100,0),
(490580,25,-13936.7,757.818,-24.0057,0,0,0,0,100,0),
(490580,26,-13920.4,758.972,-22.0358,0,0,0,0,100,0),
(490580,27,-13906.3,759.693,-20.932,0,0,0,0,100,0),
(490580,28,-13846.1,761.884,-18.2194,0,0,0,0,100,0),
(490580,29,-13818.4,750.603,-20.262,0,0,0,0,100,0),
(490580,30,-13771.3,734.012,-10.0496,0,0,0,0,100,0),
(490580,31,-13754,756.835,-10.0496,0,0,0,0,100,0),
(490580,32,-13691.7,759.566,-10.0496,0,0,0,0,100,0),
(490580,33,-13666.1,728.798,-10.0496,0,0,0,0,100,0),
(490580,34,-13668.4,705.532,-10.0496,0,0,0,0,100,0),
(490580,35,-13607,627.858,-10.0496,0,0,0,0,100,0),
(490580,36,-13594.1,536.691,-10.0496,0,0,0,0,100,0),
(490580,37,-13604.8,467.251,-10.0496,0,0,0,0,100,0),
(490580,38,-13602,429.627,-10.0496,0,0,0,0,100,0),
(490580,39,-13604.8,467.251,-10.0496,0,0,0,0,100,0),
(490580,40,-13594.1,536.691,-10.0496,0,0,0,0,100,0),
(490580,41,-13607,627.858,-10.0496,0,0,0,0,100,0),
(490580,42,-13668.4,705.532,-10.0496,0,0,0,0,100,0),
(490580,43,-13666.1,728.798,-10.0496,0,0,0,0,100,0),
(490580,44,-13691.7,759.566,-10.0496,0,0,0,0,100,0),
(490580,45,-13754,756.835,-10.0496,0,0,0,0,100,0),
(490580,46,-13771.3,734.012,-10.0496,0,0,0,0,100,0),
(490580,47,-13818.4,750.603,-20.262,0,0,0,0,100,0),
(490580,48,-13846.1,761.884,-18.2194,0,0,0,0,100,0),
(490580,49,-13906.3,759.693,-20.932,0,0,0,0,100,0),
(490580,50,-13920.4,758.972,-22.0358,0,0,0,0,100,0),
(490580,51,-13936.7,757.818,-24.0057,0,0,0,0,100,0),
(490580,53,-13959.6,755.732,-27.6528,0,0,0,0,100,0),
(490580,54,-14004.3,753.493,-29.4165,0,0,0,0,100,0),
(490580,55,-14038.2,712.946,-31.4995,0,0,0,0,100,0),
(490580,56,-14039.3,676.141,-32.95,0,0,0,0,100,0),
(490580,57,-14060.6,620.132,-35.3111,0,0,0,0,100,0),
(490580,58,-14102.9,596.13,-37.2231,0,0,0,0,100,0),
(490580,59,-14140.8,619.16,-35.5701,0,0,0,0,100,0),
(490580,60,-14193,623.122,-1.52426,0,0,0,0,100,0),
(490580,61,-14277.7,624.366,-26.2294,0,0,0,0,100,0),
(490580,62,-14297.3,582.538,-26.689,0,0,0,0,100,0),
(490580,63,-14316.9,560.702,-26.9808,0,0,0,0,100,0),
(490580,64,-14339.5,547.574,-27.241,0,0,0,0,100,0),
(490580,65,-14376.4,475.312,-28.0502,0,0,0,0,100,0),
(490580,66,-14387.6,474.03,-28.1622,0,0,0,0,100,0),
(490580,67,-14395.5,480.046,-28.2699,0,0,0,0,100,0),
(490580,68,-14394.7,501.28,-28.4813,0,0,0,0,100,0),
(490580,69,-14376.3,512.238,-28.6945,0,0,0,0,100,0),
(490580,70,-14328.5,579.791,-29.518,0,0,0,0,100,0),
(490580,71,-14306.6,614.361,-29.9255,0,0,0,0,100,0),
(490580,72,-14310.1,667.067,-30.4592,0,0,0,0,100,0),
(490580,73,-14364.7,756.168,-11.9257,0,0,0,0,100,0),
(490580,74,-14394.7,796.652,-23.4438,0,0,0,0,100,0),
(490580,75,-14423.2,794.435,-29.9767,0,0,0,0,100,0),

(1342210,1,-14780.5,353.594,-18.4015,0,0,0,0,100,0),
(1342210,2,-14805.6,372.977,-15.6942,0,0,0,0,100,0),
(1342210,3,-14817,390.234,-13.5877,0,0,0,0,100,0),
(1342210,4,-14863.6,480.663,-4.36343,0,0,0,0,100,0),
(1342210,5,-14893.3,493.252,-1.80102,0,0,0,0,100,0),
(1342210,6,-14892.7,505.464,-13.6238,0,0,0,0,100,0),
(1342210,7,-14889.3,529.094,-13.7438,0,0,0,0,100,0),
(1342210,8,-14859.9,540.102,-13.178,0,0,0,0,100,0),
(1342210,9,-14856.7,533.738,-6.94952,0,0,0,0,100,0),
(1342210,10,-14852.6,532.237,-2.94978,0,0,0,0,100,0),
(1342210,11,-14840.8,531.643,-3.10886,0,0,0,0,100,0),
(1342210,12,-14828.3,532.47,-12.1503,0,0,0,0,100,0),
(1342210,13,-14803.7,538.793,-13.6438,0,0,0,0,100,0),
(1342210,14,-14795,548.984,-13.7254,0,0,0,0,100,0),
(1342210,15,-14786.9,560.196,-14.6271,0,0,0,0,100,0),
(1342210,16,-14785.4,565.642,-17.3263,0,0,0,0,100,0),
(1342210,17,-14779.2,586.46,-33.1227,0,0,0,0,100,0),
(1342210,18,-14768.2,601.928,-34.591,0,0,0,0,100,0),
(1342210,19,-14752.5,595.599,-34.5731,0,0,0,0,100,0),
(1342210,20,-14734.7,593.639,-34.3741,0,0,0,0,100,0),
(1342210,21,-14711.9,591.271,-34.6133,0,0,0,0,100,0),
(1342210,22,-14697.3,583.803,-34.6227,0,0,0,0,100,0),
(1342210,23,-14686.7,593.096,-34.6239,0,0,0,0,100,0),
(1342210,24,-14673.4,600.593,-34.6152,0,0,0,0,100,0),
(1342210,25,-14663.3,611.934,-34.6221,0,0,0,0,100,0),
(1342210,26,-14663.4,620.444,-34.6238,0,0,0,0,100,0),
(1342210,27,-14671.7,626.369,-34.6239,0,0,0,0,100,0),
(1342210,28,-14688.8,622.564,-34.6243,0,0,0,0,100,0),
(1342210,29,-14708.9,610.16,-34.6238,0,0,0,0,100,0),
(1342210,30,-14714.7,597.983,-34.6232,0,0,0,0,100,0),
(1342210,31,-14734.7,593.639,-34.3741,0,0,0,0,100,0),
(1342210,32,-14752.5,595.599,-34.5731,0,0,0,0,100,0),
(1342210,33,-14768.2,601.928,-34.591,0,0,0,0,100,0),
(1342210,34,-14779.2,586.46,-33.1227,0,0,0,0,100,0),
(1342210,35,-14785.4,565.642,-17.3263,0,0,0,0,100,0),
(1342210,36,-14786.9,560.196,-14.6271,0,0,0,0,100,0),
(1342210,37,-14795,548.984,-13.7254,0,0,0,0,100,0),
(1342210,38,-14803.7,538.793,-13.6438,0,0,0,0,100,0),
(1342210,39,-14828.3,532.47,-12.1503,0,0,0,0,100,0),
(1342210,40,-14840.8,531.643,-3.10886,0,0,0,0,100,0),
(1342210,41,-14852.6,532.237,-2.94978,0,0,0,0,100,0),
(1342210,42,-14856.7,533.738,-6.94952,0,0,0,0,100,0),
(1342210,43,-14859.9,540.102,-13.178,0,0,0,0,100,0),
(1342210,44,-14889.3,529.094,-13.7438,0,0,0,0,100,0),
(1342210,45,-14892.7,505.464,-13.6238,0,0,0,0,100,0),
(1342210,46,-14893.3,493.252,-1.80102,0,0,0,0,100,0),
(1342210,47,-14863.6,480.663,-4.36343,0,0,0,0,100,0),
(1342210,48,-14817,390.234,-13.5877,0,0,0,0,100,0),
(1342210,49,-14805.6,372.977,-15.6942,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
