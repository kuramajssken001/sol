-- DB update 2020_12_06_05 -> 2020_12_07_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_06_05';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_06_05 2020_12_07_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607381388520015235'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607381388520015235');

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 3056;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 3056 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(3056,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Ghost Howl - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 518450;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(518450,1,-758.331,132.167,2.77833,0,0,0,0,100,0),
(518450,2,-769.34,135.27,-0.501096,0,0,0,0,100,0),
(518450,3,-779.039,138.003,-3.39281,0,0,0,0,100,0),
(518450,4,-787.696,139.041,-5.25567,0,0,0,0,100,0),
(518450,5,-795.341,139.958,-6.74252,0,0,0,0,100,0),
(518450,6,-801.73,140.724,-8.18451,0,0,0,0,100,0),
(518450,7,-809.907,139.076,-9.62936,0,0,0,0,100,0),
(518450,8,-817.906,137.464,-10.6107,0,0,0,0,100,0),
(518450,9,-824.493,144.195,-10.6433,0,0,0,0,100,0),
(518450,10,-830.672,150.509,-10.049,0,0,0,0,100,0),
(518450,11,-827.208,162.142,-10.1547,0,0,0,0,100,0),
(518450,12,-824.121,172.511,-10.2011,0,0,0,0,100,0),
(518450,13,-824.472,180.334,-10.0159,0,0,0,0,100,0),
(518450,14,-824.765,186.873,-9.98871,0,0,0,0,100,0),
(518450,15,-829.066,198.716,-9.61642,0,0,0,0,100,0),
(518450,16,-831.983,206.749,-9.48999,0,0,0,0,100,0),
(518450,17,-836.427,213.866,-9.00005,0,0,0,0,100,0),
(518450,18,-840.997,221.184,-6.35456,0,0,0,0,100,0),
(518450,19,-844.891,227.419,-3.09247,0,0,0,0,100,0),
(518450,20,-851.483,236.037,2.58188,0,0,0,0,100,0),
(518450,21,-857.643,244.088,8.02225,0,0,0,0,100,0),
(518450,22,-862.567,251.177,11.6338,0,0,0,0,100,0),
(518450,23,-867.095,257.696,15.165,0,0,0,0,100,0),
(518450,24,-872.992,266.185,19.1681,0,0,0,0,100,0),
(518450,25,-877.081,270.82,20.7185,0,0,0,0,100,0),
(518450,26,-882.134,276.547,22.0825,0,0,0,0,100,0),
(518450,27,-885.965,286.316,23.2886,0,0,0,0,100,0),
(518450,28,-889.801,296.096,23.3952,0,0,0,0,100,0),
(518450,29,-893.915,306.257,23.3483,0,0,0,0,100,0),
(518450,30,-898.425,317.398,23.0327,0,0,0,0,100,0),
(518450,31,-902.935,328.538,23.2227,0,0,0,0,100,0),
(518450,32,-908.011,339.632,23.9221,0,0,0,0,100,0),
(518450,33,-911.667,347.622,22.7623,0,0,0,0,100,0),
(518450,34,-916.242,357.329,20.0956,0,0,0,0,100,0),
(518450,35,-920.617,366.61,17.7281,0,0,0,0,100,0),
(518450,36,-925.039,375.852,15.9687,0,0,0,0,100,0),
(518450,37,-929.676,385.545,15.6721,0,0,0,0,100,0),
(518450,38,-934.539,394.859,16.4441,0,0,0,0,100,0),
(518450,39,-939.391,404.154,17.81,0,0,0,0,100,0),
(518450,40,-945.969,417.558,20.1569,0,0,0,0,100,0),
(518450,41,-952.278,430.415,22.445,0,0,0,0,100,0),
(518450,42,-957.194,438.901,25.0332,0,0,0,0,100,0),
(518450,43,-962.798,448.574,27.8895,0,0,0,0,100,0),
(518450,44,-968.223,457.003,30.5594,0,0,0,0,100,0),
(518450,45,-974.157,466.224,33.3872,0,0,0,0,100,0),
(518450,46,-980.012,473.793,35.1321,0,0,0,0,100,0),
(518450,47,-986.256,481.866,36.9113,0,0,0,0,100,0),
(518450,48,-998.487,490.424,37.8651,0,0,0,0,100,0),
(518450,49,-1009.33,498.011,39.3174,0,0,0,0,100,0),
(518450,50,-1019.16,501.997,39.1826,0,0,0,0,100,0),
(518450,51,-1028.78,505.895,38.9738,0,0,0,0,100,0),
(518450,52,-1039.23,509.239,38.1575,0,0,0,0,100,0),
(518450,53,-1050.18,512.74,37.6667,0,0,0,0,100,0),
(518450,54,-1059.49,513.461,36.8878,0,0,0,0,100,0),
(518450,55,-1067.73,514.1,36.464,0,0,0,0,100,0),
(518450,56,-1077.63,512.425,35.0373,0,0,0,0,100,0),
(518450,57,-1088.43,510.596,33.6737,0,0,0,0,100,0),
(518450,58,-1097.85,508.956,32.5895,0,0,0,0,100,0),
(518450,59,-1109.12,506.993,31.1725,0,0,0,0,100,0),
(518450,60,-1123.22,504.343,28.2999,0,0,0,0,100,0),
(518450,61,-1136.63,501.823,24.1533,0,0,0,0,100,0),
(518450,62,-1146.8,497.702,20.6473,0,0,0,0,100,0),
(518450,63,-1156.81,493.641,17.2383,0,0,0,0,100,0),
(518450,64,-1164,487.145,14.299,0,0,0,0,100,0),
(518450,65,-1171.16,480.67,11.4534,0,0,0,0,100,0),
(518450,66,-1178.81,472.975,8.68996,0,0,0,0,100,0),
(518450,67,-1185.96,465.781,6.86526,0,0,0,0,100,0),
(518450,68,-1195.85,457.408,5.72071,0,0,0,0,100,0),
(518450,69,-1207.32,447.693,5.38923,0,0,0,0,100,0),
(518450,70,-1212.69,440.788,5.06478,0,0,0,0,100,0),
(518450,71,-1218,433.971,4.80097,0,0,0,0,100,0),
(518450,72,-1224.98,424.474,4.28082,0,0,0,0,100,0),
(518450,73,-1233.59,412.767,3.49479,0,0,0,0,100,0),
(518450,74,-1232.49,399.394,0.799064,0,0,0,0,100,0),
(518450,75,-1231.27,384.682,-1.09937,0,0,0,0,100,0),
(518450,76,-1223.99,377.623,-1.85375,0,0,0,0,100,0),
(518450,77,-1215.84,369.726,-1.82196,0,0,0,0,100,0),
(518450,78,-1206.01,365.432,0.281907,0,0,0,0,100,0),
(518450,79,-1195.58,360.879,4.17312,0,0,0,0,100,0),
(518450,80,-1186.34,356.4,7.61608,0,0,0,0,100,0),
(518450,81,-1176.72,351.738,10.6938,0,0,0,0,100,0),
(518450,82,-1167.68,348.974,12.9017,0,0,0,0,100,0),
(518450,83,-1156.65,345.599,15.7258,0,0,0,0,100,0),
(518450,84,-1142.65,343.754,19.175,0,0,0,0,100,0),
(518450,85,-1130.64,342.17,22.5894,0,0,0,0,100,0),
(518450,86,-1116.63,342.235,26.8272,0,0,0,0,100,0),
(518450,87,-1102.56,342.3,31.5151,0,0,0,0,100,0),
(518450,88,-1092.21,343.235,34.0111,0,0,0,0,100,0),
(518450,89,-1080.75,344.271,37.1855,0,0,0,0,100,0),
(518450,90,-1073.29,348.376,36.4609,0,0,0,0,100,0),
(518450,91,-1064.6,353.161,35.4317,0,0,0,0,100,0),
(518450,92,-1053.37,360.3,34.3252,0,0,0,0,100,0),
(518450,93,-1040.97,368.182,32.0226,0,0,0,0,100,0),
(518450,94,-1033.23,373.397,29.8748,0,0,0,0,100,0),
(518450,95,-1023.56,379.915,27.8226,0,0,0,0,100,0),
(518450,96,-1014.67,386.135,25.6679,0,0,0,0,100,0),
(518450,97,-1006.35,391.956,24.1773,0,0,0,0,100,0),
(518450,98,-997.342,397.378,22.6092,0,0,0,0,100,0),
(518450,99,-988.706,402.576,20.7179,0,0,0,0,100,0),
(518450,100,-979.783,400.756,19.6466,0,0,0,0,100,0),
(518450,101,-969.884,398.737,17.4093,0,0,0,0,100,0),
(518450,102,-962.501,391.45,17.5174,0,0,0,0,100,0),
(518450,103,-954.82,383.869,18.1765,0,0,0,0,100,0),
(518450,104,-947.989,374.556,19.1415,0,0,0,0,100,0),
(518450,105,-940.533,364.391,19.0925,0,0,0,0,100,0),
(518450,106,-935.616,355.785,20.5908,0,0,0,0,100,0),
(518450,107,-930.116,346.158,23.0264,0,0,0,0,100,0),
(518450,108,-922.541,334.761,26.4403,0,0,0,0,100,0),
(518450,109,-914.62,322.843,27.8011,0,0,0,0,100,0),
(518450,110,-911.285,315.516,28.2311,0,0,0,0,100,0),
(518450,111,-907.517,307.24,28.4644,0,0,0,0,100,0),
(518450,112,-903.742,297.447,28.5734,0,0,0,0,100,0),
(518450,113,-899.405,286.196,28.6649,0,0,0,0,100,0),
(518450,114,-890.773,273.156,26.9317,0,0,0,0,100,0),
(518450,115,-883.98,262.895,23.5318,0,0,0,0,100,0),
(518450,116,-879.924,255.941,20.7354,0,0,0,0,100,0),
(518450,117,-875.789,248.851,16.681,0,0,0,0,100,0),
(518450,118,-874.181,234.613,8.7104,0,0,0,0,100,0),
(518450,119,-872.647,221.03,3.03563,0,0,0,0,100,0),
(518450,120,-871.322,210.847,0.000090912,0,0,0,0,100,0),
(518450,121,-869.937,200.206,-4.58467,0,0,0,0,100,0),
(518450,122,-867.8,189.212,-9.63267,0,0,0,0,100,0),
(518450,123,-865.188,175.769,-11.7553,0,0,0,0,100,0),
(518450,124,-861.039,167.022,-11.0708,0,0,0,0,100,0),
(518450,125,-856.971,158.444,-10.8236,0,0,0,0,100,0),
(518450,126,-848.231,150.031,-10.3969,0,0,0,0,100,0),
(518450,127,-840.617,142.701,-10.2134,0,0,0,0,100,0),
(518450,128,-829.209,136.838,-10.2399,0,0,0,0,100,0),
(518450,129,-819.318,131.755,-10.5982,0,0,0,0,100,0),
(518450,130,-806.325,127.978,-8.55354,0,0,0,0,100,0),
(518450,131,-794.494,124.538,-8.37794,0,0,0,0,100,0),
(518450,132,-781.932,125.566,-6.35863,0,0,0,0,100,0),
(518450,133,-769.619,126.573,-4.2534,0,0,0,0,100,0),
(518450,134,-759.533,124.085,-2.11067,0,0,0,0,100,0),
(518450,135,-751.691,122.151,0.485237,0,0,0,0,100,0),
(518450,136,-739.859,117.5,2.50279,0,0,0,0,100,0),
(518450,137,-727.577,116.422,5.93297,0,0,0,0,100,0),
(518450,138,-713.595,115.666,7.62961,0,0,0,0,100,0),
(518450,139,-701.034,114.986,7.78627,0,0,0,0,100,0),
(518450,140,-695.004,122.711,11.5873,0,0,0,0,100,0),
(518450,141,-693.187,130.183,15.3011,0,0,0,0,100,0),
(518450,142,-700.147,135.045,17.9256,0,0,0,0,100,0),
(518450,143,-712.397,131.589,15.6891,0,0,0,0,100,0),
(518450,144,-721.357,129.015,13.2956,0,0,0,0,100,0),
(518450,145,-729.028,126.812,9.84214,0,0,0,0,100,0),
(518450,146,-742.051,132.918,8.41944,0,0,0,0,100,0),
(518450,147,-750.673,132.52,6.0229,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
