-- DB update 2021_03_09_00 -> 2021_03_09_01
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2021_03_09_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2021_03_09_00 2021_03_09_01 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1615273717895256906'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1615273717895256906');

DELETE FROM `smart_scripts` WHERE `entryorguid` = 7846 AND `source_type` = 0 AND `id` = 4;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(7846,0,4,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Teremus the Devourer - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 1343800;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(1343800,1,-11685.9,-2955.42,7.736,0,0,0,0,100,0),
(1343800,2,-11696.8,-2934.42,7.62778,0,0,0,0,100,0),
(1343800,3,-11704.9,-2918.86,6.45326,0,0,0,0,100,0),
(1343800,4,-11717.2,-2896.94,4.18418,0,0,0,0,100,0),
(1343800,5,-11721.9,-2867.16,3.8946,0,0,0,0,100,0),
(1343800,6,-11707.2,-2859.73,3.73118,0,0,0,0,100,0),
(1343800,7,-11692.8,-2852.44,4.11769,0,0,0,0,100,0),
(1343800,8,-11677.9,-2832.78,4.43857,0,0,0,0,100,0),
(1343800,9,-11665.7,-2816.7,5.10943,0,0,0,0,100,0),
(1343800,10,-11654.9,-2802.53,4.68803,0,0,0,0,100,0),
(1343800,11,-11636.6,-2802.28,3.72246,0,0,0,0,100,0),
(1343800,12,-11615.8,-2801.99,3.0498,0,0,0,0,100,0),
(1343800,13,-11594.6,-2801.7,3.20341,0,0,0,0,100,0),
(1343800,14,-11578.9,-2802.17,4.60269,0,0,0,0,100,0),
(1343800,15,-11561,-2802.7,6.55221,0,0,0,0,100,0),
(1343800,16,-11537.3,-2803.41,1.86185,0,0,0,0,100,0),
(1343800,17,-11518.3,-2803.98,0.488808,0,0,0,0,100,0),
(1343800,18,-11502,-2803.69,-0.477635,0,0,0,0,100,0),
(1343800,19,-11487,-2803.43,-0.972221,0,0,0,0,100,0),
(1343800,20,-11468.7,-2803.11,-1.62479,0,0,0,0,100,0),
(1343800,21,-11459.7,-2812.89,-1.68889,0,0,0,0,100,0),
(1343800,22,-11450.8,-2822.6,-1.47822,0,0,0,0,100,0),
(1343800,23,-11441.5,-2832.68,-0.937041,0,0,0,0,100,0),
(1343800,24,-11431.2,-2846.84,-0.2051,0,0,0,0,100,0),
(1343800,25,-11421.9,-2859.63,1.48494,0,0,0,0,100,0),
(1343800,26,-11414.2,-2880.72,2.28805,0,0,0,0,100,0),
(1343800,27,-11410.4,-2900.13,3.72527,0,0,0,0,100,0),
(1343800,28,-11408,-2912.61,2.91813,0,0,0,0,100,0),
(1343800,29,-11404.8,-2929.37,2.55446,0,0,0,0,100,0),
(1343800,30,-11401.4,-2947.6,1.84392,0,0,0,0,100,0),
(1343800,31,-11398.1,-2964.91,0.872149,0,0,0,0,100,0),
(1343800,32,-11395.4,-2979.24,-0.0567152,0,0,0,0,100,0),
(1343800,33,-11392.8,-2992.83,-0.732148,0,0,0,0,100,0),
(1343800,34,-11386.5,-3007.38,-1.37165,0,0,0,0,100,0),
(1343800,35,-11382.6,-3016.46,-4.43486,0,0,0,0,100,0),
(1343800,36,-11373.4,-3037.97,-4.56898,0,0,0,0,100,0),
(1343800,37,-11362.3,-3063.66,-4.41712,0,0,0,0,100,0),
(1343800,38,-11357.1,-3075.77,-0.351967,0,0,0,0,100,0),
(1343800,39,-11347.2,-3078.44,0.794734,0,0,0,0,100,0),
(1343800,40,-11328.8,-3083.39,1.96921,0,0,0,0,100,0),
(1343800,41,-11316.1,-3085.65,3.2105,0,0,0,0,100,0),
(1343800,42,-11309.9,-3093.21,3.80276,0,0,0,0,100,0),
(1343800,43,-11300.7,-3104.27,3.44658,0,0,0,0,100,0),
(1343800,44,-11287.7,-3120.03,3.83791,0,0,0,0,100,0),
(1343800,45,-11269.7,-3120.1,3.40346,0,0,0,0,100,0),
(1343800,46,-11251.2,-3120.18,2.41064,0,0,0,0,100,0),
(1343800,47,-11242.7,-3115.3,4.34467,0,0,0,0,100,0),
(1343800,48,-11235.1,-3110.96,4.9713,0,0,0,0,100,0),
(1343800,49,-11217.7,-3100.31,4.96909,0,0,0,0,100,0),
(1343800,50,-11200.2,-3089.59,8.21009,0,0,0,0,100,0),
(1343800,51,-11190.1,-3071.22,9.98531,0,0,0,0,100,0),
(1343800,52,-11182.9,-3058.21,9.40781,0,0,0,0,100,0),
(1343800,53,-11183,-3040.48,7.93419,0,0,0,0,100,0),
(1343800,54,-11183.2,-3018.53,7.36377,0,0,0,0,100,0),
(1343800,55,-11169.1,-3005.36,7.51524,0,0,0,0,100,0),
(1343800,56,-11160.4,-2997.22,8.43236,0,0,0,0,100,0),
(1343800,57,-11148.3,-2985.85,8.42881,0,0,0,0,100,0),
(1343800,58,-11139.5,-2974.38,8.49067,0,0,0,0,100,0),
(1343800,59,-11132.9,-2965.88,8.37486,0,0,0,0,100,0),
(1343800,60,-11120.2,-2949.3,8.01267,0,0,0,0,100,0),
(1343800,61,-11101.2,-2939.86,9.51159,0,0,0,0,100,0),
(1343800,62,-11095.8,-2924.6,11.0533,0,0,0,0,100,0),
(1343800,63,-11088,-2903.72,9.67336,0,0,0,0,100,0),
(1343800,64,-11083.4,-2891.39,9.60061,0,0,0,0,100,0),
(1343800,65,-11077.9,-2877.88,10.0562,0,0,0,0,100,0),
(1343800,66,-11073.1,-2866.13,10.1398,0,0,0,0,100,0),
(1343800,67,-11064.5,-2849.33,11.4183,0,0,0,0,100,0),
(1343800,68,-11049.5,-2837.42,11.8948,0,0,0,0,100,0),
(1343800,69,-11043.8,-2832.82,13.3134,0,0,0,0,100,0),
(1343800,70,-11037.4,-2827.78,14.5429,0,0,0,0,100,0),
(1343800,71,-11028.8,-2820.91,11.2717,0,0,0,0,100,0),
(1343800,72,-11021.7,-2815.25,6.9271,0,0,0,0,100,0),
(1343800,73,-11012,-2807.54,6.20815,0,0,0,0,100,0),
(1343800,74,-11004,-2801.13,5.79904,0,0,0,0,100,0),
(1343800,75,-11008.9,-2787.51,4.85877,0,0,0,0,100,0),
(1343800,76,-11013.1,-2775.63,4.03772,0,0,0,0,100,0),
(1343800,77,-11025.7,-2775.42,3.99298,0,0,0,0,100,0),
(1343800,78,-11041.1,-2782.9,5.76635,0,0,0,0,100,0),
(1343800,79,-11055.4,-2789.81,7.18522,0,0,0,0,100,0),
(1343800,80,-11067.3,-2780.71,8.11705,0,0,0,0,100,0),
(1343800,81,-11084.6,-2767.57,11.7554,0,0,0,0,100,0),
(1343800,82,-11095.1,-2762.57,14.3506,0,0,0,0,100,0),
(1343800,83,-11109.8,-2755.54,16.4986,0,0,0,0,100,0),
(1343800,84,-11115.4,-2752.48,16.739,0,0,0,0,100,0),
(1343800,85,-11123.6,-2748.04,16.0974,0,0,0,0,100,0),
(1343800,86,-11138.8,-2739.77,14.0536,0,0,0,0,100,0),
(1343800,87,-11153,-2739.53,14.8829,0,0,0,0,100,0),
(1343800,88,-11166.7,-2739.31,15.4765,0,0,0,0,100,0),
(1343800,89,-11177.6,-2739.13,15.8042,0,0,0,0,100,0),
(1343800,90,-11189.7,-2738.93,15.9435,0,0,0,0,100,0),
(1343800,91,-11203.1,-2738.71,15.8915,0,0,0,0,100,0),
(1343800,92,-11214.6,-2738.52,15.6535,0,0,0,0,100,0),
(1343800,93,-11225.5,-2733.5,14.9382,0,0,0,0,100,0),
(1343800,94,-11237.7,-2727.9,14.0062,0,0,0,0,100,0),
(1343800,95,-11250.3,-2728.44,14.1748,0,0,0,0,100,0),
(1343800,96,-11273.1,-2729.42,11.1961,0,0,0,0,100,0),
(1343800,97,-11284.6,-2732.64,11.02,0,0,0,0,100,0),
(1343800,98,-11299,-2736.67,9.90885,0,0,0,0,100,0),
(1343800,99,-11313.8,-2740.82,9.15918,0,0,0,0,100,0),
(1343800,100,-11326.3,-2751.84,9.05287,0,0,0,0,100,0),
(1343800,101,-11338.3,-2762.38,8.9837,0,0,0,0,100,0),
(1343800,102,-11345.2,-2784.18,7.65173,0,0,0,0,100,0),
(1343800,103,-11350.4,-2800.78,6.74236,0,0,0,0,100,0),
(1343800,104,-11355.4,-2816.61,6.07751,0,0,0,0,100,0),
(1343800,105,-11362,-2837.34,5.94349,0,0,0,0,100,0),
(1343800,106,-11365.3,-2847.95,5.40127,0,0,0,0,100,0),
(1343800,107,-11379,-2858.8,4.19577,0,0,0,0,100,0),
(1343800,108,-11396.5,-2872.61,3.28905,0,0,0,0,100,0),
(1343800,109,-11405.8,-2879.98,3.11339,0,0,0,0,100,0),
(1343800,110,-11416.6,-2888.47,2.56652,0,0,0,0,100,0),
(1343800,111,-11421.9,-2895.98,4.98782,0,0,0,0,100,0),
(1343800,112,-11424.4,-2915.34,3.59656,0,0,0,0,100,0),
(1343800,113,-11425.9,-2927.06,3.56432,0,0,0,0,100,0),
(1343800,114,-11428,-2944.31,3.3555,0,0,0,0,100,0),
(1343800,115,-11430.5,-2964.42,3.03477,0,0,0,0,100,0),
(1343800,116,-11439.4,-2975.84,3.7383,0,0,0,0,100,0),
(1343800,117,-11450.9,-2990.67,4.42504,0,0,0,0,100,0),
(1343800,118,-11462.2,-3005.25,4.60708,0,0,0,0,100,0),
(1343800,119,-11463.7,-3019.19,3.59505,0,0,0,0,100,0),
(1343800,120,-11464.9,-3031.11,3.61713,0,0,0,0,100,0),
(1343800,121,-11465.2,-3043.88,1.67074,0,0,0,0,100,0),
(1343800,122,-11473.9,-3055,2.22994,0,0,0,0,100,0),
(1343800,123,-11481.6,-3064.77,1.61777,0,0,0,0,100,0),
(1343800,124,-11475.9,-3082.18,2.603,0,0,0,0,100,0),
(1343800,125,-11468.7,-3104.08,3.9277,0,0,0,0,100,0),
(1343800,126,-11475.6,-3115.28,6.16333,0,0,0,0,100,0),
(1343800,127,-11483.1,-3127.29,7.02215,0,0,0,0,100,0),
(1343800,128,-11500.7,-3130.29,6.24468,0,0,0,0,100,0),
(1343800,129,-11508.7,-3133.81,6.57593,0,0,0,0,100,0),
(1343800,130,-11521.1,-3141.68,5.86613,0,0,0,0,100,0),
(1343800,131,-11526.6,-3151.09,3.83939,0,0,0,0,100,0),
(1343800,132,-11531,-3158.64,5.55847,0,0,0,0,100,0),
(1343800,133,-11540.6,-3174.95,5.03185,0,0,0,0,100,0),
(1343800,134,-11550.6,-3183.18,4.89909,0,0,0,0,100,0),
(1343800,135,-11559.2,-3188.15,8.77993,0,0,0,0,100,0),
(1343800,136,-11571,-3188.47,11.772,0,0,0,0,100,0),
(1343800,137,-11571.2,-3182.18,10.2846,0,0,0,0,100,0),
(1343800,138,-11576.3,-3170.74,4.83658,0,0,0,0,100,0),
(1343800,139,-11581.3,-3160.02,5.57895,0,0,0,0,100,0),
(1343800,140,-11587,-3147.63,4.36948,0,0,0,0,100,0),
(1343800,141,-11591.9,-3137.06,5.80185,0,0,0,0,100,0),
(1343800,142,-11597.9,-3123.12,5.8737,0,0,0,0,100,0),
(1343800,143,-11605.9,-3104.44,7.39205,0,0,0,0,100,0),
(1343800,144,-11612.2,-3089.67,8.39702,0,0,0,0,100,0),
(1343800,145,-11623,-3078.19,9.19631,0,0,0,0,100,0),
(1343800,146,-11633.3,-3067.21,10.5188,0,0,0,0,100,0),
(1343800,147,-11640.6,-3059.38,10.5819,0,0,0,0,100,0),
(1343800,148,-11648.6,-3050.89,10.2593,0,0,0,0,100,0),
(1343800,149,-11655.2,-3039.21,9.31236,0,0,0,0,100,0),
(1343800,150,-11661.6,-3027.83,8.65773,0,0,0,0,100,0),
(1343800,151,-11672.4,-3013.65,8.29189,0,0,0,0,100,0),
(1343800,152,-11683.1,-2999.68,7.70751,0,0,0,0,100,0),
(1343800,153,-11684,-2985.47,7.50239,0,0,0,0,100,0),
(1343800,154,-11685,-2969.51,7.65825,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
