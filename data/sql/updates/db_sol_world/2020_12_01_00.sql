-- DB update 2020_11_30_06 -> 2020_12_01_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_11_30_06';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_11_30_06 2020_12_01_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606779495643473139'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606779495643473139');

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 20433;
UPDATE `creature_addon` SET `path_id` = 204330 WHERE `guid` = 20433;

DELETE FROM `smart_scripts` WHERE `entryorguid` = 5831 AND `source_type` = 0 AND `id` = 1;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(5831,0,1,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Swiftmane - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 204330;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(204330,1,-685.513,-3594.81,91.8542,0,0,1,0,100,0),
(204330,2,-678.674,-3587.96,91.6655,0,0,1,0,100,0),
(204330,3,-671.667,-3580.94,91.6641,0,0,1,0,100,0),
(204330,4,-664.382,-3573.64,91.789,0,0,1,0,100,0),
(204330,5,-659.29,-3565.82,91.6642,0,0,1,0,100,0),
(204330,6,-654.58,-3558.59,91.6642,0,0,1,0,100,0),
(204330,7,-649.281,-3550.45,91.789,0,0,1,0,100,0),
(204330,8,-644.467,-3543.43,91.6642,0,0,1,0,100,0),
(204330,9,-638.326,-3534.48,92.84,0,0,1,0,100,0),
(204330,10,-631.25,-3524.16,93.164,0,0,1,0,100,0),
(204330,11,-625.076,-3517.16,93.2653,0,0,1,0,100,0),
(204330,12,-617.751,-3508.85,94.1712,0,0,1,0,100,0),
(204330,13,-608.157,-3497.97,94.3281,0,0,1,0,100,0),
(204330,14,-604.517,-3488.99,93.4595,0,0,1,0,100,0),
(204330,15,-601.538,-3481.64,93.2064,0,0,1,0,100,0),
(204330,16,-598.635,-3474.48,92.5627,0,0,1,0,100,0),
(204330,17,-595.639,-3465.76,91.9499,0,0,1,0,100,0),
(204330,18,-592.714,-3457.25,91.789,0,0,1,0,100,0),
(204330,19,-585.593,-3450.69,91.6642,0,0,1,0,100,0),
(204330,20,-577.613,-3443.34,91.6642,0,0,1,0,100,0),
(204330,21,-568.124,-3434.6,91.789,0,0,1,0,100,0),
(204330,22,-559.095,-3427.52,91.789,0,0,1,0,100,0),
(204330,23,-550.717,-3430.05,91.8924,0,0,1,0,100,0),
(204330,24,-540.788,-3433.04,92.3515,0,0,1,0,100,0),
(204330,25,-532.917,-3435.41,93.4966,0,0,1,0,100,0),
(204330,26,-527.482,-3439.64,94.4523,0,0,1,0,100,0),
(204330,27,-521.856,-3444.02,94.6973,0,0,1,0,100,0),
(204330,28,-515.53,-3450.53,93.7574,0,0,1,0,100,0),
(204330,29,-508.566,-3457.7,93.4341,0,0,1,0,100,0),
(204330,30,-501.346,-3463.23,93.7827,0,0,1,0,100,0),
(204330,31,-493.592,-3469.16,94.167,0,0,1,0,100,0),
(204330,32,-488.255,-3475.11,93.674,0,0,1,0,100,0),
(204330,33,-481.242,-3482.92,92.3289,0,0,1,0,100,0),
(204330,34,-474.164,-3490.81,93.2984,0,0,1,0,100,0),
(204330,35,-469.561,-3496.98,94.5856,0,0,1,0,100,0),
(204330,36,-462.652,-3506.25,95.7459,0,0,1,0,100,0),
(204330,37,-455.237,-3516.19,95.3331,0,0,1,0,100,0),
(204330,38,-455.326,-3526.46,93.9549,0,0,1,0,100,0),
(204330,39,-455.436,-3539.18,92.8828,0,0,1,0,100,0),
(204330,40,-455.548,-3552.11,91.914,0,0,1,0,100,0),
(204330,41,-459.864,-3558.21,91.6728,0,0,1,0,100,0),
(204330,42,-464.342,-3564.53,91.789,0,0,1,0,100,0),
(204330,43,-471.886,-3570.97,91.6659,0,0,1,0,100,0),
(204330,44,-478.813,-3576.88,92.063,0,0,1,0,100,0),
(204330,45,-488.311,-3584.99,93.3762,0,0,1,0,100,0),
(204330,46,-496.266,-3591.78,93.5876,0,0,1,0,100,0),
(204330,47,-507.957,-3593.29,93.2355,0,0,1,0,100,0),
(204330,48,-519.625,-3594.8,93.7065,0,0,1,0,100,0),
(204330,49,-528.385,-3587.28,93.7583,0,0,1,0,100,0),
(204330,50,-537.209,-3579.71,93.4125,0,0,1,0,100,0),
(204330,51,-538.893,-3569.35,92.7574,0,0,1,0,100,0),
(204330,52,-540.395,-3560.1,93.164,0,0,1,0,100,0),
(204330,53,-542.948,-3550.52,91.7489,0,0,1,0,100,0),
(204330,54,-546.26,-3538.08,91.789,0,0,1,0,100,0),
(204330,55,-543.981,-3527.59,91.6643,0,0,1,0,100,0),
(204330,56,-541.695,-3517.06,91.789,0,0,1,0,100,0),
(204330,57,-542.524,-3508.35,91.6642,0,0,1,0,100,0),
(204330,58,-543.428,-3498.84,92.1334,0,0,1,0,100,0),
(204330,59,-544.309,-3489.59,92.9094,0,0,1,0,100,0),
(204330,60,-549.362,-3479.99,92.6045,0,0,1,0,100,0),
(204330,61,-554.641,-3469.96,92.9621,0,0,1,0,100,0),
(204330,62,-560.703,-3462.56,92.3961,0,0,1,0,100,0),
(204330,63,-567.257,-3454.55,92.2805,0,0,1,0,100,0),
(204330,64,-575.594,-3447.25,91.7247,0,0,1,0,100,0),
(204330,65,-583.176,-3440.61,91.789,0,0,1,0,100,0),
(204330,66,-591.666,-3436.2,91.664,0,0,1,0,100,0),
(204330,67,-601.774,-3430.94,91.789,0,0,1,0,100,0),
(204330,68,-611.606,-3432.25,91.6652,0,0,1,0,100,0),
(204330,69,-623.082,-3433.78,91.789,0,0,1,0,100,0),
(204330,70,-631.128,-3441.58,92.1598,0,0,1,0,100,0),
(204330,71,-639.502,-3449.7,93.8133,0,0,1,0,100,0),
(204330,72,-643.54,-3458.05,94.9142,0,0,1,0,100,0),
(204330,73,-647.555,-3466.35,95.1935,0,0,1,0,100,0),
(204330,74,-652.568,-3476.71,93.8199,0,0,1,0,100,0),
(204330,75,-651.641,-3487.99,92.2107,0,0,1,0,100,0),
(204330,76,-650.802,-3498.19,91.8199,0,0,1,0,100,0),
(204330,77,-656.876,-3505.58,91.6648,0,0,1,0,100,0),
(204330,78,-663.394,-3513.52,91.6648,0,0,1,0,100,0),
(204330,79,-671.141,-3522.95,91.8839,0,0,1,0,100,0),
(204330,80,-679.182,-3527.2,91.8488,0,0,1,0,100,0),
(204330,81,-687.953,-3531.83,92.135,0,0,1,0,100,0),
(204330,82,-698.236,-3537.26,92.664,0,0,1,0,100,0),
(204330,83,-706.386,-3542.91,93.2927,0,0,1,0,100,0),
(204330,84,-714.682,-3548.67,93.914,0,0,1,0,100,0),
(204330,85,-716.466,-3555.55,93.4067,0,0,1,0,100,0),
(204330,86,-718.461,-3563.25,92.414,0,0,1,0,100,0),
(204330,87,-717.132,-3571.9,91.8463,0,0,1,0,100,0),
(204330,88,-715.575,-3582.03,92.3202,0,0,1,0,100,0),
(204330,89,-708.617,-3588.25,93.0926,0,0,1,0,100,0),
(204330,90,-702.322,-3593.87,93.8325,0,0,1,0,100,0),
(204330,91,-693.704,-3594.35,92.8042,0,0,1,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
