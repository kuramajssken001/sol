-- DB update 2020_12_02_03 -> 2020_12_02_04
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_02_03';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_02_03 2020_12_02_04 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606909472575673616'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606909472575673616');

UPDATE `creature_template` SET `speed_walk` = 1.1 WHERE `entry` = 10827;

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 86755;

DELETE FROM `creature_addon` WHERE `guid` = 86755;
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `isLarge`, `auras`)
VALUES
(86755,867550,0,0,1,0,0,NULL);

DELETE FROM `smart_scripts` WHERE `entryorguid` = 10827 AND `source_type` = 0 AND `id` = 3;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(10827,0,3,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Deathspeaker Selendre - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 867550;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(867550,1,2631.4,-5500.92,158.014,0,0,0,0,100,0),
(867550,2,2633.53,-5512.31,158.266,0,0,0,0,100,0),
(867550,3,2635.61,-5520.09,158.447,0,0,0,0,100,0),
(867550,4,2638.08,-5529.33,158.514,0,0,0,0,100,0),
(867550,5,2641.01,-5540.31,159.216,0,0,0,0,100,0),
(867550,6,2647.08,-5546.29,159.406,0,0,0,0,100,0),
(867550,7,2653.46,-5552.56,159.34,0,0,0,0,100,0),
(867550,8,2661.16,-5552.4,159.786,0,0,0,0,100,0),
(867550,9,2668.72,-5552.25,160.452,0,0,0,0,100,0),
(867550,10,2673.92,-5545.36,160.774,0,0,0,0,100,0),
(867550,11,2679.62,-5537.82,160.818,0,0,0,0,100,0),
(867550,12,2681.67,-5528.28,159.939,0,0,0,0,100,0),
(867550,13,2683.71,-5518.79,159.878,0,0,0,0,100,0),
(867550,14,2689.66,-5514.88,159.074,0,0,0,0,100,0),
(867550,15,2695.21,-5511.24,158.123,0,0,0,0,100,0),
(867550,16,2699.36,-5505.59,157.395,0,0,0,0,100,0),
(867550,17,2704.09,-5499.15,157.063,0,0,0,0,100,0),
(867550,18,2705.43,-5491.22,157.048,0,0,0,0,100,0),
(867550,19,2706.71,-5483.63,157.074,0,0,0,0,100,0),
(867550,20,2708.13,-5475.21,156.953,0,0,0,0,100,0),
(867550,21,2715.17,-5471.78,157.2,0,0,0,0,100,0),
(867550,22,2722.61,-5468.16,157.38,0,0,0,0,100,0),
(867550,23,2731.05,-5464.05,157.015,0,0,0,0,100,0),
(867550,24,2731.36,-5469.4,157.76,0,0,0,0,100,0),
(867550,25,2731.67,-5474.88,159.636,0,0,0,0,100,0),
(867550,26,2731.99,-5480.38,161.471,0,0,0,0,100,0),
(867550,27,2732.43,-5485.49,162.01,0,0,0,0,100,0),
(867550,28,2732.98,-5491.9,162.069,0,0,0,0,100,0),
(867550,29,2735.98,-5495.37,162.07,0,0,0,0,100,0),
(867550,30,2738.5,-5498.29,164.432,0,0,0,0,100,0),
(867550,31,2740.72,-5500.84,166.418,0,0,0,0,100,0),
(867550,32,2745.4,-5506.19,166.421,0,0,0,0,100,0),
(867550,33,2748.96,-5510.25,166.428,0,0,0,0,100,0),
(867550,34,2752.34,-5508.96,166.428,0,0,0,0,100,0),
(867550,35,2754.52,-5508.12,165.928,0,0,0,0,100,0),
(867550,36,2757.52,-5509.1,164.573,0,0,0,0,100,0),
(867550,37,2758.95,-5511.08,163.551,0,0,0,0,100,0),
(867550,38,2758.95,-5513.17,163.038,0,0,0,0,100,0),
(867550,39,2757.31,-5515.4,161.742,0,0,0,0,100,0),
(867550,40,2755.42,-5517.98,161.743,0,0,0,0,100,0),
(867550,41,2759.76,-5522.86,161.737,0,0,0,0,100,0),
(867550,42,2762.02,-5525.39,161.737,0,0,0,0,100,0),
(867550,43,2769.75,-5524.21,161.737,0,0,0,0,100,0),
(867550,44,2776.09,-5530.58,161.737,0,0,0,0,100,0),
(867550,45,2770.7,-5535.4,161.737,0,0,0,0,100,0),
(867550,46,2766.78,-5538.91,161.737,0,0,0,0,100,0),
(867550,47,2762.42,-5537.22,161.737,0,0,0,0,100,0),
(867550,48,2759.18,-5531.55,161.737,0,0,0,0,100,0),
(867550,49,2761.79,-5526.45,161.737,0,0,0,0,100,0),
(867550,50,2759.07,-5522.23,161.737,0,0,0,0,100,0),
(867550,51,2755.78,-5518.92,161.74,0,0,0,0,100,0),
(867550,52,2752.14,-5520.51,161.74,0,0,0,0,100,0),
(867550,53,2749.79,-5521.54,163.08,0,0,0,0,100,0),
(867550,54,2745.88,-5520.01,164.442,0,0,0,0,100,0),
(867550,55,2745.74,-5516.86,165.591,0,0,0,0,100,0),
(867550,56,2746.29,-5515.2,166.298,0,0,0,0,100,0),
(867550,57,2747.52,-5513.7,166.429,0,0,0,0,100,0),
(867550,58,2748.89,-5512.05,166.43,0,0,0,0,100,0),
(867550,59,2745.66,-5508.06,166.425,0,0,0,0,100,0),
(867550,60,2740.13,-5501.24,166.418,0,0,0,0,100,0),
(867550,61,2737.65,-5498.29,164.057,0,0,0,0,100,0),
(867550,62,2735.51,-5495.75,162.07,0,0,0,0,100,0),
(867550,63,2734.43,-5494.47,162.071,0,0,0,0,100,0),
(867550,64,2729.2,-5488.66,162.054,0,0,0,0,100,0),
(867550,65,2724.37,-5483.28,161.458,0,0,0,0,100,0),
(867550,66,2720.01,-5478.74,159.614,0,0,0,0,100,0),
(867550,67,2715.31,-5473.85,157.477,0,0,0,0,100,0),
(867550,68,2711.99,-5470.39,156.963,0,0,0,0,100,0),
(867550,69,2707.06,-5465.26,156.945,0,0,0,0,100,0),
(867550,70,2702.21,-5460.21,157.012,0,0,0,0,100,0),
(867550,71,2695.27,-5458.19,156.929,0,0,0,0,100,0),
(867550,72,2688.36,-5456.17,157.155,0,0,0,0,100,0),
(867550,73,2679.5,-5456.5,157.178,0,0,0,0,100,0),
(867550,74,2669.61,-5456.86,156.929,0,0,0,0,100,0),
(867550,75,2665.11,-5451.05,156.927,0,0,0,0,100,0),
(867550,76,2660.04,-5444.49,156.926,0,0,0,0,100,0),
(867550,77,2656.98,-5438.13,156.926,0,0,0,0,100,0),
(867550,78,2654,-5431.92,156.992,0,0,0,0,100,0),
(867550,79,2650.58,-5424.81,157.095,0,0,0,0,100,0),
(867550,80,2653.58,-5416.34,157.917,0,0,0,0,100,0),
(867550,81,2656.66,-5407.65,158.167,0,0,0,0,100,0),
(867550,82,2664.53,-5402.84,157.263,0,0,0,0,100,0),
(867550,83,2672.4,-5398.03,157.001,0,0,0,0,100,0),
(867550,84,2678.17,-5391.94,157.025,0,0,0,0,100,0),
(867550,85,2685.95,-5383.72,157.282,0,0,0,0,100,0),
(867550,86,2695.58,-5373.55,157.803,0,0,0,0,100,0),
(867550,87,2700.63,-5373.8,158.022,0,0,0,0,100,0),
(867550,88,2708.31,-5374.19,157.85,0,0,0,0,100,0),
(867550,89,2716.71,-5374.6,157.545,0,0,0,0,100,0),
(867550,90,2725.65,-5375.05,157.781,0,0,0,0,100,0),
(867550,91,2733.12,-5375.12,157.657,0,0,0,0,100,0),
(867550,92,2741.76,-5375.21,157.155,0,0,0,0,100,0),
(867550,93,2751.57,-5375.31,156.949,0,0,0,0,100,0),
(867550,94,2760.49,-5379.37,157.079,0,0,0,0,100,0),
(867550,95,2771.12,-5384.22,157.482,0,0,0,0,100,0),
(867550,96,2775.65,-5389.33,158.078,0,0,0,0,100,0),
(867550,97,2780.06,-5394.3,159.319,0,0,0,0,100,0),
(867550,98,2784.59,-5399.42,160.854,0,0,0,0,100,0),
(867550,99,2791.32,-5398.77,162.014,0,0,0,0,100,0),
(867550,100,2797.84,-5398.13,162.834,0,0,0,0,100,0),
(867550,101,2802.88,-5402.28,163.129,0,0,0,0,100,0),
(867550,102,2808.66,-5407.03,162.822,0,0,0,0,100,0),
(867550,103,2811.65,-5412.31,161.972,0,0,0,0,100,0),
(867550,104,2814.93,-5418.1,160.679,0,0,0,0,100,0),
(867550,105,2811.81,-5426.03,159.751,0,0,0,0,100,0),
(867550,106,2808.52,-5434.4,158.947,0,0,0,0,100,0),
(867550,107,2804.52,-5438.8,159.446,0,0,0,0,100,0),
(867550,108,2800.35,-5443.37,160.072,0,0,0,0,100,0),
(867550,109,2796.89,-5447.17,160.524,0,0,0,0,100,0),
(867550,110,2789.89,-5448.99,161.183,0,0,0,0,100,0),
(867550,111,2783.1,-5450.75,161.02,0,0,0,0,100,0),
(867550,112,2775.99,-5452.6,159.912,0,0,0,0,100,0),
(867550,113,2768.08,-5454.65,158.574,0,0,0,0,100,0),
(867550,114,2760.18,-5456.7,157.589,0,0,0,0,100,0),
(867550,115,2752.6,-5458.67,157,0,0,0,0,100,0),
(867550,116,2746.16,-5457.61,156.945,0,0,0,0,100,0),
(867550,117,2738.31,-5456.31,156.946,0,0,0,0,100,0),
(867550,118,2731.46,-5459.3,156.945,0,0,0,0,100,0),
(867550,119,2725.15,-5462.05,156.962,0,0,0,0,100,0),
(867550,120,2720.99,-5466.15,157.095,0,0,0,0,100,0),
(867550,121,2716.51,-5470.57,157.236,0,0,0,0,100,0),
(867550,122,2711.18,-5475.83,157.095,0,0,0,0,100,0),
(867550,123,2704.19,-5475.37,156.945,0,0,0,0,100,0),
(867550,124,2695.46,-5474.8,156.946,0,0,0,0,100,0),
(867550,125,2685.64,-5474.16,156.989,0,0,0,0,100,0),
(867550,126,2681.13,-5467.77,156.946,0,0,0,0,100,0),
(867550,127,2675.55,-5459.86,156.938,0,0,0,0,100,0),
(867550,128,2669.68,-5451.54,157.027,0,0,0,0,100,0),
(867550,129,2663.04,-5450.89,156.927,0,0,0,0,100,0),
(867550,130,2655.49,-5450.15,156.927,0,0,0,0,100,0),
(867550,131,2645.86,-5449.2,156.941,0,0,0,0,100,0),
(867550,132,2639.87,-5455.26,157.051,0,0,0,0,100,0),
(867550,133,2632.98,-5462.23,157.103,0,0,0,0,100,0),
(867550,134,2630.68,-5469.45,156.988,0,0,0,0,100,0),
(867550,135,2628.66,-5475.79,156.971,0,0,0,0,100,0),
(867550,136,2626.28,-5483.26,157.083,0,0,0,0,100,0),
(867550,137,2621.63,-5488.49,156.953,0,0,0,0,100,0),
(867550,138,2616.9,-5493.82,157.194,0,0,0,0,100,0),
(867550,139,2616.64,-5499.41,157.639,0,0,0,0,100,0),
(867550,140,2616.39,-5504.67,158.186,0,0,0,0,100,0),
(867550,141,2624.54,-5502.63,157.825,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
