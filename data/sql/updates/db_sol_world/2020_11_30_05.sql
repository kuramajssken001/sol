-- DB update 2020_11_30_04 -> 2020_11_30_05
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_11_30_04';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_11_30_04 2020_11_30_05 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606774524219538401'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606774524219538401');

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 26908;
UPDATE `creature_addon` SET `path_id` = 269080 WHERE `guid` = 26908;

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 3068;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 3068 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(3068,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Mazzranache - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 269080;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(269080,1,-1722.14,-550.386,-14.7598,0,0,0,0,100,0),
(269080,2,-1717.01,-556.182,-15.9721,0,0,0,0,100,0),
(269080,3,-1711.44,-562.471,-17.515,0,0,0,0,100,0),
(269080,4,-1705.61,-569.055,-19.4067,0,0,0,0,100,0),
(269080,5,-1698.49,-575.955,-21.5985,0,0,0,0,100,0),
(269080,6,-1690.95,-583.269,-23.6129,0,0,0,0,100,0),
(269080,7,-1682.04,-591.91,-25.4708,0,0,0,0,100,0),
(269080,8,-1672.9,-597.528,-27.3024,0,0,0,0,100,0),
(269080,9,-1662.63,-603.838,-30.1185,0,0,0,0,100,0),
(269080,10,-1651.76,-605.419,-33.2537,0,0,0,0,100,0),
(269080,11,-1639.97,-607.133,-35.8754,0,0,0,0,100,0),
(269080,12,-1628.68,-609.993,-38.62,0,0,0,0,100,0),
(269080,13,-1616.22,-613.15,-42.4359,0,0,0,0,100,0),
(269080,14,-1606.04,-615.729,-45.3198,0,0,0,0,100,0),
(269080,15,-1595.86,-618.308,-47.3956,0,0,0,0,100,0),
(269080,16,-1586.1,-617.563,-49.2439,0,0,0,0,100,0),
(269080,17,-1574.93,-616.712,-51.7647,0,0,0,0,100,0),
(269080,18,-1567.48,-613.358,-53.5098,0,0,0,0,100,0),
(269080,19,-1559.5,-609.765,-54.7041,0,0,0,0,100,0),
(269080,20,-1550.95,-605.914,-55.6474,0,0,0,0,100,0),
(269080,21,-1544.8,-601.487,-56.0051,0,0,0,0,100,0),
(269080,22,-1537.55,-596.276,-56.3861,0,0,0,0,100,0),
(269080,23,-1532.89,-586.289,-56.2095,0,0,0,0,100,0),
(269080,24,-1532.59,-576.137,-55.798,0,0,0,0,100,0),
(269080,25,-1532.3,-566.583,-55.7341,0,0,0,0,100,0),
(269080,26,-1533.46,-558.737,-55.5895,0,0,0,0,100,0),
(269080,27,-1534.8,-549.616,-55.4943,0,0,0,0,100,0),
(269080,28,-1536.28,-539.553,-55.2342,0,0,0,0,100,0),
(269080,29,-1534.64,-531.072,-54.8487,0,0,0,0,100,0),
(269080,30,-1533.07,-522.97,-54.4489,0,0,0,0,100,0),
(269080,31,-1528.01,-514.849,-54.2299,0,0,0,0,100,0),
(269080,32,-1522.68,-506.3,-54.3973,0,0,0,0,100,0),
(269080,33,-1521.06,-496.636,-53.677,0,0,0,0,100,0),
(269080,34,-1519.62,-488.083,-52.5074,0,0,0,0,100,0),
(269080,35,-1521.9,-477.595,-50.6572,0,0,0,0,100,0),
(269080,36,-1524.13,-467.337,-48.9335,0,0,0,0,100,0),
(269080,37,-1524.72,-458.375,-47.7572,0,0,0,0,100,0),
(269080,38,-1525.36,-448.589,-46.6765,0,0,0,0,100,0),
(269080,39,-1526.1,-437.407,-45.9617,0,0,0,0,100,0),
(269080,40,-1526.95,-424.435,-45.2492,0,0,0,0,100,0),
(269080,41,-1528.44,-415.305,-44.7877,0,0,0,0,100,0),
(269080,42,-1529.86,-406.556,-44.2808,0,0,0,0,100,0),
(269080,43,-1531.14,-398.722,-43.8176,0,0,0,0,100,0),
(269080,44,-1533.78,-390.545,-43.4397,0,0,0,0,100,0),
(269080,45,-1536.37,-382.552,-43.2072,0,0,0,0,100,0),
(269080,46,-1538.91,-374.683,-42.8131,0,0,0,0,100,0),
(269080,47,-1540.91,-368.464,-41.986,0,0,0,0,100,0),
(269080,48,-1543.22,-361.239,-40.6008,0,0,0,0,100,0),
(269080,49,-1545.47,-354.239,-39.0446,0,0,0,0,100,0),
(269080,50,-1549.12,-345.137,-37.3025,0,0,0,0,100,0),
(269080,51,-1552.81,-335.938,-35.917,0,0,0,0,100,0),
(269080,52,-1556.61,-329.518,-34.7049,0,0,0,0,100,0),
(269080,53,-1561.49,-321.29,-32.9503,0,0,0,0,100,0),
(269080,54,-1566.63,-312.613,-31.0947,0,0,0,0,100,0),
(269080,55,-1575.35,-304.506,-29.0249,0,0,0,0,100,0),
(269080,56,-1584.27,-296.213,-27.3011,0,0,0,0,100,0),
(269080,57,-1590.53,-287.633,-25.644,0,0,0,0,100,0),
(269080,58,-1597.27,-278.386,-23.4966,0,0,0,0,100,0),
(269080,59,-1601.09,-272.521,-22.0083,0,0,0,0,100,0),
(269080,60,-1605.61,-265.576,-20.3573,0,0,0,0,100,0),
(269080,61,-1610.64,-257.862,-19.3983,0,0,0,0,100,0),
(269080,62,-1613.67,-251.722,-19.2323,0,0,0,0,100,0),
(269080,63,-1617.48,-243.98,-19.1822,0,0,0,0,100,0),
(269080,64,-1621,-236.845,-18.9327,0,0,0,0,100,0),
(269080,65,-1625.31,-228.57,-18.4101,0,0,0,0,100,0),
(269080,66,-1630.7,-218.222,-17.6003,0,0,0,0,100,0),
(269080,67,-1636.78,-206.561,-16.684,0,0,0,0,100,0),
(269080,68,-1639.97,-198.541,-15.6134,0,0,0,0,100,0),
(269080,69,-1644.02,-188.349,-13.9554,0,0,0,0,100,0),
(269080,70,-1648.04,-178.252,-12.0433,0,0,0,0,100,0),
(269080,71,-1651.78,-166.713,-10.542,0,0,0,0,100,0),
(269080,72,-1656.17,-153.199,-9.43765,0,0,0,0,100,0),
(269080,73,-1656.67,-145.283,-9.0649,0,0,0,0,100,0),
(269080,74,-1657.24,-136.089,-8.74891,0,0,0,0,100,0),
(269080,75,-1657.82,-126.837,-8.72994,0,0,0,0,100,0),
(269080,76,-1660.91,-118.522,-8.45346,0,0,0,0,100,0),
(269080,77,-1665.01,-107.477,-8.34503,0,0,0,0,100,0),
(269080,78,-1668.55,-97.9253,-8.34947,0,0,0,0,100,0),
(269080,79,-1672.09,-92.2936,-8.36355,0,0,0,0,100,0),
(269080,80,-1676.55,-85.1799,-8.69354,0,0,0,0,100,0),
(269080,81,-1681.95,-76.5867,-9.11107,0,0,0,0,100,0),
(269080,82,-1686.89,-71.468,-8.8437,0,0,0,0,100,0),
(269080,83,-1693.28,-64.8373,-7.91865,0,0,0,0,100,0),
(269080,84,-1700.51,-57.342,-5.64828,0,0,0,0,100,0),
(269080,85,-1705.92,-54.599,-4.01865,0,0,0,0,100,0),
(269080,86,-1712.47,-51.2732,-2.79811,0,0,0,0,100,0),
(269080,87,-1719.51,-47.7012,-2.54774,0,0,0,0,100,0),
(269080,88,-1726.52,-47.3632,-2.72204,0,0,0,0,100,0),
(269080,89,-1738.29,-46.7951,-3.99376,0,0,0,0,100,0),
(269080,90,-1747.72,-46.3402,-5.4005,0,0,0,0,100,0),
(269080,91,-1756.14,-47.6132,-6.57962,0,0,0,0,100,0),
(269080,92,-1764.33,-48.8507,-7.21251,0,0,0,0,100,0),
(269080,93,-1772.79,-50.129,-7.08613,0,0,0,0,100,0),
(269080,94,-1780.23,-52.533,-6.74719,0,0,0,0,100,0),
(269080,95,-1788.78,-55.2942,-6.0965,0,0,0,0,100,0),
(269080,96,-1798.4,-58.4037,-5.76034,0,0,0,0,100,0),
(269080,97,-1805.08,-64.4152,-6.5316,0,0,0,0,100,0),
(269080,98,-1811.88,-70.5313,-7.68982,0,0,0,0,100,0),
(269080,99,-1814.75,-78.0528,-8.65704,0,0,0,0,100,0),
(269080,100,-1817.74,-85.9079,-9.21183,0,0,0,0,100,0),
(269080,101,-1820.73,-93.7355,-9.2501,0,0,0,0,100,0),
(269080,102,-1821.41,-102.925,-8.77706,0,0,0,0,100,0),
(269080,103,-1822.1,-112.172,-8.20732,0,0,0,0,100,0),
(269080,104,-1828.19,-117.784,-8.61399,0,0,0,0,100,0),
(269080,105,-1834.29,-123.408,-9.03176,0,0,0,0,100,0),
(269080,106,-1842.6,-126.481,-9.18868,0,0,0,0,100,0),
(269080,107,-1851.19,-129.656,-8.52712,0,0,0,0,100,0),
(269080,108,-1858.87,-133.051,-7.74185,0,0,0,0,100,0),
(269080,109,-1867.92,-137.048,-6.59658,0,0,0,0,100,0),
(269080,110,-1872.66,-143.405,-6.10054,0,0,0,0,100,0),
(269080,111,-1878.32,-150.986,-5.8911,0,0,0,0,100,0),
(269080,112,-1881.01,-157.448,-5.95497,0,0,0,0,100,0),
(269080,113,-1884.2,-165.092,-6.11644,0,0,0,0,100,0),
(269080,114,-1887.57,-173.195,-6.12971,0,0,0,0,100,0),
(269080,115,-1888.5,-185.171,-7.39546,0,0,0,0,100,0),
(269080,116,-1889.37,-196.466,-8.58793,0,0,0,0,100,0),
(269080,117,-1886.49,-207.896,-9.26646,0,0,0,0,100,0),
(269080,118,-1883.97,-217.889,-9.40669,0,0,0,0,100,0),
(269080,119,-1881.77,-225.625,-9.42738,0,0,0,0,100,0),
(269080,120,-1879.25,-234.485,-9.45649,0,0,0,0,100,0),
(269080,121,-1876.46,-244.283,-9.555,0,0,0,0,100,0),
(269080,122,-1872.81,-250.93,-9.32368,0,0,0,0,100,0),
(269080,123,-1868.55,-258.706,-8.46795,0,0,0,0,100,0),
(269080,124,-1864.45,-266.181,-7.23699,0,0,0,0,100,0),
(269080,125,-1860.46,-271.642,-6.27348,0,0,0,0,100,0),
(269080,126,-1856.13,-277.578,-5.33743,0,0,0,0,100,0),
(269080,127,-1850.99,-284.616,-4.7108,0,0,0,0,100,0),
(269080,128,-1845.54,-289.73,-4.80104,0,0,0,0,100,0),
(269080,129,-1838.48,-296.353,-5.59944,0,0,0,0,100,0),
(269080,130,-1830.57,-303.767,-6.94358,0,0,0,0,100,0),
(269080,131,-1823.26,-310.622,-8.18045,0,0,0,0,100,0),
(269080,132,-1815.14,-318.23,-9.07484,0,0,0,0,100,0),
(269080,133,-1807.85,-327.492,-9.32209,0,0,0,0,100,0),
(269080,134,-1800.89,-336.331,-9.26187,0,0,0,0,100,0),
(269080,135,-1796.06,-341.549,-9.32716,0,0,0,0,100,0),
(269080,136,-1789.56,-348.571,-9.37314,0,0,0,0,100,0),
(269080,137,-1782.61,-356.073,-9.42632,0,0,0,0,100,0),
(269080,138,-1776.35,-361.49,-9.59045,0,0,0,0,100,0),
(269080,139,-1769.9,-367.062,-10.2422,0,0,0,0,100,0),
(269080,140,-1763.2,-372.858,-11.4477,0,0,0,0,100,0),
(269080,141,-1756.99,-378.227,-12.8384,0,0,0,0,100,0),
(269080,142,-1753.04,-386.301,-14.6085,0,0,0,0,100,0),
(269080,143,-1749.25,-394.053,-16.1049,0,0,0,0,100,0),
(269080,144,-1745.2,-402.325,-16.7898,0,0,0,0,100,0),
(269080,145,-1742.89,-413.518,-15.7831,0,0,0,0,100,0),
(269080,146,-1740.74,-423.93,-14.3259,0,0,0,0,100,0),
(269080,147,-1736.99,-430.248,-13.6156,0,0,0,0,100,0),
(269080,148,-1732.77,-437.371,-12.468,0,0,0,0,100,0),
(269080,149,-1728.19,-445.096,-11.6524,0,0,0,0,100,0),
(269080,150,-1723.81,-452.481,-10.9682,0,0,0,0,100,0),
(269080,151,-1715.53,-457.058,-10.6387,0,0,0,0,100,0),
(269080,152,-1706.64,-461.978,-10.5846,0,0,0,0,100,0),
(269080,153,-1704.75,-468.595,-10.1388,0,0,0,0,100,0),
(269080,154,-1702.87,-475.212,-10.1406,0,0,0,0,100,0),
(269080,155,-1701.38,-480.422,-10.4956,0,0,0,0,100,0),
(269080,156,-1703.44,-487.112,-10.8019,0,0,0,0,100,0),
(269080,157,-1706.7,-497.709,-11.8215,0,0,0,0,100,0),
(269080,158,-1709.83,-507.869,-12.8309,0,0,0,0,100,0),
(269080,159,-1715.27,-513.652,-13.47,0,0,0,0,100,0),
(269080,160,-1721.82,-520.618,-14.0096,0,0,0,0,100,0),
(269080,161,-1729.44,-528.724,-13.8673,0,0,0,0,100,0),
(269080,162,-1730.52,-535.279,-13.8601,0,0,0,0,100,0),
(269080,163,-1731.65,-542.165,-13.1692,0,0,0,0,100,0),
(269080,164,-1726.53,-546.587,-13.9153,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
