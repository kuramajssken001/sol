-- DB update 2022_03_28_09 -> 2022_03_29_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2022_03_28_09';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2022_03_28_09 2022_03_29_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1648537814133781744'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1648537814133781744');

DELETE FROM `creature` WHERE `guid` BETWEEN 285020 AND 285040;
INSERT INTO `creature` (`guid`, `id`, `map`, `zoneId`, `areaId`, `spawnMask`, `phaseMask`, `modelid`, `equipment_id`, `position_x`, `position_y`, `position_z`, `orientation`, `spawntimesecs`, `wander_distance`, `curhealth`, `curmana`, `MovementType`, `npcflag`, `unit_flags`, `dynamicflags`, `VerifiedBuild`)
VALUES
(285020,12998,0,0,0,1,1,0,0,-1853.19,-4122.06,11.1314,4.76928,60,0,1,0,2,0,0,0,0),
(285021,12998,0,0,0,1,1,0,0,-1853.49,-4091.65,9.81663,4.70644,60,0,1,0,0,0,0,0,0),
(285022,2098,0,0,0,1,1,0,0,-1813.51,-4155.14,9.89494,1.82635,60,0,1,0,0,0,0,0,0),
(285023,2098,0,0,0,1,1,0,0,-1818.03,-4142.99,9.89494,4.68913,60,0,1,0,0,0,0,0,0),
(285024,6368,0,0,0,1,1,0,0,-1855.72,-4117.62,13.0457,5.2373,60,0,1,0,0,0,0,0,0),
(285025,6368,0,0,0,1,1,0,0,-1839.99,-4245.72,2.13572,1.15007,60,0,1,0,0,0,0,0,0),
(285026,4075,0,0,0,1,1,0,0,-1818.5,-4149.38,9.89524,0.0426621,60,5,1,0,1,0,0,0,0),
(285027,4075,0,0,0,1,1,0,0,-1853.79,-4149.49,9.74445,5.99991,60,5,1,0,1,0,0,0,0),
(285028,4075,0,0,0,1,1,0,0,-1832.93,-4231.47,2.13493,4.15422,60,5,1,0,1,0,0,0,0),
(285029,4075,0,0,0,1,1,0,0,-1765.09,-4228.05,2.06121,3.92646,60,5,1,0,1,0,0,0,0),
(285030,4075,0,0,0,1,1,0,0,-1685.3,-4200.7,1.99848,0.324622,60,5,1,0,1,0,0,0,0),
(285031,4075,0,0,0,1,1,0,0,-1720.4,-4190.35,1.99845,2.78763,60,5,1,0,1,0,0,0,0),
(285032,4075,0,0,0,1,1,0,0,-1953.66,-4080.47,2.03243,1.65973,60,5,1,0,1,0,0,0,0),
(285033,4075,0,0,0,1,1,0,0,-1981,-4082.81,2.06496,2.00923,60,5,1,0,1,0,0,0,0),
(285034,4075,0,0,0,1,1,0,0,-1952.94,-4118.76,2.0329,5.26471,60,5,1,0,1,0,0,0,0),
(285035,4075,0,0,0,1,1,0,0,-1933.78,-4107.02,2.0329,5.249,60,5,1,0,1,0,0,0,0),
(285036,4075,0,0,0,1,1,0,0,-1898.76,-4155.48,2.0329,6.10665,60,5,1,0,1,0,0,0,0),
(285037,4075,0,0,0,1,1,0,0,-1773.96,-4198.48,1.99868,5.41943,60,5,1,0,1,0,0,0,0),
(285038,4075,0,0,0,1,1,0,0,-1748.44,-4205.78,1.99868,5.91973,60,5,1,0,1,0,0,0,0),
(285039,4075,0,0,0,1,1,0,0,-1702.71,-4252.72,1.99827,2.49775,60,5,1,0,1,0,0,0,0),
(285040,4075,0,0,0,1,1,0,0,-1728.17,-4279.38,1.99826,4.70708,60,5,1,0,1,0,0,0,0);

DELETE FROM `creature_addon` WHERE `guid` IN (285020,285021,285024,285025);
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `isLarge`, `auras`)
VALUES
(285020,2850200,0,0,0,0,0,NULL),
(285021,0,0,3,0,0,0,NULL),
(285024,0,0,1,0,0,0,NULL),
(285025,0,0,1,0,0,0,NULL);

DELETE FROM `waypoint_data` WHERE `id` = 2850200;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `pathfinding`, `action`, `action_chance`, `wpguid`)
VALUES
(2850200,1,-1853.19,-4122.06,11.1314,4.86894,5000,0,0,0,100,0),
(2850200,2,-1852.8,-4131.15,11.0291,0,0,0,0,0,100,0),
(2850200,3,-1852.34,-4141.88,10.5231,0,0,0,0,0,100,0),
(2850200,4,-1852.08,-4147.79,9.98666,0,0,0,0,0,100,0),
(2850200,5,-1845.17,-4148.14,10.1934,0,0,0,0,0,100,0),
(2850200,6,-1838.53,-4148.47,10.9905,0,5000,0,0,0,100,0),
(2850200,7,-1845.17,-4148.14,10.1934,0,0,0,0,0,100,0),
(2850200,8,-1852.08,-4147.79,9.98666,0,0,0,0,0,100,0),
(2850200,9,-1851.79,-4154.55,9.02879,0,0,0,0,0,100,0),
(2850200,10,-1851.5,-4161.39,8.04249,0,0,0,0,0,100,0),
(2850200,11,-1849.24,-4170.83,6.40207,0,0,0,0,0,100,0),
(2850200,12,-1843.77,-4176.64,5.1934,0,0,0,0,0,100,0),
(2850200,13,-1835.25,-4182.99,4.04941,0,0,0,0,0,100,0),
(2850200,14,-1827.66,-4188.65,3.62407,0,0,0,0,0,100,0),
(2850200,15,-1821.43,-4200.03,3.37228,4.26029,5000,0,0,0,100,0),
(2850200,16,-1827.66,-4188.65,3.62398,0,0,0,0,0,100,0),
(2850200,17,-1835.25,-4182.99,4.04941,0,0,0,0,0,100,0),
(2850200,18,-1843.77,-4176.64,5.1934,0,0,0,0,0,100,0),
(2850200,19,-1849.24,-4170.83,6.40207,0,0,0,0,0,100,0),
(2850200,20,-1851.5,-4161.39,8.04249,0,0,0,0,0,100,0),
(2850200,21,-1851.79,-4154.55,9.02879,0,0,0,0,0,100,0),
(2850200,22,-1852.08,-4147.79,9.98666,0,0,0,0,0,100,0),
(2850200,23,-1852.34,-4141.88,10.5231,0,0,0,0,0,100,0),
(2850200,24,-1852.8,-4131.15,11.0291,0,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
