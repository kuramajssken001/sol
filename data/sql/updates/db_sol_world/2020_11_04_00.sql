-- DB update 2020_11_03_02 -> 2020_11_04_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_11_03_02';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_11_03_02 2020_11_04_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1604446428654417630'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1604446428654417630');

UPDATE `creature` SET `id` = 28112, `modelid` = 25157, `equipment_id` = 0, `curhealth` = 4552, `curmana` = 8313 WHERE `guid` IN (112580,112587,112596);
UPDATE `creature` SET `id` = 28111, `modelid` = 22607, `equipment_id` = 0 WHERE `guid` IN (112508,112480,112505);

UPDATE `creature` SET `wander_distance` = 5, `MovementType` = 1, `spawntimesecs` = 30 WHERE `guid` IN (
112505, 112506, 112507, 112603, 112604, 112605, 115328, 115346, 115378, 115379, 115561, 112451, 112457, 112458,
112463, 112466, 112467, 112504, 112508, 112509, 112510, 112576, 112578, 112580, 112583, 112588, 112602, 112607,
115317, 115320, 115348, 115352, 115355, 115357, 115365, 115366, 115367, 115376, 115377, 115539, 115560, 115349,
115350, 112494, 115344, 115343, 112502, 115332, 115333, 112600, 112598, 115550, 112496, 115359, 112495, 112596);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
