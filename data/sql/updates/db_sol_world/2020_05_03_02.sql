-- DB update 2020_05_03_01 -> 2020_05_03_02
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_05_03_01';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_05_03_01 2020_05_03_02 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1588460984269999103'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1588460984269999103');

UPDATE `creature_formations` SET `angle` = 200 WHERE `leaderguid` = 114764 AND `memberGUID` = 2023271;

DELETE FROM `waypoint_data` WHERE `id` = 1147640;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(1147640,1,5809.09,576.262,652.952,0,0,0,0,100,0),
(1147640,2,5808.87,570.099,650.31,0,0,0,0,100,0),
(1147640,3,5798.94,559.53,650.762,0,10000,0,0,100,0),
(1147640,4,5806.62,553.808,650.176,0,0,0,0,100,0),
(1147640,5,5808.65,551.722,651.083,0,0,0,0,100,0),
(1147640,6,5814.71,545.726,651.137,0,0,0,0,100,0),
(1147640,7,5812.46,540.23,651.136,0,0,0,0,100,0),
(1147640,8,5810.95,537.028,653.59,0,0,0,0,100,0),
(1147640,9,5809.55,533.823,656.093,0,0,0,0,100,0),
(1147640,10,5808.98,531.458,657.671,0,0,0,0,100,0),
(1147640,11,5808.4,526.825,657.661,0,0,0,0,100,0),
(1147640,12,5810.3,523.949,657.658,0,0,0,0,100,0),
(1147640,13,5820.91,517.23,657.748,0,0,0,0,100,0),
(1147640,14,5827.15,514.759,657.748,0,0,0,0,100,0),
(1147640,15,5831.5,517.04,657.748,0,0,0,0,100,0),
(1147640,16,5835.88,522.94,657.748,0,0,0,0,100,0),
(1147640,17,5840.43,532.069,657.975,0,0,0,0,100,0),
(1147640,18,5837.07,540.07,657.673,0,0,0,0,100,0),
(1147640,19,5834.42,541.479,655.733,0,0,0,0,100,0),
(1147640,20,5831.52,543.355,653.198,0,0,0,0,100,0),
(1147640,21,5828.91,544.949,651.136,0,0,0,0,100,0),
(1147640,22,5825.05,552.405,651.37,0,0,0,0,100,0),
(1147640,23,5826.77,559.946,651.17,0,0,0,0,100,0),
(1147640,24,5824.14,568.719,650.342,0,0,0,0,100,0),
(1147640,25,5831.57,580.001,650.524,0,0,0,0,100,0),
(1147640,26,5837.05,589.199,650.553,0,0,0,0,100,0),
(1147640,27,5840.3,598.294,650.839,0,0,0,0,100,0),
(1147640,28,5843.98,605.547,650.858,0,0,0,0,100,0),
(1147640,29,5851.54,610.399,650.739,0,0,0,0,100,0),
(1147640,30,5858.67,617.103,649.945,0,0,0,0,100,0),
(1147640,31,5867.85,625.563,648.44,0,0,0,0,100,0),
(1147640,32,5877.38,635.042,647.196,0,0,0,0,100,0),
(1147640,33,5894.52,643.237,645.843,0,0,0,0,100,0),
(1147640,34,5915.15,644.377,644.545,0,0,0,0,100,0),
(1147640,35,5925.43,644.423,645.553,0,10000,0,0,100,0),
(1147640,36,5916.26,648.376,643.943,0,0,0,0,100,0),
(1147640,37,5901.08,657.336,643.992,0,0,0,0,100,0),
(1147640,38,5889.31,666.28,643.833,0,0,0,0,100,0),
(1147640,39,5885.99,679.907,643.079,0,0,0,0,100,0),
(1147640,40,5896.01,689.081,642.07,0,0,0,0,100,0),
(1147640,41,5898.47,686.619,642.761,0,0,0,0,100,0),
(1147640,42,5900.38,684.702,643.538,0,0,0,0,100,0),
(1147640,43,5908.03,676.436,643.497,0,0,0,0,100,0),
(1147640,44,5907.6,675.832,643.497,0,10000,0,0,100,0),
(1147640,45,5900.44,685.011,643.528,0,0,0,0,100,0),
(1147640,46,5898.41,687.113,642.761,0,0,0,0,100,0),
(1147640,47,5902.19,696.44,641.277,0,0,0,0,100,0),
(1147640,48,5912.15,710.438,641.794,0,0,0,0,100,0),
(1147640,49,5914.21,710.294,642.346,0,0,0,0,100,0),
(1147640,50,5918.18,709.893,642.515,0,0,0,0,100,0),
(1147640,51,5928.09,712.536,642.515,0,10000,0,0,100,0),
(1147640,52,5921.29,712.961,642.515,0,0,0,0,100,0),
(1147640,53,5921,708.784,642.515,0,0,0,0,100,0),
(1147640,54,5923.53,708.456,642.515,0,10000,0,0,100,0),
(1147640,55,5913.9,710.302,642.328,0,0,0,0,100,0),
(1147640,56,5907.52,714.518,640.885,0,0,0,0,100,0),
(1147640,57,5907.78,723.124,640.541,0,0,0,0,100,0),
(1147640,58,5907.78,723.124,641.953,0,0,0,0,100,0),
(1147640,59,5912.42,728.533,641.217,0,0,0,0,100,0),
(1147640,60,5921.97,727.862,642.135,0,0,0,0,100,0),
(1147640,61,5922.46,730.18,642.136,0,10000,0,0,100,0),
(1147640,62,5927.72,725.575,642.136,0,25000,0,0,100,0),
(1147640,63,5919.05,728.346,642.125,0,0,0,0,100,0),
(1147640,64,5914.96,728.493,642.109,0,0,0,0,100,0),
(1147640,65,5912.4,728.716,641.204,0,0,0,0,100,0),
(1147640,66,5901.12,743.304,640.508,0,0,0,0,100,0),
(1147640,67,5901.63,745.271,641.039,0,0,0,0,100,0),
(1147640,68,5906.92,761.386,641.075,0,10000,0,0,100,0),
(1147640,69,5909.81,759.775,641.087,0,0,0,0,100,0),
(1147640,70,5910.05,760.912,641.089,0,10000,0,0,100,0),
(1147640,71,5906.68,753.467,641.071,0,0,0,0,100,0),
(1147640,72,5900.52,755.288,641.076,0,0,0,0,100,0),
(1147640,73,5901.04,757.445,641.198,0,0,0,0,100,0),
(1147640,74,5903.5,767.654,648.99,0,0,0,0,100,0),
(1147640,75,5906.06,769.791,648.994,0,0,0,0,100,0),
(1147640,76,5915.96,767.078,649,0,20000,0,0,100,0),
(1147640,77,5904.29,770.325,648.997,0,0,0,0,100,0),
(1147640,78,5904.28,770.33,648.996,0,0,0,0,100,0),
(1147640,79,5901.09,757.109,641.08,0,0,0,0,100,0),
(1147640,80,5902.11,748.144,641.014,0,0,0,0,100,0),
(1147640,81,5900.63,742.806,640.304,0,0,0,0,100,0),
(1147640,82,5899.92,740.727,639.811,0,0,0,0,100,0),
(1147640,83,5896.72,710.402,641.922,0,0,0,0,100,0),
(1147640,84,5894.27,706.981,643.265,0,0,0,0,100,0),
(1147640,85,5889.43,702.607,643.238,0,0,0,0,100,0),
(1147640,86,5884.87,705.895,643.238,0,10000,0,0,100,0),
(1147640,87,5891.01,703.544,643.238,0,0,0,0,100,0),
(1147640,88,5898.65,712.92,641.379,0,0,0,0,100,0),
(1147640,89,5889.18,717.996,640.788,0,10000,0,0,100,0),
(1147640,90,5886.71,721.42,640.437,0,0,0,0,100,0),
(1147640,91,5882.59,726.061,641.864,0,0,0,0,100,0),
(1147640,92,5879.38,727.428,642.127,0,0,0,0,100,0),
(1147640,93,5875.58,727.199,643.203,0,0,0,0,100,0),
(1147640,94,5873.11,726.503,643.21,0,0,0,0,100,0),
(1147640,95,5875.2,716.606,643.113,0,10000,0,0,100,0),
(1147640,96,5871.68,716.691,643.108,0,0,0,0,100,0),
(1147640,97,5871.54,716.251,643.104,0,10000,0,0,100,0),
(1147640,98,5878.56,718.399,643.106,0,0,0,0,100,0),
(1147640,99,5878.82,718.015,643.106,0,10000,0,0,100,0),
(1147640,100,5873.82,721.389,643.089,0,0,0,0,100,0),
(1147640,101,5873.07,725.029,643.182,0,0,0,0,100,0),
(1147640,102,5875.49,727.257,643.202,0,0,0,0,100,0),
(1147640,103,5879.33,727.685,642.128,0,0,0,0,100,0),
(1147640,104,5882.41,726.161,641.912,0,0,0,0,100,0),
(1147640,105,5886.73,721.441,640.426,0,0,0,0,100,0),
(1147640,106,5891.16,719.373,640.353,0,0,0,0,100,0),
(1147640,107,5894.51,726.695,639.584,0,0,0,0,100,0),
(1147640,108,5877.5,733.675,638.258,0,0,0,0,100,0),
(1147640,109,5866.03,734.856,639.553,0,0,0,0,100,0),
(1147640,110,5863.9,740.417,640.558,0,0,0,0,100,0),
(1147640,111,5860.64,747.76,640.561,0,10000,0,0,100,0),
(1147640,112,5859.07,746.173,640.57,0,10000,0,0,100,0),
(1147640,113,5865.34,738.349,640.604,0,0,0,0,100,0),
(1147640,114,5866.51,735.288,639.52,0,0,0,0,100,0),
(1147640,115,5855.66,722.215,639.478,0,0,0,0,100,0),
(1147640,116,5850.12,714.521,640.388,0,0,0,0,100,0),
(1147640,117,5844,701.756,641.469,0,0,0,0,100,0),
(1147640,118,5839.52,689.234,642.785,0,0,0,0,100,0),
(1147640,119,5834.58,677.24,643.469,0,0,0,0,100,0),
(1147640,120,5828.51,669.883,645.641,0,0,0,0,100,0),
(1147640,121,5821.15,660.54,647.196,0,0,0,0,100,0),
(1147640,122,5811.75,647.697,647.414,0,0,0,0,100,0),
(1147640,123,5800.07,647.074,647.45,0,0,0,0,100,0),
(1147640,124,5796.68,642.02,647.469,0,0,0,0,100,0),
(1147640,125,5798.25,630.53,647.412,0,0,0,0,100,0),
(1147640,126,5787.61,618.47,647.137,0,0,0,0,100,0),
(1147640,127,5779.97,608.893,649.409,0,0,0,0,100,0),
(1147640,128,5775.2,602.765,650.552,0,0,0,0,100,0),
(1147640,129,5771.55,598.252,650.306,0,0,0,0,100,0),
(1147640,130,5783.31,582.079,650.003,0,0,0,0,100,0),
(1147640,131,5805.42,567.684,650.193,0,0,0,0,100,0),
(1147640,132,5810.03,569.805,650.329,0,0,0,0,100,0),
(1147640,133,5809.39,572.95,652.702,0,0,0,0,100,0),
(1147640,134,5808.87,578.406,652.789,0,0,0,0,100,0),
(1147640,135,5803.01,587.107,652.386,0,0,0,0,100,0),
(1147640,136,5805.98,592.89,652.385,0,0,0,0,100,0),
(1147640,137,5813.57,588.303,652.389,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
