-- DB update 2022_04_14_00 -> 2022_04_16_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2022_04_14_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2022_04_14_00 2022_04_16_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1650112410594230342'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1650112410594230342');

DELETE FROM `waypoint_data` WHERE `id` IN (32365001,32365002,32365003,32365004,32365005);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `pathfinding`, `action`, `action_chance`, `wpguid`)
VALUES
(32365001,1,3925.01,-855.59,121.03,0,5000,0,0,0,100,0),
(32365001,2,3933.52,-855.282,121.879,0,0,0,0,0,100,0),
(32365001,3,3942.16,-854.97,122.45,0,0,0,0,0,100,0),
(32365001,4,3946.01,-853.154,122.503,0,0,0,0,0,100,0),
(32365001,5,3951.71,-850.469,122.025,0,0,0,0,0,100,0),
(32365001,6,3958.25,-847.39,120.89,0,0,0,0,0,100,0),
(32365001,7,3963.37,-841.333,121.225,0,0,0,0,0,100,0),
(32365001,8,3967.6,-836.33,122.32,0,5000,0,0,0,100,0),
(32365001,9,3963.37,-841.333,121.225,0,0,0,0,0,100,0),
(32365001,10,3958.25,-847.39,120.89,0,0,0,0,0,100,0),
(32365001,11,3951.71,-850.469,122.025,0,0,0,0,0,100,0),
(32365001,12,3946.01,-853.154,122.503,0,0,0,0,0,100,0),
(32365001,13,3942.16,-854.97,122.45,0,0,0,0,0,100,0),
(32365001,14,3933.52,-855.282,121.879,0,0,0,0,0,100,0),

(32365002,1,3978.23,-805.63,123.69,0,5000,0,0,0,100,0),
(32365002,2,3984.39,-802.634,122.932,0,0,0,0,0,100,0),
(32365002,3,3991.55,-799.278,122.612,0,0,0,0,0,100,0),
(32365002,4,3995.66,-796.408,122.235,0,0,0,0,0,100,0),
(32365002,5,4000.06,-793.338,121.048,0,0,0,0,0,100,0),
(32365002,6,4004.55,-790.2,120.124,0,0,0,0,0,100,0),
(32365002,7,4007.79,-784.537,119.369,0,0,0,0,0,100,0),
(32365002,8,4011.27,-778.453,119.127,0,0,0,0,0,100,0),
(32365002,9,4014.53,-772.76,118.765,0,5000,0,0,0,100,0),
(32365002,10,4011.27,-778.453,119.127,0,0,0,0,0,100,0),
(32365002,11,4007.79,-784.537,119.369,0,0,0,0,0,100,0),
(32365002,12,4004.55,-790.2,120.124,0,0,0,0,0,100,0),
(32365002,13,4000.06,-793.338,121.048,0,0,0,0,0,100,0),
(32365002,14,3995.66,-796.408,122.235,0,0,0,0,0,100,0),
(32365002,15,3991.55,-799.278,122.612,0,0,0,0,0,100,0),
(32365002,16,3984.39,-802.634,122.932,0,0,0,0,0,100,0),

(32365003,1,4025.68,-843.86,116.91,0,5000,0,0,0,100,0),
(32365003,2,4020.99,-850.923,117.181,0,0,0,0,0,100,0),
(32365003,3,4017.51,-855.967,117.413,0,0,0,0,0,100,0),
(32365003,4,4012.83,-861.938,117.051,0,0,0,0,0,100,0),
(32365003,5,4007.88,-868.25,117.17,0,0,0,0,0,100,0),
(32365003,6,4002.31,-871.878,117.591,0,0,0,0,0,100,0),
(32365003,7,3995.86,-876.083,117.794,0,0,0,0,0,100,0),
(32365003,8,3990.07,-879.86,118.23,0,5000,0,0,0,100,0),
(32365003,9,3995.86,-876.083,117.794,0,0,0,0,0,100,0),
(32365003,10,4002.31,-871.878,117.591,0,0,0,0,0,100,0),
(32365003,11,4007.88,-868.25,117.17,0,0,0,0,0,100,0),
(32365003,12,4012.83,-861.938,117.051,0,0,0,0,0,100,0),
(32365003,13,4017.51,-855.967,117.413,0,0,0,0,0,100,0),
(32365003,14,4020.99,-850.923,117.181,0,0,0,0,0,100,0),

(32365004,1,4051.13,-866.23,113.16,0,5000,0,0,0,100,0),
(32365004,2,4059.34,-864.043,112.613,0,0,0,0,0,100,0),
(32365004,3,4066.04,-862.258,111.976,0,0,0,0,0,100,0),
(32365004,4,4070.88,-860.97,111.96,0,0,0,0,0,100,0),
(32365004,5,4084.76,-861.35,111.93,0,0,0,0,0,100,0),
(32365004,6,4093.75,-857.18,113.17,0,5000,0,0,0,100,0),
(32365004,7,4084.76,-861.35,111.93,0,0,0,0,0,100,0),
(32365004,8,4070.88,-860.97,111.96,0,0,0,0,0,100,0),
(32365004,9,4066.04,-862.258,111.976,0,0,0,0,0,100,0),
(32365004,10,4059.34,-864.043,112.613,0,0,0,0,0,100,0),

(32365005,1,3895.75,-869.76,108.8,0,5000,0,0,0,100,0),
(32365005,2,3903.38,-871.603,108.6,0,0,0,0,0,100,0),
(32365005,3,3913.39,-872.143,106.69,0,0,0,0,0,100,0),
(32365005,4,3922.05,-872.61,105.45,0,0,0,0,0,100,0),
(32365005,5,3926.7,-872.068,104.876,0,0,0,0,0,100,0),
(32365005,6,3936.3,-870.95,103.44,0,0,0,0,0,100,0),
(32365005,7,3939.98,-873.037,103.909,0,0,0,0,0,100,0),
(32365005,8,3945.46,-876.145,104.317,0,0,0,0,0,100,0),
(32365005,9,3951.62,-879.64,104.64,0,0,0,0,0,100,0),
(32365005,10,3958.28,-873.783,104.065,0,0,0,0,0,100,0),
(32365005,11,3963.98,-868.77,103.98,0,5000,0,0,0,100,0),
(32365005,12,3958.28,-873.783,104.065,0,0,0,0,0,100,0),
(32365005,13,3951.62,-879.64,104.64,0,0,0,0,0,100,0),
(32365005,14,3945.46,-876.145,104.317,0,0,0,0,0,100,0),
(32365005,15,3939.98,-873.037,103.909,0,0,0,0,0,100,0),
(32365005,16,3936.3,-870.95,103.44,0,0,0,0,0,100,0),
(32365005,17,3926.7,-872.068,104.876,0,0,0,0,0,100,0),
(32365005,18,3922.05,-872.61,105.45,0,0,0,0,0,100,0),
(32365005,19,3913.39,-872.143,106.69,0,0,0,0,0,100,0),
(32365005,20,3903.38,-871.603,108.6,0,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
