-- DB update 2020_12_15_03 -> 2020_12_15_04
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_15_03';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_15_03 2020_12_15_04 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1608032435927482921'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1608032435927482921');

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 51844;

DELETE FROM `creature_addon` WHERE `guid` = 51844;
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `isLarge`, `auras`)
VALUES
(51844,518440,0,0,0,0,0,NULL);

DELETE FROM `smart_scripts` WHERE `entryorguid` = 5349 AND `source_type` = 0 AND `id` = 2;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(5349,0,2,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Arash-ethis - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 518440;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(518440,1,-3525.88,2328.92,63.964,0,0,0,0,100,0),
(518440,2,-3531.86,2333.78,68.0007,0,0,0,0,100,0),
(518440,3,-3538.3,2339,71.2151,0,0,0,0,100,0),
(518440,4,-3543.92,2343.56,72.8561,0,0,0,0,100,0),
(518440,5,-3550.9,2349.23,74.3996,0,0,0,0,100,0),
(518440,6,-3557.96,2354.96,78.2783,0,0,0,0,100,0),
(518440,7,-3562.76,2358.86,79.2801,0,0,0,0,100,0),
(518440,8,-3564.43,2363.35,77.6648,0,0,0,0,100,0),
(518440,9,-3566.66,2371.33,73.742,0,0,0,0,100,0),
(518440,10,-3568.01,2376.16,73.8739,0,0,0,0,100,0),
(518440,11,-3562.18,2381.36,70.6571,0,0,0,0,100,0),
(518440,12,-3557.3,2385.71,68.8827,0,0,0,0,100,0),
(518440,13,-3551.81,2390.6,65.9907,0,0,0,0,100,0),
(518440,14,-3545.8,2395.96,63.2852,0,0,0,0,100,0),
(518440,15,-3539.19,2401.85,60.1249,0,0,0,0,100,0),
(518440,16,-3530.25,2398.12,58.1398,0,0,0,0,100,0),
(518440,17,-3521.41,2394.44,56.7494,0,0,0,0,100,0),
(518440,18,-3514.52,2391.56,53.3959,0,0,0,0,100,0),
(518440,19,-3507.41,2388.6,51.1098,0,0,0,0,100,0),
(518440,20,-3498.44,2384.85,49.7072,0,0,0,0,100,0),
(518440,21,-3489.18,2380.99,48.6259,0,0,0,0,100,0),
(518440,22,-3478.73,2376.63,46.822,0,0,0,0,100,0),
(518440,23,-3469.04,2372.59,46.0254,0,0,0,0,100,0),
(518440,24,-3460.11,2368.86,45.5031,0,0,0,0,100,0),
(518440,25,-3451.28,2365.18,44.9345,0,0,0,0,100,0),
(518440,26,-3443.11,2361.77,44.8287,0,0,0,0,100,0),
(518440,27,-3435.57,2358.62,43.8564,0,0,0,0,100,0),
(518440,28,-3429.96,2356.29,44.6785,0,0,0,0,100,0),
(518440,29,-3421.68,2352.83,45.2845,0,0,0,0,100,0),
(518440,30,-3420.3,2346.2,43.8204,0,0,0,0,100,0),
(518440,31,-3419.09,2340.38,41.5148,0,0,0,0,100,0),
(518440,32,-3417.73,2333.87,37.7344,0,0,0,0,100,0),
(518440,33,-3416.54,2328.16,34.1626,0,0,0,0,100,0),
(518440,34,-3415.47,2323.02,32.1613,0,0,0,0,100,0),
(518440,35,-3413.96,2315.83,30.4057,0,0,0,0,100,0),
(518440,36,-3412.56,2309.08,28.6779,0,0,0,0,100,0),
(518440,37,-3410.89,2301.09,26.9352,0,0,0,0,100,0),
(518440,38,-3409.18,2292.87,25.2225,0,0,0,0,100,0),
(518440,39,-3407.46,2284.65,24.4777,0,0,0,0,100,0),
(518440,40,-3405.94,2277.34,23.9389,0,0,0,0,100,0),
(518440,41,-3412.4,2273.84,22.9791,0,0,0,0,100,0),
(518440,42,-3418.66,2270.46,22.1452,0,0,0,0,100,0),
(518440,43,-3426.46,2266.23,20.7827,0,0,0,0,100,0),
(518440,44,-3433.64,2262.35,20.1171,0,0,0,0,100,0),
(518440,45,-3441.23,2258.24,19.943,0,0,0,0,100,0),
(518440,46,-3450.15,2253.41,19.3031,0,0,0,0,100,0),
(518440,47,-3457.73,2252.98,19.1521,0,0,0,0,100,0),
(518440,48,-3466.82,2252.47,19.8312,0,0,0,0,100,0),
(518440,49,-3475.67,2251.97,22.128,0,0,0,0,100,0),
(518440,50,-3484.06,2251.49,25.5118,0,0,0,0,100,0),
(518440,51,-3491.52,2251.07,28.0651,0,0,0,0,100,0),
(518440,52,-3500.84,2250.54,30.7533,0,0,0,0,100,0),
(518440,53,-3508.88,2250.09,32.8526,0,0,0,0,100,0),
(518440,54,-3515.17,2249.74,34.7503,0,0,0,0,100,0),
(518440,55,-3516.58,2240.51,35.4512,0,0,0,0,100,0),
(518440,56,-3517.82,2232.4,35.6203,0,0,0,0,100,0),
(518440,57,-3519.14,2223.75,35.4622,0,0,0,0,100,0),
(518440,58,-3520.67,2213.72,35.8871,0,0,0,0,100,0),
(518440,59,-3521.84,2206.1,35.6678,0,0,0,0,100,0),
(518440,60,-3523.02,2198.37,34.6991,0,0,0,0,100,0),
(518440,61,-3527.27,2202.74,35.2431,0,0,0,0,100,0),
(518440,62,-3533.37,2209.02,34.8259,0,0,0,0,100,0),
(518440,63,-3539.39,2215.21,34.8698,0,0,0,0,100,0),
(518440,64,-3544.34,2220.31,34.8679,0,0,0,0,100,0),
(518440,65,-3548.98,2225.08,34.7845,0,0,0,0,100,0),
(518440,66,-3553.29,2229.51,34.6382,0,0,0,0,100,0),
(518440,67,-3556.7,2233.03,34.6694,0,0,0,0,100,0),
(518440,68,-3557.69,2243.26,36.26,0,0,0,0,100,0),
(518440,69,-3558.28,2249.4,37.2841,0,0,0,0,100,0),
(518440,70,-3558.93,2256.26,38.2776,0,0,0,0,100,0),
(518440,71,-3559.32,2260.32,39.1185,0,0,0,0,100,0),
(518440,72,-3560.03,2267.64,41.5145,0,0,0,0,100,0),
(518440,73,-3560.29,2270.43,42.7557,0,0,0,0,100,0),
(518440,74,-3555.99,2274,44.7051,0,0,0,0,100,0),
(518440,75,-3551.77,2277.5,47.1306,0,0,0,0,100,0),
(518440,76,-3547.01,2281.45,49.7814,0,0,0,0,100,0),
(518440,77,-3542.97,2284.8,52.2618,0,0,0,0,100,0),
(518440,78,-3537.49,2289.35,54.3378,0,0,0,0,100,0),
(518440,79,-3532.37,2293.59,56.6698,0,0,0,0,100,0),
(518440,80,-3527.44,2297.69,58.8884,0,0,0,0,100,0),
(518440,81,-3523.75,2300.75,60.8205,0,0,0,0,100,0),
(518440,82,-3518.81,2304.84,63.4022,0,0,0,0,100,0),
(518440,83,-3520.72,2311.33,64.4542,0,0,0,0,100,0),
(518440,84,-3522.92,2318.84,63.3633,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
