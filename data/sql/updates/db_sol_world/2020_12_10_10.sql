-- DB update 2020_12_10_09 -> 2020_12_10_10
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_10_09';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_10_09 2020_12_10_10 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607639486584762878'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607639486584762878');

DELETE FROM `smart_scripts` WHERE `entryorguid` = 10639 AND `source_type` = 0 AND `id` = 1;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(10639,0,1,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Rorgish Jowl - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 328690;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(328690,1,3265.91,-365.72,153.103,0,0,0,0,100,0),
(328690,2,3273.11,-371.724,152.879,0,0,0,0,100,0),
(328690,3,3276.25,-377.863,153.05,0,0,0,0,100,0),
(328690,4,3278.83,-382.906,152.523,0,0,0,0,100,0),
(328690,5,3285.17,-396.564,150.977,0,0,0,0,100,0),
(328690,6,3290.6,-408.267,150.345,0,0,0,0,100,0),
(328690,7,3298.87,-418.977,150.073,0,0,0,0,100,0),
(328690,8,3307.69,-430.402,149.836,0,0,0,0,100,0),
(328690,9,3313.78,-438.665,149.507,0,0,0,0,100,0),
(328690,10,3320.12,-447.278,150.563,0,0,0,0,100,0),
(328690,11,3326.81,-456.829,152.405,0,0,0,0,100,0),
(328690,12,3331.45,-463.445,153.331,0,0,0,0,100,0),
(328690,13,3336.11,-470.103,153.995,0,0,0,0,100,0),
(328690,14,3342.28,-475.46,154.509,0,0,0,0,100,0),
(328690,15,3347.99,-480.422,154.224,0,0,0,0,100,0),
(328690,16,3358.45,-476.939,154.218,0,0,0,0,100,0),
(328690,17,3365.44,-464.821,154.221,0,0,0,0,100,0),
(328690,18,3368.37,-457.451,154.388,0,0,0,0,100,0),
(328690,19,3374.19,-442.823,152.465,0,0,0,0,100,0),
(328690,20,3384.15,-428.401,149.322,0,0,0,0,100,0),
(328690,21,3392.83,-417.417,146.747,0,0,0,0,100,0),
(328690,22,3398.78,-410.523,145.691,0,0,0,0,100,0),
(328690,23,3405.05,-403.26,143.911,0,0,0,0,100,0),
(328690,24,3421.9,-390.825,139.321,0,0,0,0,100,0),
(328690,25,3434.33,-384.392,135.794,0,0,0,0,100,0),
(328690,26,3447.36,-378.007,135.662,0,0,0,0,100,0),
(328690,27,3434.16,-382.637,135.496,0,0,0,0,100,0),
(328690,28,3421.42,-388.368,138.45,0,0,0,0,100,0),
(328690,29,3411.67,-394.984,141.144,0,0,0,0,100,0),
(328690,30,3404.06,-400.145,143.263,0,0,0,0,100,0),
(328690,31,3390.34,-412.986,145.813,0,0,0,0,100,0),
(328690,32,3382.11,-418.512,147.914,0,0,0,0,100,0),
(328690,33,3377.26,-421.769,148.56,0,0,0,0,100,0),
(328690,34,3367.23,-427.5,150.976,0,0,0,0,100,0),
(328690,35,3362.35,-430.288,151.45,0,0,0,0,100,0),
(328690,36,3349.06,-433.942,151.799,0,0,0,0,100,0),
(328690,37,3333.84,-433.347,150.422,0,0,0,0,100,0),
(328690,38,3318.93,-428.626,149.402,0,0,0,0,100,0),
(328690,39,3307.99,-420.836,149.473,0,0,0,0,100,0),
(328690,40,3300,-412.816,149.989,0,0,0,0,100,0),
(328690,41,3293.19,-405.975,150.442,0,0,0,0,100,0),
(328690,42,3284.6,-394.928,151.113,0,0,0,0,100,0),
(328690,43,3279.22,-384.956,152.181,0,0,0,0,100,0),
(328690,44,3275.52,-378.113,152.894,0,0,0,0,100,0),
(328690,45,3269.43,-368.935,153.063,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
