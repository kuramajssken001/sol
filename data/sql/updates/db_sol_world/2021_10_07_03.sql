-- DB update 2021_10_07_02 -> 2021_10_07_03
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2021_10_07_02';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2021_10_07_02 2021_10_07_03 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1633616029500239920'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1633616029500239920');

DELETE FROM `smart_scripts` WHERE `source_type` = 0 AND `entryorguid` = 7045 AND `id` = 1;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(7045,0,1,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Scalding Drake - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` IN (33000,33020);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(33000,1,-8183.4,-2029.46,144.961,0.003489,30000,0,0,100,0),
(33000,2,-8189.14,-2027.83,145.546,0,0,0,0,100,0),
(33000,3,-8196.29,-2024.87,144.69,0,0,0,0,100,0),
(33000,4,-8202.26,-2020.34,145.126,0,0,0,0,100,0),
(33000,5,-8210.01,-2014.45,145.003,0,0,0,0,100,0),
(33000,6,-8218.91,-2003.65,143.831,0,0,0,0,100,0),
(33000,7,-8228.5,-1992.02,143.236,0,0,0,0,100,0),
(33000,8,-8237.08,-1980.38,144.573,0,0,0,0,100,0),
(33000,9,-8248.57,-1964.77,147.249,0,0,0,0,100,0),
(33000,10,-8253.69,-1958.86,147.964,0,0,0,0,100,0),
(33000,11,-8261.51,-1949.82,147.706,0,0,0,0,100,0),
(33000,12,-8267.97,-1946.07,146.597,0,0,0,0,100,0),
(33000,13,-8276.75,-1940.98,144.209,0,0,0,0,100,0),
(33000,14,-8287.33,-1934.85,142.135,0,0,0,0,100,0),
(33000,15,-8284.54,-1926.06,142.252,0,0,0,0,100,0),
(33000,16,-8280.62,-1913.71,142.673,0,0,0,0,100,0),
(33000,17,-8276.5,-1900.74,142.868,0,0,0,0,100,0),
(33000,18,-8277.24,-1884.32,142.341,0,0,0,0,100,0),
(33000,19,-8277.02,-1875.23,142.778,0,0,0,0,100,0),
(33000,20,-8276.71,-1861.99,144.047,0,0,0,0,100,0),
(33000,21,-8275.71,-1851.78,144.589,0,0,0,0,100,0),
(33000,22,-8273.97,-1834.12,144.835,0,0,0,0,100,0),
(33000,23,-8273.76,-1820.71,144.407,0,0,0,0,100,0),
(33000,24,-8273.5,-1804.14,143.661,0,0,0,0,100,0),
(33000,25,-8273.24,-1787.11,143.313,0,0,0,0,100,0),
(33000,26,-8276.48,-1774.07,141.528,0,0,0,0,100,0),
(33000,27,-8271.91,-1759.16,142.162,0,0,0,0,100,0),
(33000,28,-8258.5,-1745.66,143.872,0,0,0,0,100,0),
(33000,29,-8253.28,-1739.81,145.784,0,0,0,0,100,0),
(33000,30,-8246.79,-1733.74,145.844,0,0,0,0,100,0),
(33000,31,-8242.38,-1730.92,143.658,0,0,0,0,100,0),
(33000,32,-8233.49,-1723.61,142.263,0,0,0,0,100,0),
(33000,33,-8226,-1715.44,142.247,0,0,0,0,100,0),
(33000,34,-8218.15,-1706.86,142.278,0,0,0,0,100,0),
(33000,35,-8210.81,-1698.85,142.095,0,30000,0,0,100,0),
(33000,36,-8205.97,-1707.37,141.758,0,0,0,0,100,0),
(33000,37,-8201.43,-1715.37,142.643,0,0,0,0,100,0),
(33000,38,-8195.21,-1721.37,145.226,0,0,0,0,100,0),
(33000,39,-8187.95,-1728.38,147.422,0,0,0,0,100,0),
(33000,40,-8179.19,-1732.76,141.123,0,0,0,0,100,0),
(33000,41,-8171.03,-1743.44,140.201,0,0,0,0,100,0),
(33000,42,-8169.6,-1756.66,139.744,0,0,0,0,100,0),
(33000,43,-8164.32,-1761.95,134.498,0,0,0,0,100,0),
(33000,44,-8159.43,-1770.58,133.667,0,0,0,0,100,0),
(33000,45,-8153.1,-1781.75,133.496,0,0,0,0,100,0),
(33000,46,-8152.36,-1790.35,134.621,0,0,0,0,100,0),
(33000,47,-8151.5,-1800.23,136.633,0,0,0,0,100,0),
(33000,48,-8152.35,-1806.93,133.71,0,0,0,0,100,0),
(33000,49,-8153.45,-1820.3,133.532,0,0,0,0,100,0),
(33000,50,-8154.65,-1834.79,133.533,0,0,0,0,100,0),
(33000,51,-8159.86,-1842.25,133.538,0,0,0,0,100,0),
(33000,52,-8165.34,-1850.09,133.523,0,0,0,0,100,0),
(33000,53,-8171.52,-1858.93,133.609,0,0,0,0,100,0),
(33000,54,-8182.19,-1866.84,133.531,0,0,0,0,100,0),
(33000,55,-8184.98,-1873.13,136.108,0,0,0,0,100,0),
(33000,56,-8189.13,-1882.48,139.226,0,0,0,0,100,0),
(33000,57,-8186.57,-1899.48,139.167,0,0,0,0,100,0),
(33000,58,-8182.64,-1913.06,140.547,0,0,0,0,100,0),
(33000,59,-8172.93,-1928.04,140.146,0,0,0,0,100,0),
(33000,60,-8174.92,-1937.75,140.465,0,0,0,0,100,0),
(33000,61,-8177.46,-1950.09,140.77,0,0,0,0,100,0),
(33000,62,-8180.34,-1964.11,140.995,0,0,0,0,100,0),
(33000,63,-8185.25,-1971.77,142.402,0,0,0,0,100,0),
(33000,64,-8189.78,-1978.85,143.557,0,0,0,0,100,0),
(33000,65,-8192.37,-1987.21,144.255,0,0,0,0,100,0),
(33000,66,-8195.54,-1997.41,144.906,0,0,0,0,100,0),
(33000,67,-8195.58,-2006.81,145.066,0,0,0,0,100,0),
(33000,68,-8195.62,-2015.79,144.973,0,0,0,0,100,0),
(33000,69,-8195.65,-2022.79,144.74,0,0,0,0,100,0),

(33020,1,-8173.82,-2134.65,135.683,0.942739,30000,0,0,100,0),
(33020,2,-8179.05,-2144.03,135.647,0,0,0,0,100,0),
(33020,3,-8185.08,-2154.85,134.674,0,0,0,0,100,0),
(33020,4,-8189.79,-2163.57,133.762,0,0,0,0,100,0),
(33020,5,-8194.05,-2171.48,133.871,0,0,0,0,100,0),
(33020,6,-8199.08,-2180.8,133.717,0,0,0,0,100,0),
(33020,7,-8202.96,-2186.46,132.929,0,0,0,0,100,0),
(33020,8,-8208.14,-2194.03,131.61,0,0,0,0,100,0),
(33020,9,-8210.92,-2204.63,131.986,0,0,0,0,100,0),
(33020,10,-8213.71,-2215.3,132.903,0,0,0,0,100,0),
(33020,11,-8209.34,-2222.49,134.022,0,0,0,0,100,0),
(33020,12,-8204.68,-2228.84,133.307,0,0,0,0,100,0),
(33020,13,-8199.22,-2236.26,131.867,0,0,0,0,100,0),
(33020,14,-8194.54,-2242.63,131.386,0,0,0,0,100,0),
(33020,15,-8192.22,-2259.26,131.529,0,0,0,0,100,0),
(33020,16,-8191.22,-2265.29,132.963,0,0,0,0,100,0),
(33020,17,-8190.4,-2270.26,133.738,0,0,0,0,100,0),
(33020,18,-8188.81,-2280.98,133.358,0,0,0,0,100,0),
(33020,19,-8187.57,-2295.47,134,0,0,0,0,100,0),
(33020,20,-8182.24,-2312.96,133.234,0,0,0,0,100,0),
(33020,21,-8179.99,-2323.21,133.142,0,0,0,0,100,0),
(33020,22,-8177.5,-2334.6,133.145,0,0,0,0,100,0),
(33020,23,-8174.88,-2346.54,133.039,0,0,0,0,100,0),
(33020,24,-8174.9,-2353.77,131.948,0,0,0,0,100,0),
(33020,25,-8174.92,-2365.55,129.293,0,0,0,0,100,0),
(33020,26,-8181.08,-2375.59,129.094,0,0,0,0,100,0),
(33020,27,-8187.81,-2386.54,130.688,0.332842,30000,0,0,100,0),
(33020,28,-8169.88,-2388.77,128.63,0,0,0,0,100,0),
(33020,29,-8156.13,-2375.15,128.424,0,0,0,0,100,0),
(33020,30,-8159.83,-2361.51,129.395,0,0,0,0,100,0),
(33020,31,-8164.82,-2351.1,130.683,0,0,0,0,100,0),
(33020,32,-8169.81,-2340.67,132.301,0,0,0,0,100,0),
(33020,33,-8173.42,-2329.09,132.606,0,0,0,0,100,0),
(33020,34,-8177.26,-2316.8,132.669,0,0,0,0,100,0),
(33020,35,-8179.4,-2309.04,133.295,0,0,0,0,100,0),
(33020,36,-8182.68,-2297.13,133.333,0,0,0,0,100,0),
(33020,37,-8185.83,-2285.66,133.71,0,0,0,0,100,0),
(33020,38,-8190,-2270.53,133.726,0,0,0,0,100,0),
(33020,39,-8191.85,-2260.79,131.937,0,0,0,0,100,0),
(33020,40,-8192,-2245.16,131.215,0,0,0,0,100,0),
(33020,41,-8192.08,-2232.56,131.698,0,0,0,0,100,0),
(33020,42,-8192.13,-2224.86,132.189,0,0,0,0,100,0),
(33020,43,-8192.18,-2216.87,132.14,0,0,0,0,100,0),
(33020,44,-8192.25,-2206.14,132.046,0,0,0,0,100,0),
(33020,45,-8192.32,-2195.51,133.204,0,0,0,0,100,0),
(33020,46,-8191.71,-2185.75,134.258,0,0,0,0,100,0),
(33020,47,-8191.25,-2178.46,134.434,0,0,0,0,100,0),
(33020,48,-8189.14,-2170.32,133.904,0,0,0,0,100,0),
(33020,49,-8187.54,-2164.15,133.954,0,0,0,0,100,0),
(33020,50,-8183.67,-2156.44,134.746,0,0,0,0,100,0),
(33020,51,-8180.54,-2150.2,135.36,0,0,0,0,100,0),
(33020,52,-8177.11,-2142.25,135.704,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
