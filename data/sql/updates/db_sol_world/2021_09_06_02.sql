-- DB update 2021_09_06_01 -> 2021_09_06_02
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2021_09_06_01';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2021_09_06_01 2021_09_06_02 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1630964283766180946'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1630964283766180946');

DELETE FROM `script_waypoint` WHERE `entry` = 5391;
INSERT INTO `script_waypoint` (`entry`, `pointid`, `location_x`, `location_y`, `location_z`, `waittime`, `point_comment`)
VALUES
(5391,0,-9901.12,-3727.29,22.11,3000,NULL),
(5391,1,-9909.27,-3727.81,23.25,0,NULL),
(5391,2,-9917.64,-3728.2,21.8436,0,NULL),
(5391,3,-9927.66,-3728.67,22.0489,0,NULL),
(5391,4,-9935.25,-3729.02,22.11,0,NULL),
(5391,5,-9940.07,-3724.61,21.6851,0,NULL),
(5391,6,-9945.83,-3719.34,21.68,0,NULL),
(5391,7,-9954.86,-3714.63,21.7461,0,NULL),
(5391,8,-9963.41,-3710.18,21.71,0,NULL),
(5391,9,-9968.1,-3700.11,22.3038,0,NULL),
(5391,10,-9972.75,-3690.13,21.68,0,NULL),
(5391,11,-9977.59,-3684.29,21.6784,0,NULL),
(5391,12,-9983.77,-3676.83,21.8265,0,NULL),
(5391,13,-9989.7,-3669.67,21.67,0,NULL),
(5391,14,-9989.53,-3662.21,21.6786,0,NULL),
(5391,15,-9989.32,-3652.88,22.7576,0,NULL),
(5391,16,-9989.21,-3647.76,23,0,NULL),
(5391,17,-9990.35,-3642.51,22.5946,0,NULL),
(5391,18,-9992.27,-3633.74,21.67,0,NULL),
(5391,19,-9995.13,-3627.44,21.6787,0,NULL),
(5391,20,-9998.6,-3619.8,21.9276,0,NULL),
(5391,21,-10002.3,-3611.67,22.26,0,NULL),
(5391,22,-10001.4,-3604.6,22.7373,0,NULL),
(5391,23,-10000.4,-3595.56,23.051,0,NULL),
(5391,24,-9999.25,-3586.33,21.85,0,NULL),
(5391,25,-10003.1,-3578.73,21.6777,0,NULL),
(5391,26,-10006.5,-3571.99,21.67,0,NULL),
(5391,27,-10009,-3563.26,21.67,0,NULL),
(5391,28,-10011.8,-3553.74,21.67,0,NULL),
(5391,29,-10014.3,-3545.24,21.67,0,NULL),
(5391,30,-10016.8,-3534.32,21.67,0,NULL),
(5391,31,-10018.9,-3525.03,21.68,0,NULL),
(5391,32,-10025.5,-3519.06,21.6974,0,NULL),
(5391,33,-10030.2,-3514.77,21.67,0,NULL),
(5391,34,-10038.4,-3507.48,21.6728,0,NULL),
(5391,35,-10045.1,-3501.49,21.67,0,NULL),
(5391,36,-10047.6,-3494.22,21.6726,0,NULL),
(5391,37,-10050.3,-3486.62,21.6726,0,NULL),
(5391,38,-10052.9,-3479.13,21.67,0,NULL),
(5391,39,-10057.1,-3469.11,21.67,0,NULL),
(5391,40,-10060.7,-3460.31,21.67,0,NULL),
(5391,41,-10064.8,-3453.5,21.5546,0,NULL),
(5391,42,-10069.7,-3445.28,21.2135,0,NULL),
(5391,43,-10074.7,-3436.85,20.97,0,NULL),
(5391,44,-10074.7,-3436.85,20.97,0,NULL),
(5391,45,-10074.1,-3427.54,20.637,0,NULL),
(5391,46,-10073.5,-3418.33,20.438,0,NULL),
(5391,47,-10072.9,-3408.92,20.43,15000,NULL),
(5391,48,-10108,-3406.05,22.06,0,NULL);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
