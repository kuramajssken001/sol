-- DB update 2022_04_20_02 -> 2022_04_22_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2022_04_20_02';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2022_04_20_02 2022_04_22_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1650635695693196306'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1650635695693196306');

UPDATE `creature_template` SET `AIName` = '' WHERE `entry` = 23622;
DELETE FROM `smart_scripts` WHERE `source_type` = 0 AND `entryorguid` IN (23616,23622);
DELETE FROM `smart_scripts` WHERE `source_type` = 9 AND `entryorguid` IN (2361600,2361601,2362200);
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(23616,0,0,1,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Respawn - Set Active On'),
(23616,0,1,0,61,0,100,0,0,0,0,0,0,53,1,23616,1,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - Linked - Start WP Movement'),
(23616,0,2,0,8,0,100,0,42222,0,120000,120000,0,80,2361600,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Spellhit ''Lunch for Kyle'' - Call Timed Action List'),
(23616,0,3,0,34,0,100,0,8,1,0,0,0,80,2361601,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Point 1 Reached - Call Timed Action List'),

(2361600,9,0,0,0,0,100,0,0,0,0,0,0,54,120000,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Pause WP Movement'),
(2361600,9,1,0,0,0,100,0,0,0,0,0,0,64,1,0,0,0,0,0,7,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Store Target 1 (Invoker)'),
(2361600,9,2,0,0,0,100,0,1000,1000,0,0,0,66,0,0,0,0,0,0,20,186265,50,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Set Orientation (Kyle''s Lunch)'),
(2361600,9,3,0,0,0,100,0,1000,1000,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Say Line 0'),
(2361600,9,4,0,0,0,100,0,0,0,0,0,0,5,393,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Play Emote ''ONESHOT_CREATURE_SPECIAL'''),
(2361600,9,5,0,0,0,100,0,5000,5000,0,0,0,69,1,0,0,1,0,0,20,186265,50,0,0,0,0,0,0.01,'Kyle the Frenzied - On Script - Move To Position (Kyle''s Lunch)'),

(2361601,9,0,0,0,0,100,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Say Line 1'),
(2361601,9,1,0,0,0,100,0,0,0,0,0,0,17,69,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Set Emote State ''STATE_USESTANDING'''),
(2361601,9,2,0,0,0,100,0,4000,4000,0,0,0,36,23622,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Update Template ''Kyle the Friendly'''),
(2361601,9,3,0,0,0,100,0,5000,5000,0,0,0,41,0,0,0,0,0,0,20,186265,50,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Force Despawn (Kyle''s Lunch)'),
(2361601,9,4,0,0,0,100,0,1000,1000,0,0,0,1,2,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Say Line 2'),
(2361601,9,5,0,0,0,100,0,0,0,0,0,0,17,400,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Set Emote State ''STATE_DANCESPECIAL'''),
(2361601,9,6,0,0,0,100,0,0,0,0,0,0,33,23616,0,0,0,0,0,12,1,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Quest Credit ''Kyle''s Gone Missing!'' (Stored Target 1)'),
(2361601,9,7,0,0,0,100,0,0,0,0,0,0,41,30000,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Kyle the Frenzied - On Script - Force Despawn');

DELETE FROM `waypoints` WHERE `entry` = 23616;
INSERT INTO `waypoints` (`entry`, `pointid`, `position_x`, `position_y`, `position_z`, `point_comment`)
VALUES
(23616,1,-2454.94,-482.136,-8.97948,'Kyle the Frenzied'),
(23616,2,-2445.34,-476.395,-8.92086,NULL),
(23616,3,-2433.79,-468.785,-9.20522,NULL),
(23616,4,-2422.01,-460.858,-9.1759,NULL),
(23616,5,-2407.47,-451.07,-8.70993,NULL),
(23616,6,-2395.98,-443.42,-8.42222,NULL),
(23616,7,-2383.8,-436.212,-8.78844,NULL),
(23616,8,-2367.83,-425.967,-9.38671,NULL),
(23616,9,-2355.15,-413.835,-9.75652,NULL),
(23616,10,-2345.39,-403.032,-8.87064,NULL),
(23616,11,-2341.99,-394.968,-8.18642,NULL),
(23616,12,-2338.73,-387.213,-7.97681,NULL),
(23616,13,-2334.94,-381.328,-8.04708,NULL),
(23616,14,-2330.27,-374.08,-8.37519,NULL),
(23616,15,-2322.57,-369.931,-9.06443,NULL),
(23616,16,-2314.64,-365.663,-9.41672,NULL),
(23616,17,-2305.7,-363.431,-9.42388,NULL),
(23616,18,-2295.45,-360.874,-9.42468,NULL),
(23616,19,-2287.39,-358.949,-9.42468,NULL),
(23616,20,-2279.85,-357.148,-9.42468,NULL),
(23616,21,-2272.67,-359.941,-9.42468,NULL),
(23616,22,-2263.83,-363.376,-9.42468,NULL),
(23616,23,-2256.27,-366.763,-9.42469,NULL),
(23616,24,-2248.52,-370.238,-9.42468,NULL),
(23616,25,-2241.61,-375.214,-9.42468,NULL),
(23616,26,-2234.89,-380.06,-9.42468,NULL),
(23616,27,-2226.43,-386.156,-9.42468,NULL),
(23616,28,-2227.92,-394.075,-9.42469,NULL),
(23616,29,-2229.88,-404.512,-9.41997,NULL),
(23616,30,-2232.14,-416.578,-9.42205,NULL),
(23616,31,-2236.63,-423.403,-9.42358,NULL),
(23616,32,-2241.56,-430.907,-9.42358,NULL),
(23616,33,-2247.29,-439.615,-9.42475,NULL),
(23616,34,-2252.91,-448.416,-9.09973,NULL),
(23616,35,-2256.55,-453.994,-8.3139,NULL),
(23616,36,-2259.13,-457.941,-8.07686,NULL),
(23616,37,-2263.57,-464.24,-7.95943,NULL),
(23616,38,-2267.47,-469.767,-7.87833,NULL),
(23616,39,-2271.66,-475.713,-7.80418,NULL),
(23616,40,-2277.96,-477.855,-7.98469,NULL),
(23616,41,-2285.14,-480.3,-8.06737,NULL),
(23616,42,-2293.85,-483.264,-7.86093,NULL),
(23616,43,-2298.41,-487.092,-7.68743,NULL),
(23616,44,-2302.71,-490.694,-7.92982,NULL),
(23616,45,-2306.74,-494.585,-8.44247,NULL),
(23616,46,-2311.67,-500.786,-9.02895,NULL),
(23616,47,-2317.05,-507.546,-9.25636,NULL),
(23616,48,-2324.17,-516.494,-9.32393,NULL),
(23616,49,-2329.16,-522.356,-9.41937,NULL),
(23616,50,-2334.61,-528.751,-9.41996,NULL),
(23616,51,-2340.11,-535.209,-9.2326,NULL),
(23616,52,-2348.39,-536.641,-9.10539,NULL),
(23616,53,-2357.69,-538.25,-9.158,NULL),
(23616,54,-2365,-533.452,-9.34772,NULL),
(23616,55,-2372.68,-528.41,-9.15687,NULL),
(23616,56,-2378.45,-525.33,-8.95953,NULL),
(23616,57,-2384.62,-522.032,-8.69954,NULL),
(23616,58,-2391.28,-518.477,-8.4459,NULL),
(23616,59,-2398.03,-516.676,-7.96316,NULL),
(23616,60,-2404.81,-514.866,-7.4283,NULL),
(23616,61,-2410.9,-512.829,-6.78557,NULL),
(23616,62,-2418.06,-510.431,-6.09458,NULL),
(23616,63,-2424.43,-508.127,-5.91421,NULL),
(23616,64,-2431.22,-505.672,-6.06301,NULL),
(23616,65,-2436.94,-502.996,-6.55123,NULL),
(23616,66,-2443.9,-499.738,-7.60161,NULL),
(23616,67,-2449.75,-496.104,-8.45368,NULL),
(23616,68,-2455.99,-492.226,-9.02866,NULL),
(23616,69,-2462.4,-488.247,-9.27003,NULL),
(23616,70,-2467.46,-481.693,-9.03487,NULL),
(23616,71,-2473.17,-474.308,-8.62657,NULL),
(23616,72,-2478.88,-466.912,-8.1059,NULL),
(23616,73,-2477.44,-458.584,-7.1153,NULL),
(23616,74,-2475.93,-449.837,-5.93804,NULL),
(23616,75,-2474.34,-440.635,-5.19304,NULL),
(23616,76,-2472.69,-431.089,-4.25805,NULL),
(23616,77,-2471.18,-422.356,-3.86317,NULL),
(23616,78,-2469.7,-413.733,-3.40132,NULL),
(23616,79,-2464.5,-407.582,-3.39288,NULL),
(23616,80,-2458.56,-400.538,-3.86604,NULL),
(23616,81,-2452.38,-393.226,-4.57636,NULL),
(23616,82,-2446.66,-386.449,-5.56023,NULL),
(23616,83,-2441.39,-380.206,-6.4788,NULL),
(23616,84,-2435.9,-373.697,-7.15413,NULL),
(23616,85,-2430.71,-367.545,-7.39451,NULL),
(23616,86,-2425.29,-361.132,-7.56393,NULL),
(23616,87,-2420.1,-354.981,-7.8943,NULL),
(23616,88,-2414.9,-348.824,-8.68534,NULL),
(23616,89,-2410.39,-343.475,-9.52748,NULL),
(23616,90,-2405.2,-337.329,-10.3928,NULL),
(23616,91,-2400.15,-331.355,-11.3245,NULL),
(23616,92,-2394.88,-325.113,-11.9554,NULL),
(23616,93,-2390.29,-319.673,-12.5315,NULL),
(23616,94,-2384.17,-314.462,-11.9613,NULL),
(23616,95,-2378.31,-309.48,-10.9724,NULL),
(23616,96,-2372.53,-304.568,-10.25,NULL),
(23616,97,-2368.09,-300.791,-9.8075,NULL),
(23616,98,-2362.85,-306.903,-9.43007,NULL),
(23616,99,-2357.08,-313.636,-9.4033,NULL),
(23616,100,-2351.38,-320.279,-8.90869,NULL),
(23616,101,-2345.99,-326.566,-8.322,NULL),
(23616,102,-2340.75,-332.678,-8.27845,NULL),
(23616,103,-2334.68,-339.762,-8.72467,NULL),
(23616,104,-2329.44,-345.874,-9.09461,NULL),
(23616,105,-2324.35,-351.811,-9.03672,NULL),
(23616,106,-2315.38,-351.512,-9.41811,NULL),
(23616,107,-2306.28,-351.21,-9.42405,NULL),
(23616,108,-2296.95,-350.9,-9.42405,NULL),
(23616,109,-2287.04,-350.57,-9.42405,NULL),
(23616,110,-2277.47,-350.252,-9.42405,NULL),
(23616,111,-2267.68,-349.927,-9.42405,NULL),
(23616,112,-2257.3,-349.582,-9.42405,NULL),
(23616,113,-2249.49,-343.098,-9.42405,NULL),
(23616,114,-2242.49,-337.284,-9.42405,NULL),
(23616,115,-2235.94,-331.842,-9.42405,NULL),
(23616,116,-2229.39,-326.405,-9.42405,NULL),
(23616,117,-2227.81,-315.783,-9.42405,NULL),
(23616,118,-2226.51,-307.01,-9.42405,NULL),
(23616,119,-2225.38,-299.394,-9.42405,NULL),
(23616,120,-2228.85,-290.862,-9.42405,NULL),
(23616,121,-2232.33,-282.33,-9.41762,NULL),
(23616,122,-2235.63,-274.226,-9.39903,NULL),
(23616,123,-2240.33,-262.66,-9.58301,NULL),
(23616,124,-2244.03,-253.577,-9.86122,NULL),
(23616,125,-2246.94,-246.445,-10.1387,NULL),
(23616,126,-2249.97,-238.996,-10.3931,NULL),
(23616,127,-2258.71,-239.424,-9.62488,NULL),
(23616,128,-2267.21,-239.841,-9.44563,NULL),
(23616,129,-2276.89,-240.314,-9.42614,NULL),
(23616,130,-2287.26,-240.823,-9.42614,NULL),
(23616,131,-2297.4,-241.319,-9.42614,NULL),
(23616,132,-2307.53,-241.815,-9.35766,NULL),
(23616,133,-2317.09,-242.283,-8.76658,NULL),
(23616,134,-2325.48,-242.694,-8.00184,NULL),
(23616,135,-2334.57,-243.139,-7.49743,NULL),
(23616,136,-2336.26,-250.868,-7.14577,NULL),
(23616,137,-2338.24,-259.873,-7.1643,NULL),
(23616,138,-2336.31,-268.652,-7.7757,NULL),
(23616,139,-2334.23,-278.107,-8.76737,NULL),
(23616,140,-2332.23,-287.221,-9.41568,NULL),
(23616,141,-2330.48,-295.193,-9.42483,NULL),
(23616,142,-2328.68,-303.397,-9.42483,NULL),
(23616,143,-2326.97,-311.15,-9.42483,NULL),
(23616,144,-2325.17,-319.355,-9.42483,NULL),
(23616,145,-2323.29,-327.901,-9.42483,NULL),
(23616,146,-2321.57,-335.764,-9.42483,NULL),
(23616,147,-2325.23,-345.469,-9.23176,NULL),
(23616,148,-2328.24,-353.439,-8.8422,NULL),
(23616,149,-2331.29,-361.514,-8.67457,NULL),
(23616,150,-2334.51,-370.027,-8.48002,NULL),
(23616,151,-2337.18,-377.12,-8.15736,NULL),
(23616,152,-2340.11,-384.867,-7.99641,NULL),
(23616,153,-2342.95,-392.398,-8.09203,NULL),
(23616,154,-2345.39,-398.841,-8.51311,NULL),
(23616,155,-2348.23,-406.379,-9.3399,NULL),
(23616,156,-2350.99,-413.694,-9.64571,NULL),
(23616,157,-2353.8,-421.116,-9.60751,NULL),
(23616,158,-2356.27,-427.662,-8.17112,NULL),
(23616,159,-2358.82,-434.426,-7.08524,NULL),
(23616,160,-2361.13,-440.536,-6.42227,NULL),
(23616,161,-2363.6,-447.085,-5.94694,NULL),
(23616,162,-2366.08,-453.634,-5.70276,NULL),
(23616,163,-2368.67,-460.51,-5.66892,NULL),
(23616,164,-2371.43,-467.824,-5.8883,NULL),
(23616,165,-2364.84,-472.009,-6.42863,NULL),
(23616,166,-2357.65,-476.568,-7.06195,NULL),
(23616,167,-2350.85,-480.88,-7.65255,NULL),
(23616,168,-2344.45,-484.941,-8.0312,NULL),
(23616,169,-2337.75,-489.193,-8.45075,NULL),
(23616,170,-2331.94,-492.879,-8.96269,NULL),
(23616,171,-2323.86,-498.005,-9.28433,NULL),
(23616,172,-2317.94,-501.754,-9.36648,NULL),
(23616,173,-2312.33,-505.313,-8.93575,NULL),
(23616,174,-2306.81,-508.815,-8.16193,NULL),
(23616,175,-2301.59,-512.126,-7.82108,NULL),
(23616,176,-2296.85,-515.134,-8.06474,NULL),
(23616,177,-2292.02,-518.197,-8.32228,NULL),
(23616,178,-2287,-521.381,-8.20957,NULL),
(23616,179,-2281.98,-524.568,-7.58784,NULL),
(23616,180,-2276.66,-527.943,-6.98624,NULL),
(23616,181,-2273,-522.118,-7.89535,NULL),
(23616,182,-2269.64,-516.784,-8.47353,NULL),
(23616,183,-2266.1,-511.155,-8.38185,NULL),
(23616,184,-2262.56,-505.526,-7.47945,NULL),
(23616,185,-2259.15,-500.098,-6.66716,NULL),
(23616,186,-2255.73,-494.664,-6.46549,NULL),
(23616,187,-2251.88,-488.542,-6.56247,NULL),
(23616,188,-2248.22,-482.711,-6.92726,NULL),
(23616,189,-2244.74,-477.177,-7.41557,NULL),
(23616,190,-2241.13,-471.447,-7.91505,NULL),
(23616,191,-2238.03,-466.51,-8.32149,NULL),
(23616,192,-2234.42,-460.78,-8.50703,NULL),
(23616,193,-2230.64,-454.754,-8.63974,NULL),
(23616,194,-2227.16,-449.225,-8.54627,NULL),
(23616,195,-2223.12,-442.796,-8.41657,NULL),
(23616,196,-2218.27,-435.092,-8.18809,NULL),
(23616,197,-2212.99,-426.695,-7.7143,NULL),
(23616,198,-2207.99,-418.734,-6.97067,NULL),
(23616,199,-2204.82,-413.698,-6.48742,NULL),
(23616,200,-2202.15,-409.449,-6.19947,NULL),
(23616,201,-2209.14,-406.808,-7.59925,NULL),
(23616,202,-2216.56,-404.006,-8.6767,NULL),
(23616,203,-2223.44,-401.409,-9.34397,NULL),
(23616,204,-2230.64,-398.689,-9.42395,NULL),
(23616,205,-2238.17,-395.845,-9.42395,NULL),
(23616,206,-2245.81,-392.959,-9.42395,NULL),
(23616,207,-2253.45,-390.073,-9.42395,NULL),
(23616,208,-2260.88,-387.269,-9.42395,NULL),
(23616,209,-2268.3,-384.467,-9.42395,NULL),
(23616,210,-2275.5,-381.747,-9.42395,NULL),
(23616,211,-2282.93,-378.943,-9.42395,NULL),
(23616,212,-2290.03,-376.262,-9.33396,NULL),
(23616,213,-2298.5,-373.064,-9.29774,NULL),
(23616,214,-2309.55,-373.893,-9.36547,NULL),
(23616,215,-2317.92,-374.521,-9.2531,NULL),
(23616,216,-2327.11,-375.209,-8.46915,NULL),
(23616,217,-2334.32,-375.75,-8.21152,NULL),
(23616,218,-2343.04,-376.404,-8.18285,NULL),
(23616,219,-2349.9,-376.918,-7.64458,NULL),
(23616,220,-2357.93,-377.52,-6.77223,NULL),
(23616,221,-2366.31,-378.148,-5.69423,NULL),
(23616,222,-2374.68,-378.776,-4.27223,NULL),
(23616,223,-2379.64,-379.147,-3.78264,NULL),
(23616,224,-2386.27,-379.644,-3.61824,NULL),
(23616,225,-2393.24,-380.167,-2.80927,NULL),
(23616,226,-2399.75,-380.655,-2.16875,NULL),
(23616,227,-2405.92,-381.118,-1.89964,NULL),
(23616,228,-2412.09,-381.58,-2.14821,NULL),
(23616,229,-2418.84,-382.086,-2.26699,NULL),
(23616,230,-2424.08,-382.479,-2.63946,NULL),
(23616,231,-2428.27,-382.793,-3.53733,NULL),
(23616,232,-2433.15,-383.159,-4.84723,NULL),
(23616,233,-2437.93,-383.517,-5.74546,NULL),
(23616,234,-2444.21,-383.988,-5.94282,NULL),
(23616,235,-2450.73,-384.476,-5.99063,NULL),
(23616,236,-2457.47,-384.982,-6.16397,NULL),
(23616,237,-2461.1,-390.555,-5.17075,NULL),
(23616,238,-2464.28,-395.442,-4.49089,NULL),
(23616,239,-2468.04,-401.209,-3.91073,NULL),
(23616,240,-2471.66,-406.782,-3.48607,NULL),
(23616,241,-2475.17,-412.161,-3.3681,NULL),
(23616,242,-2478.54,-417.341,-3.50108,NULL),
(23616,243,-2481.78,-422.328,-3.70758,NULL),
(23616,244,-2485.6,-428.194,-4.24647,NULL),
(23616,245,-2489.17,-433.668,-5.00575,NULL),
(23616,246,-2492.73,-439.141,-5.82134,NULL),
(23616,247,-2496.04,-444.227,-6.59862,NULL),
(23616,248,-2499.54,-449.607,-7.50796,NULL),
(23616,249,-2496.93,-456.357,-8.00827,NULL),
(23616,250,-2494.32,-463.1,-8.52114,NULL),
(23616,251,-2492.09,-468.871,-8.9419,NULL),
(23616,252,-2489.81,-474.74,-9.25254,NULL),
(23616,253,-2487.37,-481.052,-9.39655,NULL),
(23616,254,-2484.23,-489.167,-9.42488,NULL),
(23616,255,-2476.18,-487.234,-9.37436,NULL),
(23616,256,-2465.4,-484.646,-9.16587,NULL);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
