-- DB update 2020_11_30_00 -> 2020_11_30_01
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_11_30_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_11_30_00 2020_11_30_01 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606737501414105996'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606737501414105996');

UPDATE `creature_template` SET `speed_walk` = 1.1 WHERE `entry` = 1839;

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 49764;

DELETE FROM `creature_addon` WHERE `guid` = 49764;
INSERT INTO `creature_addon` (`guid`, `path_id`, `mount`, `bytes1`, `bytes2`, `emote`, `isLarge`, `auras`)
VALUES
(49764,497640,0,0,1,0,0,NULL);

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 1839;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 1839 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(1839,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Scarlet High Clerist - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 497640;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(497640,1,2368.75,-2031.66,141.802,0,0,0,0,100,0),
(497640,2,2364.21,-2035.68,145.569,0,0,0,0,100,0),
(497640,3,2359.31,-2040.02,149.084,0,0,0,0,100,0),
(497640,4,2354.87,-2043.95,152.933,0,0,0,0,100,0),
(497640,5,2350.49,-2047.8,156.441,0,0,0,0,100,0),
(497640,6,2345.92,-2051.81,160.425,0,0,0,0,100,0),
(497640,7,2340.93,-2056.2,164.053,0,0,0,0,100,0),
(497640,8,2338.57,-2059.82,165.943,0,0,0,0,100,0),
(497640,9,2335.89,-2063.93,167.412,0,0,0,0,100,0),
(497640,10,2333.52,-2067.57,168.185,0,0,0,0,100,0),
(497640,11,2329.28,-2065.89,168.449,0,0,0,0,100,0),
(497640,12,2325.31,-2064.32,168.53,0,0,0,0,100,0),
(497640,13,2328.9,-2061.72,168.374,0,0,0,0,100,0),
(497640,14,2333.15,-2058.63,167.005,0,0,0,0,100,0),
(497640,15,2336.98,-2055.86,165.002,0,0,0,0,100,0),
(497640,16,2340.68,-2052.47,162.288,0,0,0,0,100,0),
(497640,17,2345.49,-2048.05,158.098,0,0,0,0,100,0),
(497640,18,2349.93,-2043.97,153.963,0,0,0,0,100,0),
(497640,19,2354.35,-2039.92,150.691,0,0,0,0,100,0),
(497640,20,2357.77,-2035.94,147.267,0,0,0,0,100,0),
(497640,21,2361.57,-2031.5,143.595,0,0,0,0,100,0),
(497640,22,2365.45,-2026.98,139.767,0,0,0,0,100,0),
(497640,23,2369.64,-2023.44,136.429,0,0,0,0,100,0),
(497640,24,2373.66,-2020.05,133.688,0,0,0,0,100,0),
(497640,25,2377.94,-2016.44,131.693,0,0,0,0,100,0),
(497640,26,2376.56,-2011.01,129.953,0,0,0,0,100,0),
(497640,27,2375.37,-2006.37,130.087,0,0,0,0,100,0),
(497640,28,2374.06,-2001.21,130.562,0,0,0,0,100,0),
(497640,29,2373.58,-1996.11,130.715,0,0,0,0,100,0),
(497640,30,2373.14,-1991.46,130.303,0,0,0,0,100,0),
(497640,31,2372.71,-1986.93,129.341,0,0,0,0,100,0),
(497640,32,2372.28,-1982.43,128.278,0,0,0,0,100,0),
(497640,33,2373.67,-1978.21,126.932,0,0,0,0,100,0),
(497640,34,2375.05,-1974,124.843,0,0,0,0,100,0),
(497640,35,2376.51,-1969.57,121.839,0,0,0,0,100,0),
(497640,36,2376.13,-1964.33,118.163,0,0,0,0,100,0),
(497640,37,2375.65,-1957.58,115.267,0,0,0,0,100,0),
(497640,38,2375.11,-1950.14,112.396,0,0,0,0,100,0),
(497640,39,2374.27,-1944.28,110.472,0,0,0,0,100,0),
(497640,40,2373.39,-1938.16,108.648,0,0,0,0,100,0),
(497640,41,2372.51,-1931.98,107.089,0,0,0,0,100,0),
(497640,42,2367.56,-1928.68,106.144,0,0,0,0,100,0),
(497640,43,2361.35,-1924.53,104.755,0,0,0,0,100,0),
(497640,44,2354.68,-1920.08,102.883,0,0,0,0,100,0),
(497640,45,2349.23,-1914.8,100.983,0,0,0,0,100,0),
(497640,46,2342.78,-1908.55,98.6772,0,0,0,0,100,0),
(497640,47,2336.79,-1905.16,96.9437,0,0,0,0,100,0),
(497640,48,2331.2,-1902,95.3823,0,0,0,0,100,0),
(497640,49,2325.45,-1898.75,93.837,0,0,0,0,100,0),
(497640,50,2321.9,-1894.43,92.6564,0,0,0,0,100,0),
(497640,51,2318.2,-1889.93,91.6167,0,0,0,0,100,0),
(497640,52,2318.15,-1883.85,91.1817,0,0,0,0,100,0),
(497640,53,2318.09,-1878.14,90.7498,0,0,0,0,100,0),
(497640,54,2318.05,-1873.37,90.6731,0,0,0,0,100,0),
(497640,55,2309.98,-1871.07,90.6959,0,0,0,0,100,0),
(497640,56,2306.15,-1875.78,90.2102,0,0,0,0,100,0),
(497640,57,2302.33,-1880.49,89.9891,0,0,0,0,100,0),
(497640,58,2298.41,-1885.31,90.1141,0,0,0,0,100,0),
(497640,59,2303.33,-1887.45,90.9459,0,0,0,0,100,0),
(497640,60,2309.01,-1889.92,91.3892,0,0,0,0,100,0),
(497640,61,2314.91,-1892.48,91.7336,0,0,0,0,100,0),
(497640,62,2319.62,-1896.11,92.5542,0,0,0,0,100,0),
(497640,63,2324.97,-1900.25,93.9012,0,0,0,0,100,0),
(497640,64,2330.42,-1904.45,95.4895,0,0,0,0,100,0),
(497640,65,2337.46,-1909.88,97.6478,0,0,0,0,100,0),
(497640,66,2342,-1913.91,99.2845,0,0,0,0,100,0),
(497640,67,2347.14,-1918.48,101.154,0,0,0,0,100,0),
(497640,68,2352.89,-1923.6,103.306,0,0,0,0,100,0),
(497640,69,2359.56,-1929.53,105.619,0,0,0,0,100,0),
(497640,70,2364.74,-1933.51,107.029,0,0,0,0,100,0),
(497640,71,2370,-1937.54,108.374,0,0,0,0,100,0),
(497640,72,2370.6,-1942.64,109.839,0,0,0,0,100,0),
(497640,73,2371.3,-1948.67,111.603,0,0,0,0,100,0),
(497640,74,2371.99,-1954.59,113.667,0,0,0,0,100,0),
(497640,75,2376.1,-1959.22,115.96,0,0,0,0,100,0),
(497640,76,2380.13,-1963.75,118.456,0,0,0,0,100,0),
(497640,77,2383.27,-1967.29,121.956,0,0,0,0,100,0),
(497640,78,2385.23,-1971.53,124.902,0,0,0,0,100,0),
(497640,79,2387.67,-1976.81,127.84,0,0,0,0,100,0),
(497640,80,2390.15,-1980.77,129.519,0,0,0,0,100,0),
(497640,81,2392.81,-1985.02,129.684,0,0,0,0,100,0),
(497640,82,2395.82,-1989.83,129.256,0,0,0,0,100,0),
(497640,83,2395.04,-1996.08,128.708,0,0,0,0,100,0),
(497640,84,2394.34,-2001.64,128.207,0,0,0,0,100,0),
(497640,85,2393.73,-2006.51,128.204,0,0,0,0,100,0),
(497640,86,2389.23,-2009.44,128.643,0,0,0,0,100,0),
(497640,87,2385.12,-2012.11,129.615,0,0,0,0,100,0),
(497640,88,2382.32,-2013.94,130.22,0,0,0,0,100,0),
(497640,89,2379.63,-2018.03,131.937,0,0,0,0,100,0),
(497640,90,2376.81,-2022.32,133.811,0,0,0,0,100,0),
(497640,91,2374.71,-2025.51,135.709,0,0,0,0,100,0),
(497640,92,2371.7,-2028.61,138.534,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
