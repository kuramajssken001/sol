-- DB update 2020_11_30_05 -> 2020_11_30_06
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_11_30_05';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_11_30_05 2020_11_30_06 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606777016057925534'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606777016057925534');

UPDATE `creature` SET `position_x` = 591.098, `position_y` = -1326.51, `position_z` = 92.2916, `MovementType` = 2 WHERE `guid` = 20429;
UPDATE `creature_addon` SET `path_id` = 204290 WHERE `guid` = 20429;

DELETE FROM `smart_scripts` WHERE `entryorguid` = 5830 AND `source_type` = 0 AND `id` = 4;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(5830,0,4,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Sister Rathtalon - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 204290;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(204290,1,591.098,-1326.51,92.2916,0,0,0,0,100,0),
(204290,2,605.883,-1321.84,91.7916,0,0,0,0,100,0),
(204290,3,615.782,-1319.11,91.6668,0,0,0,0,100,0),
(204290,4,624.948,-1316.58,91.7916,0,0,0,0,100,0),
(204290,5,633.894,-1312.31,91.6668,0,0,0,0,100,0),
(204290,6,643.687,-1307.64,91.7916,0,0,0,0,100,0),
(204290,7,655.062,-1304.58,91.6682,0,0,0,0,100,0),
(204290,8,668.631,-1300.92,91.7916,0,0,0,0,100,0),
(204290,9,679.19,-1301.98,91.7639,0,0,0,0,100,0),
(204290,10,686.455,-1302.7,91.954,0,0,0,0,100,0),
(204290,11,692.319,-1303.29,91.7916,0,0,0,0,100,0),
(204290,12,700.956,-1305.84,91.6671,0,0,0,0,100,0),
(204290,13,709.348,-1308.32,91.6671,0,0,0,0,100,0),
(204290,14,718.773,-1311.1,91.8569,0,0,0,0,100,0),
(204290,15,725.993,-1314.38,92.2266,0,0,0,0,100,0),
(204290,16,733.43,-1317.76,92.5776,0,0,0,0,100,0),
(204290,17,742.36,-1321.82,92.6459,0,0,0,0,100,0),
(204290,18,748.389,-1325.38,92.1781,0,0,0,0,100,0),
(204290,19,754.919,-1329.23,91.7916,0,0,0,0,100,0),
(204290,20,758.454,-1339.12,91.7097,0,0,0,0,100,0),
(204290,21,761.752,-1348.34,91.7288,0,0,0,0,100,0),
(204290,22,759.993,-1355.35,91.7129,0,0,0,0,100,0),
(204290,23,758.361,-1361.86,91.7288,0,0,0,0,100,0),
(204290,24,752.498,-1368.36,91.6695,0,0,0,0,100,0),
(204290,25,746.012,-1375.54,91.7916,0,0,0,0,100,0),
(204290,26,738.712,-1378.66,91.6668,0,0,0,0,100,0),
(204290,27,730.125,-1382.33,91.6668,0,0,0,0,100,0),
(204290,28,722.187,-1385.72,91.7916,0,0,0,0,100,0),
(204290,29,714.103,-1384.55,91.6668,0,0,0,0,100,0),
(204290,30,706.704,-1383.47,91.6668,0,0,0,0,100,0),
(204290,31,699.241,-1382.39,91.7916,0,0,0,0,100,0),
(204290,32,693.058,-1376.37,91.6668,0,0,0,0,100,0),
(204290,33,686.015,-1369.51,91.7916,0,0,0,0,100,0),
(204290,34,681.252,-1365.96,91.6668,0,0,0,0,100,0),
(204290,35,675.795,-1361.89,91.7916,0,0,0,0,100,0),
(204290,36,670.654,-1358.68,91.6667,0,0,0,0,100,0),
(204290,37,665.328,-1355.35,91.7916,0,0,0,0,100,0),
(204290,38,659.012,-1350.17,91.6668,0,0,0,0,100,0),
(204290,39,652.188,-1344.57,91.7916,0,0,0,0,100,0),
(204290,40,643.963,-1339.45,91.6669,0,0,0,0,100,0),
(204290,41,636.429,-1334.76,91.7916,0,0,0,0,100,0),
(204290,42,632.755,-1329.35,91.6667,0,0,0,0,100,0),
(204290,43,628.536,-1323.14,91.7916,0,0,0,0,100,0),
(204290,44,623.619,-1314.03,91.7916,0,0,0,0,100,0),
(204290,45,619.673,-1306.61,91.6667,0,0,0,0,100,0),
(204290,46,615.407,-1298.6,91.7917,0,0,0,0,100,0),
(204290,47,609.614,-1291.13,91.6667,0,0,0,0,100,0),
(204290,48,604.114,-1284.03,91.7917,0,0,0,0,100,0),
(204290,49,598.049,-1278.43,91.7592,0,0,0,0,100,0),
(204290,50,592.906,-1273.68,91.922,0,0,0,0,100,0),
(204290,51,587.851,-1269.01,92.0619,0,0,0,0,100,0),
(204290,52,582.474,-1264.9,91.7864,0,0,0,0,100,0),
(204290,53,576.031,-1259.97,91.7916,0,0,0,0,100,0),
(204290,54,568.507,-1258.33,91.711,0,0,0,0,100,0),
(204290,55,560.895,-1256.68,92.0468,0,0,0,0,100,0),
(204290,56,553.81,-1255.99,92.2248,0,0,0,0,100,0),
(204290,57,545.482,-1255.18,91.8714,0,0,0,0,100,0),
(204290,58,534.852,-1253.39,91.7916,0,0,0,0,100,0),
(204290,59,526.591,-1260.62,91.7916,0,0,0,0,100,0),
(204290,60,522.1,-1267.44,91.6667,0,0,0,0,100,0),
(204290,61,516.459,-1276.02,91.6667,0,0,0,0,100,0),
(204290,62,510.401,-1285.22,91.7916,0,0,0,0,100,0),
(204290,63,510.396,-1296.53,91.6693,0,0,0,0,100,0),
(204290,64,510.391,-1306.54,91.7916,0,0,0,0,100,0),
(204290,65,512.582,-1313.67,91.667,0,0,0,0,100,0),
(204290,66,515.124,-1321.95,91.7916,0,0,0,0,100,0),
(204290,67,518.311,-1328.96,91.6667,0,0,0,0,100,0),
(204290,68,521.895,-1336.84,91.7917,0,0,0,0,100,0),
(204290,69,529.782,-1343.76,91.7917,0,0,0,0,100,0),
(204290,70,536.904,-1347.25,91.6667,0,0,0,0,100,0),
(204290,71,546.542,-1351.97,91.6667,0,0,0,0,100,0),
(204290,72,556.792,-1356.99,91.7917,0,0,0,0,100,0),
(204290,73,561.439,-1362.38,91.6668,0,0,0,0,100,0),
(204290,74,567.064,-1368.91,91.7916,0,0,0,0,100,0),
(204290,75,570.831,-1375.9,91.7337,0,0,0,0,100,0),
(204290,76,574.606,-1382.9,91.7916,0,0,0,0,100,0),
(204290,77,576.47,-1391.21,92.3061,0,0,0,0,100,0),
(204290,78,578.411,-1399.87,93.3668,0,0,0,0,100,0),
(204290,79,580.1,-1405.66,92.8432,0,0,0,0,100,0),
(204290,80,582.291,-1413.16,91.9515,0,0,0,0,100,0),
(204290,81,584.315,-1420.1,91.7917,0,0,0,0,100,0),
(204290,82,586.543,-1430.48,91.6985,0,0,0,0,100,0),
(204290,83,588.742,-1440.73,91.7917,0,0,0,0,100,0),
(204290,84,584.805,-1448.02,91.8963,0,0,0,0,100,0),
(204290,85,581.474,-1454.18,92.1729,0,0,0,0,100,0),
(204290,86,577.568,-1461.41,92.6667,0,0,0,0,100,0),
(204290,87,572.814,-1467.02,92.9022,0,0,0,0,100,0),
(204290,88,567.409,-1473.39,92.4488,0,0,0,0,100,0),
(204290,89,560.991,-1481.11,91.691,0,0,0,0,100,0),
(204290,90,555.569,-1487.63,91.7917,0,0,0,0,100,0),
(204290,91,547.823,-1492.84,91.903,0,0,0,0,100,0),
(204290,92,538.345,-1499.21,93.1349,0,0,0,0,100,0),
(204290,93,528.109,-1500.11,93.9585,0,0,0,0,100,0),
(204290,94,517.216,-1501.07,94.5103,0,0,0,0,100,0),
(204290,95,510.108,-1499.74,94.5134,0,0,0,0,100,0),
(204290,96,501.507,-1498.14,94.5447,0,0,0,0,100,0),
(204290,97,492.097,-1496.38,94.3223,0,0,0,0,100,0),
(204290,98,483.586,-1488.75,93.9755,0,0,0,0,100,0),
(204290,99,474.586,-1480.68,93.079,0,0,0,0,100,0),
(204290,100,471.129,-1474.32,92.2436,0,0,0,0,100,0),
(204290,101,467.783,-1468.16,91.7619,0,0,0,0,100,0),
(204290,102,464.53,-1462.18,91.7917,0,0,0,0,100,0),
(204290,103,462.658,-1453.39,91.6689,0,0,0,0,100,0),
(204290,104,460.698,-1444.19,91.7917,0,0,0,0,100,0),
(204290,105,462.673,-1437.84,91.6678,0,0,0,0,100,0),
(204290,106,464.752,-1431.16,91.6684,0,0,0,0,100,0),
(204290,107,466.94,-1424.12,91.7917,0,0,0,0,100,0),
(204290,108,470.694,-1413.05,91.7917,0,0,0,0,100,0),
(204290,109,476.851,-1405.73,91.6667,0,0,0,0,100,0),
(204290,110,482.416,-1399.12,91.7917,0,0,0,0,100,0),
(204290,111,488.409,-1393.56,91.6795,0,0,0,0,100,0),
(204290,112,495.68,-1386.81,91.6706,0,0,0,0,100,0),
(204290,113,502.072,-1380.88,91.7917,0,0,0,0,100,0),
(204290,114,508.496,-1376.23,91.667,0,0,0,0,100,0),
(204290,115,517.941,-1369.39,91.7422,0,0,0,0,100,0),
(204290,116,527.991,-1362.11,91.7917,0,0,0,0,100,0),
(204290,117,535.223,-1355.5,91.6675,0,0,0,0,100,0),
(204290,118,542.13,-1349.18,91.7917,0,0,0,0,100,0),
(204290,119,551.617,-1345.55,91.6918,0,0,0,0,100,0),
(204290,120,562.347,-1341.45,91.8798,0,0,0,0,100,0),
(204290,121,571.463,-1338.19,92.528,0,0,0,0,100,0),
(204290,122,578.54,-1335.66,92.8374,0,0,0,0,100,0),
(204290,123,584.763,-1331.13,92.5568,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
