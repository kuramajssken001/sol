-- DB update 2020_12_12_02 -> 2020_12_13_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_12_02';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_12_02 2020_12_13_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607815458171696633'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607815458171696633');

UPDATE `creature_template` SET `speed_walk` = 1.1 WHERE `entry` = 14269;

UPDATE `creature` SET `position_x` = -9387.44, `position_y` = -2891.8, `position_z` = 43.6141 WHERE `guid` = 45220;
UPDATE `creature` SET `position_x` = -9522.54, `position_y` = -2969.38, `position_z` = 53.9959 WHERE `guid` = 134160;
UPDATE `creature` SET `position_x` = -9612.13, `position_y` = -3028.68, `position_z` = 45.2615 WHERE `guid` = 134161;

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 14269;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 14269 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(14269,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Seeker Aqualon - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` IN (452200,1341600,1341610);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(452200,1,-9387.44,-2891.8,43.6141,0,0,0,0,100,0),
(452200,2,-9387.4,-2861.08,37.9024,0,0,0,0,100,0),
(452200,3,-9390.92,-2836.2,36.5413,0,0,0,0,100,0),
(452200,4,-9394.38,-2826.47,36.5943,0,0,0,0,100,0),
(452200,5,-9422.18,-2796.84,37.1829,0,0,0,0,100,0),
(452200,6,-9421.52,-2784.65,40.3254,0,0,0,0,100,0),
(452200,7,-9407.96,-2772.41,42.7971,0,0,0,0,100,0),
(452200,8,-9413.67,-2765.47,45.2339,0,0,0,0,100,0),
(452200,9,-9419.94,-2757.35,45.6977,0,0,0,0,100,0),
(452200,10,-9427.84,-2746.59,44.4056,0,0,0,0,100,0),
(452200,11,-9465.08,-2714.39,38.6094,0,0,0,0,100,0),
(452200,12,-9467.01,-2689.31,38.789,0,0,0,0,100,0),
(452200,13,-9452.37,-2656.44,42.2524,0,0,0,0,100,0),
(452200,14,-9435.35,-2620.49,43.7272,0,0,0,0,100,0),
(452200,15,-9450.35,-2593.49,41.0066,0,0,0,0,100,0),
(452200,16,-9466.51,-2617.1,42.3159,0,0,0,0,100,0),
(452200,17,-9483.07,-2640.72,42.8034,0,0,0,0,100,0),
(452200,18,-9497.22,-2694.63,42.9884,0,0,0,0,100,0),
(452200,19,-9470.62,-2723.05,39.9456,0,0,0,0,100,0),
(452200,20,-9453.95,-2739.74,42.3629,0,0,0,0,100,0),
(452200,21,-9439.2,-2753.81,45.6244,0,0,0,0,100,0),
(452200,22,-9426.92,-2766.92,47.2859,0,0,0,0,100,0),
(452200,23,-9399.17,-2786.24,38.1571,0,0,0,0,100,0),
(452200,24,-9391.17,-2845.95,36.3712,0,0,0,0,100,0),

(1341600,1,-9522.54,-2969.38,53.9959,0,0,0,0,100,0),
(1341600,2,-9499.09,-2952.25,54.3156,0,0,0,0,100,0),
(1341600,3,-9474.43,-2934.24,54.3156,0,0,0,0,100,0),
(1341600,4,-9451.61,-2917.58,54.3156,0,0,0,0,100,0),
(1341600,5,-9434.56,-2905.12,53.9959,0,0,0,0,100,0),
(1341600,6,-9451.61,-2917.58,54.3156,0,0,0,0,100,0),
(1341600,7,-9474.43,-2934.24,54.3156,0,0,0,0,100,0),
(1341600,8,-9499.09,-2952.25,54.3156,0,0,0,0,100,0),

(1341610,1,-9612.13,-3028.68,45.2615,0,0,0,0,100,0),
(1341610,2,-9607.97,-3046.51,45.6043,0,0,0,0,100,0),
(1341610,3,-9603.81,-3064.07,45.0584,0,0,0,0,100,0),
(1341610,4,-9593.24,-3084.21,45.1323,0,0,0,0,100,0),
(1341610,5,-9583.5,-3102.74,45.0659,0,0,0,0,100,0),
(1341610,6,-9586.62,-3120.3,44.932,0,0,0,0,100,0),
(1341610,7,-9603.82,-3146.31,45.0562,0,0,0,0,100,0),
(1341610,8,-9600.13,-3162.41,45.0591,0,0,0,0,100,0),
(1341610,9,-9577.89,-3177.01,45.0591,0,0,0,0,100,0),
(1341610,10,-9558.15,-3189.97,45.0749,0,0,0,0,100,0),
(1341610,11,-9537.45,-3178.04,45.0576,0,0,0,0,100,0),
(1341610,12,-9518.41,-3146.02,45.3264,0,0,0,0,100,0),
(1341610,13,-9504.61,-3122.86,45.0576,0,0,0,0,100,0),
(1341610,14,-9483.22,-3120.98,45.4049,0,0,0,0,100,0),
(1341610,15,-9472.06,-3125.08,46.6763,0,0,0,0,100,0),
(1341610,16,-9483.22,-3120.98,45.4049,0,0,0,0,100,0),
(1341610,17,-9504.61,-3122.86,45.0576,0,0,0,0,100,0),
(1341610,18,-9518.41,-3146.02,45.3264,0,0,0,0,100,0),
(1341610,19,-9537.45,-3178.04,45.0576,0,0,0,0,100,0),
(1341610,20,-9558.15,-3189.97,45.0749,0,0,0,0,100,0),
(1341610,21,-9577.89,-3177.01,45.0591,0,0,0,0,100,0),
(1341610,22,-9600.13,-3162.41,45.0591,0,0,0,0,100,0),
(1341610,23,-9603.82,-3146.31,45.0562,0,0,0,0,100,0),
(1341610,24,-9586.62,-3120.3,44.932,0,0,0,0,100,0),
(1341610,25,-9583.5,-3102.74,45.0659,0,0,0,0,100,0),
(1341610,26,-9593.24,-3084.21,45.1323,0,0,0,0,100,0),
(1341610,27,-9603.81,-3064.07,45.0584,0,0,0,0,100,0),
(1341610,28,-9607.97,-3046.51,45.6043,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
