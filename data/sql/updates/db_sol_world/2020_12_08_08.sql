-- DB update 2020_12_08_07 -> 2020_12_08_08
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_08_07';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_08_07 2020_12_08_08 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607466673313417313'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607466673313417313');

DELETE FROM `smart_scripts` WHERE `entryorguid` = 5829 AND `source_type` = 0 AND `id` = 1;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(5829,0,1,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Snort the Heckler - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 204090;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(204090,1,108.055,-1546,91.6915,0,0,0,0,100,0),
(204090,2,97.209,-1544.36,92.2239,0,0,0,0,100,0),
(204090,3,86.87,-1542.8,93.0566,0,0,0,0,100,0),
(204090,4,72.9718,-1541.12,93.1768,0,0,0,0,100,0),
(204090,5,59.055,-1539.59,92.466,0,0,0,0,100,0),
(204090,6,38.4443,-1538.32,91.6809,0,0,0,0,100,0),
(204090,7,17.1402,-1537,92.3137,0,0,0,0,100,0),
(204090,8,3.17373,-1536.55,93.7863,0,0,0,0,100,0),
(204090,9,-11.2882,-1536.52,94.5646,0,0,0,0,100,0),
(204090,10,-24.8005,-1536.5,94.364,0,0,0,0,100,0),
(204090,11,-38.889,-1537.43,93.3403,0,0,0,0,100,0),
(204090,12,-52.7349,-1538.34,92.1371,0,0,0,0,100,0),
(204090,13,-75.3732,-1542.71,91.6674,0,0,0,0,100,0),
(204090,14,-102.961,-1553.73,91.6674,0,0,0,0,100,0),
(204090,15,-121.93,-1563.25,91.6674,0,0,0,0,100,0),
(204090,16,-140.499,-1572.57,91.6674,0,0,0,0,100,0),
(204090,17,-160.153,-1579.64,91.6993,0,0,0,0,100,0),
(204090,18,-178.653,-1586.3,91.7006,0,0,0,0,100,0),
(204090,19,-204.008,-1592.28,91.7495,0,0,0,0,100,0),
(204090,20,-216.117,-1588.82,93.2503,0,0,0,0,100,0),
(204090,21,-224.407,-1575.06,94.2634,0,0,0,0,100,0),
(204090,22,-215.206,-1567.43,93.8982,0,0,0,0,100,0),
(204090,23,-201.968,-1562.89,93.6552,0,0,0,0,100,0),
(204090,24,-175.437,-1554.08,93.5634,0,0,0,0,100,0),
(204090,25,-148.407,-1546.78,91.9568,0,0,0,0,100,0),
(204090,26,-121.438,-1539.25,91.6998,0,0,0,0,100,0),
(204090,27,-99.91,-1533.09,91.6873,0,0,0,0,100,0),
(204090,28,-81.0633,-1527.69,91.6975,0,0,0,0,100,0),
(204090,29,-67.7699,-1523.3,92.0168,0,0,0,0,100,0),
(204090,30,-54.3741,-1519.24,93.2931,0,0,0,0,100,0),
(204090,31,-40.8128,-1515.78,94.7142,0,0,0,0,100,0),
(204090,32,-26.2844,-1513.54,95.7569,0,0,0,0,100,0),
(204090,33,-14.5425,-1511.73,95.8112,0,0,0,0,100,0),
(204090,34,-3.5068,-1511.65,94.4266,0,0,0,0,100,0),
(204090,35,7.29144,-1511.57,92.5563,0,0,0,0,100,0),
(204090,36,21.2892,-1511.82,91.7457,0,0,0,0,100,0),
(204090,37,36.8475,-1514.27,91.6674,0,0,0,0,100,0),
(204090,38,54.7614,-1517.09,91.7437,0,0,0,0,100,0),
(204090,39,69.503,-1522.29,92.6202,0,0,0,0,100,0),
(204090,40,81.1671,-1526.4,92.0462,0,0,0,0,100,0),
(204090,41,94.037,-1530.95,92.1638,0,0,0,0,100,0),
(204090,42,107.566,-1535.73,91.6666,0,0,0,0,100,0),
(204090,43,122.295,-1540.55,91.6666,0,0,0,0,100,0),
(204090,44,137.708,-1545.6,91.6666,0,0,0,0,100,0),
(204090,45,152.452,-1550.43,91.6666,0,0,0,0,100,0),
(204090,46,168.606,-1552.83,91.6698,0,0,0,0,100,0),
(204090,47,183.484,-1555.04,91.6814,0,0,0,0,100,0),
(204090,48,201.709,-1552.29,91.667,0,0,0,0,100,0),
(204090,49,219.857,-1549.55,91.6679,0,0,0,0,100,0),
(204090,50,232.436,-1539.5,91.6679,0,0,0,0,100,0),
(204090,51,246.008,-1528.66,91.6679,0,0,0,0,100,0),
(204090,52,243.958,-1541.21,91.6679,0,0,0,0,100,0),
(204090,53,241.818,-1554.32,91.9317,0,0,0,0,100,0),
(204090,54,228.61,-1562.23,92.3119,0,0,0,0,100,0),
(204090,55,217.979,-1568.59,92.2729,0,0,0,0,100,0),
(204090,56,200.721,-1566.53,91.749,0,0,0,0,100,0),
(204090,57,180.253,-1564.08,92.2925,0,0,0,0,100,0),
(204090,58,166.508,-1559.19,91.8011,0,0,0,0,100,0),
(204090,59,155.611,-1555.32,91.6746,0,0,0,0,100,0),
(204090,60,142.326,-1552.72,91.6667,0,0,0,0,100,0),
(204090,61,125.496,-1549.42,91.6667,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
