-- DB update 2020_10_30_02 -> 2020_10_31_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_10_30_02';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_10_30_02 2020_10_31_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1604098854353878819'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1604098854353878819');

DELETE FROM `waypoint_data` WHERE `id` IN (235740,235940,235860);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(235740,1,-7110.35,-3835.82,10.0345,0,0,0,0,100,0),
(235740,2,-7116.3,-3843.18,9.5345,0,0,0,0,100,0),
(235740,3,-7128.96,-3855.33,9.7845,0,0,0,0,100,0),
(235740,4,-7134.34,-3867.45,10.1729,0,0,0,0,100,0),
(235740,5,-7143.66,-3870.58,9.67286,0,0,0,0,100,0),
(235740,6,-7154.77,-3865.18,9.4948,0,0,0,0,100,0),
(235740,7,-7163.55,-3862.29,8.97284,0,0,0,0,100,0),
(235740,8,-7176.22,-3858.53,8.91499,0,0,0,0,100,0),
(235740,9,-7181.43,-3857.22,9.28649,0,0,0,0,100,0),
(235740,10,-7183.36,-3849.94,8.9948,0,0,0,0,100,0),
(235740,11,-7180.12,-3840.05,8.6198,0,0,0,0,100,0),
(235740,12,-7176.17,-3828.01,9.1198,0,0,0,0,100,0),
(235740,13,-7173.43,-3822.37,9.1198,0,0,0,0,100,0),
(235740,14,-7157.89,-3819.53,8.4948,0,0,0,0,100,0),
(235740,15,-7145.49,-3823.72,8.6198,0,0,0,0,100,0),
(235740,16,-7135.36,-3822.8,8.4948,0,0,0,0,100,0),
(235740,17,-7119.29,-3825.7,8.61941,0,0,0,0,100,0),
(235740,18,-7108.6,-3829.62,9.61941,0,0,0,0,100,0),

(235940,1,-7194.9,-3736.13,8.4948,0,0,0,0,100,0),
(235940,2,-7192.29,-3739.31,8.71101,0,0,0,0,100,0),
(235940,3,-7189.77,-3742.38,8.3701,0,0,0,0,100,0),
(235940,4,-7184.88,-3748.33,8.4948,0,0,0,0,100,0),
(235940,5,-7170.15,-3761.11,8.4948,0,0,0,0,100,0),
(235940,6,-7149.9,-3757.38,8.47013,0,0,0,0,100,0),
(235940,7,-7140.19,-3756.01,8.89114,0,0,0,0,100,0),
(235940,8,-7129.63,-3754.53,9.20643,0,0,0,0,100,0),
(235940,9,-7120.17,-3754.89,8.46712,0,0,0,0,100,0),
(235940,10,-7103.06,-3755.55,8.45643,0,0,0,0,100,0),
(235940,11,-7093.5,-3755.63,8.90401,0,0,0,0,100,0),
(235940,12,-7083.39,-3755.72,8.7448,0,0,0,0,100,0),
(235940,13,-7078.98,-3768.65,8.87068,0,0,0,0,100,0),
(235940,14,-7081.31,-3787.74,8.62068,0,0,0,0,100,0),
(235940,15,-7086.56,-3798.41,8.49568,0,0,0,0,100,0),
(235940,16,-7095.78,-3797.97,8.90633,0,0,0,0,100,0),
(235940,17,-7100.72,-3797.74,8.49441,0,0,0,0,100,0),
(235940,18,-7118.83,-3809.28,8.49441,0,0,0,0,100,0),
(235940,19,-7129.36,-3818.4,8.61941,0,0,0,0,100,0),
(235940,20,-7143.38,-3819.46,8.8698,0,0,0,0,100,0),
(235940,21,-7156.7,-3813.15,8.4948,0,0,0,0,100,0),
(235940,22,-7172.14,-3798.79,8.4948,0,0,0,0,100,0),
(235940,23,-7185.89,-3786.55,8.4948,0,0,0,0,100,0),
(235940,24,-7199.58,-3777.64,8.4948,0,0,0,0,100,0),
(235940,25,-7209.81,-3774.81,8.49116,0,0,0,0,100,0),
(235940,26,-7216.67,-3772.92,8.4948,0,0,0,0,100,0),
(235940,27,-7218.22,-3761.29,8.9948,0,0,0,0,100,0),
(235940,28,-7214.76,-3754.64,9.35924,0,0,0,0,100,0),
(235940,29,-7211.69,-3748.74,8.95469,0,0,0,0,100,0),
(235940,30,-7208.93,-3743.44,8.4948,0,0,0,0,100,0),
(235940,31,-7201.55,-3734.94,8.4948,0,0,0,0,100,0),

(235860,1,-7146.82,-3750.35,8.47013,0,0,0,0,100,0),
(235860,2,-7132.4,-3746.41,8.45643,0,0,0,0,100,0),
(235860,3,-7122.09,-3746.71,8.45643,0,0,0,0,100,0),
(235860,4,-7106.71,-3744.65,8.45643,0,0,0,0,100,0),
(235860,5,-7102.14,-3737.29,8.83143,0,0,0,0,100,0),
(235860,6,-7105.47,-3724.7,8.87307,0,0,0,0,100,0),
(235860,7,-7117.68,-3717.52,8.99807,0,0,0,0,100,0),
(235860,8,-7122.15,-3714.14,10.2163,0,0,0,0,100,0),
(235860,9,-7125.38,-3711.7,11.3731,0,0,0,0,100,0),
(235860,10,-7129.77,-3708.62,10.9555,0,0,0,0,100,0),
(235860,11,-7134.17,-3705.53,9.6726,0,0,0,0,100,0),
(235860,12,-7137.96,-3702.87,9.20127,0,0,0,0,100,0),
(235860,13,-7147.06,-3701.08,9.07627,0,0,0,0,100,0),
(235860,14,-7158.31,-3706.74,9.45127,0,0,0,0,100,0),
(235860,15,-7167.94,-3719.48,9.61981,0,0,0,0,100,0),
(235860,16,-7178.01,-3734.72,8.9948,0,0,0,0,100,0),
(235860,17,-7177.49,-3744.49,8.42269,0,0,0,0,100,0),
(235860,18,-7177.01,-3753.58,8.68307,0,0,0,0,100,0),
(235860,19,-7176.58,-3761.71,8.4948,0,0,0,0,100,0),
(235860,20,-7168.66,-3766.07,8.4948,0,0,0,0,100,0),
(235860,21,-7157.02,-3755.97,8.47013,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
