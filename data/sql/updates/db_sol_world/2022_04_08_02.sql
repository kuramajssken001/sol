-- DB update 2022_04_08_01 -> 2022_04_08_02
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2022_04_08_01';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2022_04_08_01 2022_04_08_02 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1649416153182527250'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1649416153182527250');

UPDATE `creature_addon` SET `bytes2` = 1 WHERE `guid` = 89538;

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 874;
DELETE FROM `smart_scripts` WHERE `source_type` = 0 AND `entryorguid` = 874;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(874,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Protector Korelor - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 895380;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `pathfinding`, `action`, `action_chance`, `wpguid`)
VALUES
(895380,1,-10913.3,897.532,32.189,0,0,0,0,0,100,0),
(895380,2,-10913.8,887.674,31.6823,0,0,0,0,0,100,0),
(895380,3,-10914.2,879.636,31.8848,0,0,0,0,0,100,0),
(895380,4,-10917,872.409,32.2499,0,0,0,0,0,100,0),
(895380,5,-10920.2,863.992,33.0705,0,0,0,0,0,100,0),
(895380,6,-10923.2,857.009,33.0303,0,0,0,0,0,100,0),
(895380,7,-10926.5,849.26,32.6341,0,0,0,0,0,100,0),
(895380,8,-10927.1,839.22,32.5895,0,0,0,0,0,100,0),
(895380,9,-10927.7,829.891,32.2358,0,0,0,0,0,100,0),
(895380,10,-10925.9,820.724,31.4531,0,0,0,0,0,100,0),
(895380,11,-10924.5,813.409,31.1606,0,0,0,0,0,100,0),
(895380,12,-10920.4,804.316,30.7224,0,0,0,0,0,100,0),
(895380,13,-10915.6,793.833,30.7989,0,0,0,0,0,100,0),
(895380,14,-10908.5,785.79,30.7213,0,0,0,0,0,100,0),
(895380,15,-10901.5,777.871,30.7231,0,0,0,0,0,100,0),
(895380,16,-10896.3,771.275,30.7231,0,0,0,0,0,100,0),
(895380,17,-10888.4,761.262,31.0829,0,0,0,0,0,100,0),
(895380,18,-10881.2,752.068,31.0082,0,0,0,0,0,100,0),
(895380,19,-10877.5,738.557,31.02,0,0,0,0,0,100,0),
(895380,20,-10876,729.642,31.1708,0,0,0,0,0,100,0),
(895380,21,-10874.2,718.703,30.9326,0,0,0,0,0,100,0),
(895380,22,-10872.9,709.394,30.8895,0,0,0,0,0,100,0),
(895380,23,-10871.4,697.998,30.8917,0,0,0,0,0,100,0),
(895380,24,-10869.8,686.227,30.8918,0,0,0,0,0,100,0),
(895380,25,-10867.9,672.317,31.0003,0,0,0,0,0,100,0),
(895380,26,-10869.3,682.756,30.8938,0,0,0,0,0,100,0),
(895380,27,-10870.5,692.697,30.8912,0,0,0,0,0,100,0),
(895380,28,-10871.5,700.086,30.8926,0,0,0,0,0,100,0),
(895380,29,-10872.6,708.416,30.8893,0,0,0,0,0,100,0),
(895380,30,-10873.8,717.552,30.9154,0,0,0,0,0,100,0),
(895380,31,-10875.1,727.823,31.0981,0,0,0,0,0,100,0),
(895380,32,-10877.7,736.428,31.0648,0,0,0,0,0,100,0),
(895380,33,-10879.8,743.324,30.9718,0,0,0,0,0,100,0),
(895380,34,-10882.2,751.363,31.0264,0,0,0,0,0,100,0),
(895380,35,-10888.9,762.62,30.9987,0,0,0,0,0,100,0),
(895380,36,-10897.4,773.694,30.7234,0,0,0,0,0,100,0),
(895380,37,-10903.5,781.105,30.7234,0,0,0,0,0,100,0),
(895380,38,-10909.6,788.564,30.7292,0,0,0,0,0,100,0),
(895380,39,-10915.3,795.467,30.8026,0,0,0,0,0,100,0),
(895380,40,-10921,802.375,30.7235,0,0,0,0,0,100,0),
(895380,41,-10923.6,809.881,30.8977,0,0,0,0,0,100,0),
(895380,42,-10925.8,816.437,31.2799,0,0,0,0,0,100,0),
(895380,43,-10926.8,825.825,31.8799,0,0,0,0,0,100,0),
(895380,44,-10927.8,834.932,32.4619,0,0,0,0,0,100,0),
(895380,45,-10926.4,842.706,32.6221,0,0,0,0,0,100,0),
(895380,46,-10924.8,851.321,32.7565,0,0,0,0,0,100,0),
(895380,47,-10921.7,857.716,32.9764,0,0,0,0,0,100,0),
(895380,48,-10918.6,864.564,33.0786,0,0,0,0,0,100,0),
(895380,49,-10916.2,872.014,32.2362,0,0,0,0,0,100,0),
(895380,50,-10914.1,878.3,31.9863,0,0,0,0,0,100,0),
(895380,51,-10914.3,889.576,31.724,0,0,0,0,0,100,0),
(895380,52,-10914.4,899.868,32.1972,0,0,0,0,0,100,0),
(895380,53,-10918,906.021,32.1872,0,0,0,0,0,100,0),
(895380,54,-10921.3,911.77,31.9757,0,0,0,0,0,100,0),
(895380,55,-10927,916.701,31.4925,0,0,0,0,0,100,0),
(895380,56,-10934.3,922.965,31.4712,0,0,0,0,0,100,0),
(895380,57,-10941.9,929.471,31.5321,0,0,0,0,0,100,0),
(895380,58,-10949.9,936.38,31.4966,0,0,0,0,0,100,0),
(895380,59,-10947.9,944.232,31.5717,0,0,0,0,0,100,0),
(895380,60,-10945.7,953.076,31.5414,0,0,0,0,0,100,0),
(895380,61,-10943.6,961.672,31.863,0,0,0,0,0,100,0),
(895380,62,-10938.5,968.063,32.9348,0,0,0,0,0,100,0),
(895380,63,-10933.3,974.585,33.8724,0,0,0,0,0,100,0),
(895380,64,-10925.7,984.045,34.9675,0,0,0,0,0,100,0),
(895380,65,-10921.8,989.035,35.4684,0,0,0,0,0,100,0),
(895380,66,-10917.9,993.879,35.4522,0,0,0,0,0,100,0),
(895380,67,-10908.5,996.041,36.089,0,0,0,0,0,100,0),
(895380,68,-10905.5,996.73,36.1254,0,0,0,0,0,100,0),
(895380,69,-10900.1,998.129,35.661,0,0,0,0,0,100,0),
(895380,70,-10891.9,1000.25,34.4266,0,0,0,0,0,100,0),
(895380,71,-10882.6,1002.64,33.2321,0,0,0,0,0,100,0),
(895380,72,-10873,1005.11,32.1364,0,0,0,0,0,100,0),
(895380,73,-10863.5,1006,31.5475,0,0,0,0,0,100,0),
(895380,74,-10854.8,1006.81,31.8153,0,0,0,0,0,100,0),
(895380,75,-10845.7,1008.01,32.4782,0,0,0,0,0,100,0),
(895380,76,-10836,1009.27,32.6615,0,0,0,0,0,100,0),
(895380,77,-10828.1,1011.27,32.7745,0,0,0,0,0,100,0),
(895380,78,-10819.3,1013.53,32.7797,0,0,0,0,0,100,0),
(895380,79,-10809.9,1015.92,32.4195,0,0,0,0,0,100,0),
(895380,80,-10803.1,1016.99,32.1821,0,0,0,0,0,100,0),
(895380,81,-10797,1017.95,32.1534,0,0,0,0,0,100,0),
(895380,82,-10787.7,1017.3,32.8684,0,0,0,0,0,100,0),
(895380,83,-10781.9,1016.93,32.7116,0,0,0,0,0,100,0),
(895380,84,-10772.6,1016.34,32.2932,0,0,0,0,0,100,0),
(895380,85,-10759.5,1016.67,32.3843,0,0,0,0,0,100,0),
(895380,86,-10752.8,1018.07,32.8865,0,0,0,0,0,100,0),
(895380,87,-10746.8,1019.33,33.4104,0,0,0,0,0,100,0),
(895380,88,-10740.7,1022.16,33.5767,0,0,0,0,0,100,0),
(895380,89,-10731.9,1026.23,33.3136,0,0,0,0,0,100,0),
(895380,90,-10724.5,1028.14,33.0872,0,0,0,0,0,100,0),
(895380,91,-10715.9,1030.37,33.4872,0,0,0,0,0,100,0),
(895380,92,-10709.5,1032.04,33.3467,0,0,0,0,0,100,0),
(895380,93,-10701.7,1032.05,32.8979,0,0,0,0,0,100,0),
(895380,94,-10690.3,1032.07,32.5874,0,0,0,0,0,100,0),
(895380,95,-10679.3,1032.09,32.5932,0,0,0,0,0,100,0),
(895380,96,-10673,1029.93,32.6107,0,0,0,0,0,100,0),
(895380,97,-10665.8,1027.48,32.6048,0,0,0,0,0,100,0),
(895380,98,-10671.9,1029.16,32.6093,0,0,0,0,0,100,0),
(895380,99,-10679.3,1031.2,32.5954,0,0,0,0,0,100,0),
(895380,100,-10688.6,1031.48,32.5629,0,0,0,0,0,100,0),
(895380,101,-10698.4,1031.77,32.871,0,0,0,0,0,100,0),
(895380,102,-10706.3,1032,32.9771,0,0,0,0,0,100,0),
(895380,103,-10716.6,1031.14,33.4955,0,0,0,0,0,100,0),
(895380,104,-10727.3,1027.26,33.3017,0,0,0,0,0,100,0),
(895380,105,-10735.3,1024.36,33.3414,0,0,0,0,0,100,0),
(895380,106,-10742.1,1021.9,33.5687,0,0,0,0,0,100,0),
(895380,107,-10747.6,1019.9,33.3487,0,0,0,0,0,100,0),
(895380,108,-10755.7,1018.88,32.6114,0,0,0,0,0,100,0),
(895380,109,-10764.7,1017.74,32.1091,0,0,0,0,0,100,0),
(895380,110,-10770.7,1017.72,32.3058,0,0,0,0,0,100,0),
(895380,111,-10778,1017.69,32.6178,0,0,0,0,0,100,0),
(895380,112,-10787.4,1017.76,32.9271,0,0,0,0,0,100,0),
(895380,113,-10799,1018.18,32.1482,0,0,0,0,0,100,0),
(895380,114,-10804.9,1016.65,32.2504,0,0,0,0,0,100,0),
(895380,115,-10812.1,1014.82,32.5255,0,0,0,0,0,100,0),
(895380,116,-10817.5,1013.43,32.6724,0,0,0,0,0,100,0),
(895380,117,-10824.1,1012.19,32.8064,0,0,0,0,0,100,0),
(895380,118,-10831.7,1010.77,32.7168,0,0,0,0,0,100,0),
(895380,119,-10838.8,1009.44,32.4369,0,0,0,0,0,100,0),
(895380,120,-10845.7,1008.61,32.4454,0,0,0,0,0,100,0),
(895380,121,-10852.7,1007.77,32.0308,0,0,0,0,0,100,0),
(895380,122,-10858.7,1007.04,31.5477,0,0,0,0,0,100,0),
(895380,123,-10866.8,1006.04,31.718,0,0,0,0,0,100,0),
(895380,124,-10874.8,1005.06,32.2912,0,0,0,0,0,100,0),
(895380,125,-10880.5,1004.36,32.9567,0,0,0,0,0,100,0),
(895380,126,-10885.4,1003.18,33.5991,0,0,0,0,0,100,0),
(895380,127,-10893.2,1001.27,34.5391,0,0,0,0,0,100,0),
(895380,128,-10900.4,999.524,35.7178,0,0,0,0,0,100,0),
(895380,129,-10908,997.73,36.2016,0,0,0,0,0,100,0),
(895380,130,-10914.1,996.475,35.5299,0,0,0,0,0,100,0),
(895380,131,-10919.5,995.35,35.3748,0,0,0,0,0,100,0),
(895380,132,-10924.5,987.938,35.2721,0,0,0,0,0,100,0),
(895380,133,-10929.1,982.255,34.5524,0,0,0,0,0,100,0),
(895380,134,-10934.9,975.205,33.7346,0,0,0,0,0,100,0),
(895380,135,-10940.3,968.581,32.6839,0,0,0,0,0,100,0),
(895380,136,-10942.8,963.296,31.9899,0,0,0,0,0,100,0),
(895380,137,-10946.1,956.467,31.6434,0,0,0,0,0,100,0),
(895380,138,-10946.4,949.36,31.5832,0,0,0,0,0,100,0),
(895380,139,-10946.7,941.785,31.6081,0,0,0,0,0,100,0),
(895380,140,-10947,933.757,31.5258,0,0,0,0,0,100,0),
(895380,141,-10940.9,928.284,31.5287,0,0,0,0,0,100,0),
(895380,142,-10933.7,921.79,31.4322,0,0,0,0,0,100,0),
(895380,143,-10928.9,917.679,31.4236,0,0,0,0,0,100,0),
(895380,144,-10923.6,913.2,31.8939,0,0,0,0,0,100,0),
(895380,145,-10919,909.266,31.9847,0,0,0,0,0,100,0),
(895380,146,-10914.1,905.134,31.9276,0,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
