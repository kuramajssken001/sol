-- DB update 2020_05_07_00 -> 2020_05_07_01
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_05_07_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_05_07_00 2020_05_07_01 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1588880105309958701'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1588880105309958701');

UPDATE `creature` SET `position_x` = -2876.98, `position_y` = -2149.49, `position_z` = 92.9047, `orientation` = 2.37849 WHERE `guid` = 15142;
UPDATE `creature` SET `position_x` = -2895.78, `position_y` = -2158.99, `position_z` = 91.6667, `orientation` = 2.60247 WHERE `guid` = 15141;

DELETE FROM `waypoint_data` WHERE `id` = 151440;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(151440,1,-2891.01,-2150.02,94.2478,0,0,0,0,100,0),
(151440,2,-2897.02,-2141.06,95.7483,0,0,0,0,100,0),
(151440,3,-2904.73,-2129.48,95.8899,0,0,0,0,100,0),
(151440,4,-2912.75,-2114.32,96.1913,0,0,0,0,100,0),
(151440,5,-2918.01,-2101.14,96.4779,0,0,0,0,100,0),
(151440,6,-2923.86,-2087.01,96.3554,0,0,0,0,100,0),
(151440,7,-2928.01,-2071.33,96.0166,0,0,0,0,100,0),
(151440,8,-2928.91,-2050.84,95.785,0,0,0,0,100,0),
(151440,9,-2926.84,-2041.01,96.3781,0,0,0,0,100,0),
(151440,10,-2923.56,-2034.24,96.0931,0,0,0,0,100,0),
(151440,11,-2915.72,-2026.93,95.6855,0,0,0,0,100,0),
(151440,12,-2905.62,-2021.31,93.4736,0,0,0,0,100,0),
(151440,13,-2896.02,-2017.06,91.7219,0,0,0,0,100,0),
(151440,14,-2881.85,-2010.83,91.8045,0,0,0,0,100,0),
(151440,15,-2872.75,-2008.67,92.7372,0,0,0,0,100,0),
(151440,16,-2860.24,-2009.61,94.2234,0,0,0,0,100,0),
(151440,17,-2850.68,-2007.45,95.3112,0,0,0,0,100,0),
(151440,18,-2837.95,-2001.67,96.0295,0,0,0,0,100,0),
(151440,19,-2827.31,-1994.94,95.3154,0,0,0,0,100,0),
(151440,20,-2812.74,-1984.33,93.4686,0,0,0,0,100,0),
(151440,21,-2798.05,-1973.73,93.4632,0,0,0,0,100,0),
(151440,22,-2774.02,-1958.52,94.0941,0,0,0,0,100,0),
(151440,23,-2753.26,-1954.06,93.9826,0,0,0,0,100,0),
(151440,24,-2737.42,-1955.19,94.2536,0,0,0,0,100,0),
(151440,25,-2710.84,-1959.71,96.7887,0,0,0,0,100,0),
(151440,26,-2697.6,-1963.11,97.6046,0,0,0,0,100,0),
(151440,27,-2683.18,-1967.22,97.8805,0,0,0,0,100,0),
(151440,28,-2667.95,-1973.89,97.7269,0,0,0,0,100,0),
(151440,29,-2649.13,-1983.14,98.7822,0,0,0,0,100,0),
(151440,30,-2640.2,-1988.65,97.8667,0,0,0,0,100,0),
(151440,31,-2627.42,-1995.7,95.2752,0,0,0,0,100,0),
(151440,32,-2613.39,-2005.2,91.7337,0,0,0,0,100,0),
(151440,33,-2597.65,-2015.81,91.6678,0,0,0,0,100,0),
(151440,34,-2575.71,-2028.42,91.6678,0,0,0,0,100,0),
(151440,35,-2554.57,-2041.31,92.0596,0,0,0,0,100,0),
(151440,36,-2540.12,-2051.16,93.6223,0,0,0,0,100,0),
(151440,37,-2525.49,-2064.46,93.7675,0,0,0,0,100,0),
(151440,38,-2520.19,-2075.43,93.7559,0,0,0,0,100,0),
(151440,39,-2518.56,-2091.79,93.4852,0,0,0,0,100,0),
(151440,40,-2521.19,-2119.21,92.1279,0,0,0,0,100,0),
(151440,41,-2522.15,-2126.47,93.7613,0,0,0,0,100,0),
(151440,42,-2523.41,-2133.03,95.6538,0,0,0,0,100,0),
(151440,43,-2523.99,-2157.74,96.1462,0,0,0,0,100,0),
(151440,44,-2518.33,-2175.36,95.7844,0,0,0,0,100,0),
(151440,45,-2513.76,-2189.22,96.6454,0,0,0,0,100,0),
(151440,46,-2511.82,-2202.38,95.8735,0,0,0,0,100,0),
(151440,47,-2511.2,-2208.1,94.7895,0,0,0,0,100,0),
(151440,48,-2511.94,-2214.72,92.2792,0,0,0,0,100,0),
(151440,49,-2512.97,-2220.95,92.1185,0,0,0,0,100,0),
(151440,50,-2517,-2236.07,92.0664,0,0,0,0,100,0),
(151440,51,-2526.55,-2255.15,94.2318,0,0,0,0,100,0),
(151440,52,-2532.38,-2268.06,95.292,0,0,0,0,100,0),
(151440,53,-2541.75,-2277.29,95.0165,0,0,0,0,100,0),
(151440,54,-2564.64,-2288.88,92.3051,0,0,0,0,100,0),
(151440,55,-2581.16,-2295.58,91.6675,0,0,0,0,100,0),
(151440,56,-2598.33,-2299.11,91.6696,0,0,0,0,100,0),
(151440,57,-2611.6,-2297.97,92.4585,0,0,0,0,100,0),
(151440,58,-2623.49,-2294.38,93.5493,0,0,0,0,100,0),
(151440,59,-2638.05,-2289.17,93.2744,0,0,0,0,100,0),
(151440,60,-2652.46,-2282.06,91.8607,0,0,0,0,100,0),
(151440,61,-2667.38,-2273.79,91.6674,0,0,0,0,100,0),
(151440,62,-2685.54,-2267.14,91.6674,0,0,0,0,100,0),
(151440,63,-2709.35,-2267.52,91.667,0,0,0,0,100,0),
(151440,64,-2718.85,-2265.71,91.7487,0,0,0,0,100,0),
(151440,65,-2725.74,-2261.95,91.6672,0,0,0,0,100,0),
(151440,66,-2730.66,-2254.4,91.6672,0,0,0,0,100,0),
(151440,67,-2736.68,-2242.3,91.7163,0,0,0,0,100,0),
(151440,68,-2742.73,-2228.33,92.8483,0,0,0,0,100,0),
(151440,69,-2748.55,-2216.43,95.3223,0,0,0,0,100,0),
(151440,70,-2753.01,-2206.2,96.3717,0,0,0,0,100,0),
(151440,71,-2762.64,-2196.33,95.7849,0,0,0,0,100,0),
(151440,72,-2774.08,-2189.44,95.7852,0,0,0,0,100,0),
(151440,73,-2786.31,-2184.29,95.7868,0,0,0,0,100,0),
(151440,74,-2803.07,-2180.41,95.8155,0,0,0,0,100,0),
(151440,75,-2817.19,-2178.28,96.3834,0,0,0,0,100,0),
(151440,76,-2826.44,-2175.95,96.4113,0,0,0,0,100,0),
(151440,77,-2833.23,-2174.24,95.3236,0,0,0,0,100,0),
(151440,78,-2840.01,-2172.53,92.9766,0,0,0,0,100,0),
(151440,79,-2850.23,-2170.11,91.6667,0,0,0,0,100,0),
(151440,80,-2874.56,-2162.59,92.2099,0,0,0,0,100,0),
(151440,81,-2882.68,-2155.7,91.9701,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
