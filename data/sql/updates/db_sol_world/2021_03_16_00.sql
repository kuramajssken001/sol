-- DB update 2021_03_15_01 -> 2021_03_16_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2021_03_15_01';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2021_03_15_01 2021_03_16_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1615849325228605569'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1615849325228605569');

DELETE FROM `waypoint_data` WHERE `id` = 683740;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(683740,1,-4052.72,-11857.1,3.03583,0,0,0,0,100,0),
(683740,2,-4048.71,-11841.6,6.74649,0,0,0,0,100,0),
(683740,3,-4048.05,-11832.1,8.81091,0,0,0,0,100,0),
(683740,4,-4046.95,-11816.2,8.90817,0,0,0,0,100,0),
(683740,5,-4051.17,-11794.7,8.94265,0,0,0,0,100,0),
(683740,6,-4052.16,-11775.8,9.00285,0,0,0,0,100,0),
(683740,7,-4050.36,-11772.4,8.48166,0,0,0,0,100,0),
(683740,8,-4049.69,-11768.5,5.72612,0,0,0,0,100,0),
(683740,9,-4048.76,-11763,3.61992,0,0,0,0,100,0),
(683740,10,-4050.67,-11754.4,3.97728,0,0,0,0,100,0),
(683740,11,-4055.2,-11744.2,3.43752,0,0,0,0,100,0),
(683740,12,-4058.77,-11741.7,2.02156,0,0,0,0,100,0),
(683740,13,-4060.91,-11740.2,2.40871,0,0,0,0,100,0),
(683740,14,-4066.5,-11740,2.47463,0,0,0,0,100,0),
(683740,15,-4071.56,-11739.9,2.33454,0,0,0,0,100,0),
(683740,16,-4082.88,-11746.9,1.58454,0,0,0,0,100,0),
(683740,17,-4088.72,-11757.1,2.70954,0,0,0,0,100,0),
(683740,18,-4090.45,-11764,3.00177,0,0,0,0,100,0),
(683740,19,-4092,-11770.2,3.03216,0,0,0,0,100,0),
(683740,20,-4093.11,-11777.7,2.12356,0,0,0,0,100,0),
(683740,21,-4094.43,-11786.6,1.28216,0,0,0,0,100,0),
(683740,22,-4095.85,-11795.2,2.04303,0,0,0,0,100,0),
(683740,23,-4096.99,-11802.2,2.85965,0,0,0,0,100,0),
(683740,24,-4096.79,-11813.9,2.99836,0,0,0,0,100,0),
(683740,25,-4096.63,-11823.2,3.48465,0,0,0,0,100,0),
(683740,26,-4095.15,-11834.9,2.45622,0,0,0,0,100,0),
(683740,27,-4093.69,-11846.4,1.73607,0,0,0,0,100,0),
(683740,28,-4089.94,-11853.1,1.47965,0,0,0,0,100,0),
(683740,29,-4086.74,-11858.9,1.36107,0,0,0,0,100,0),
(683740,30,-4084.83,-11864.9,0.458083,0,0,0,0,100,0),
(683740,31,-4082.61,-11871.9,-0.556801,0,0,0,0,100,0),
(683740,32,-4078.41,-11878.1,-1.13245,0,0,0,0,100,0),
(683740,33,-4074.99,-11883.1,-1.8068,0,0,0,0,100,0),
(683740,34,-4066.8,-11887.3,-1.87316,0,0,0,0,100,0),
(683740,35,-4059.66,-11891,-2.02328,0,0,0,0,100,0),
(683740,36,-4055.04,-11897.4,-2.23743,0,0,0,0,100,0),
(683740,37,-4050.71,-11903.5,-2.04217,0,0,0,0,100,0),
(683740,38,-4050.37,-11908.7,-2.2023,0,0,0,0,100,0),
(683740,39,-4050.01,-11914.3,-1.41717,0,0,0,0,100,0),
(683740,40,-4050.99,-11918.8,-0.390188,0,0,0,0,100,0),
(683740,41,-4051.99,-11923.4,0.207832,0,0,0,0,100,0),
(683740,42,-4049.32,-11928.8,0.52455,0,0,0,0,100,0),
(683740,43,-4046.21,-11935.2,0.302898,0,0,0,0,100,0),
(683740,44,-4039.49,-11941.8,0.808286,0,0,0,0,100,0),
(683740,45,-4034.59,-11946.7,2.1779,0,0,0,0,100,0),
(683740,46,-4030.85,-11948.7,3.23876,0,0,0,0,100,0),
(683740,47,-4027.28,-11950.6,3.66679,0,0,0,0,100,0),
(683740,48,-4023.11,-11952.9,3.70736,0,0,0,0,100,0),
(683740,49,-4016.19,-11956.6,2.96377,0,0,0,0,100,0),
(683740,50,-4010.87,-11957.4,2.90698,0,0,0,0,100,0),
(683740,51,-4006.05,-11958.1,2.17669,0,0,0,0,100,0),
(683740,52,-3999.33,-11959.1,0.522313,0,0,0,0,100,0),
(683740,53,-3993.45,-11960,0.799937,0,0,0,0,100,0),
(683740,54,-3987.95,-11960.8,0.790219,0,0,0,0,100,0),
(683740,55,-3981.06,-11958.2,-1.16165,0,0,0,0,100,0),
(683740,56,-3973.74,-11955.4,-2.29136,0,0,0,0,100,0),
(683740,57,-3963.28,-11951.5,-2.41474,0,0,0,0,100,0),
(683740,58,-3963.62,-11944.5,-1.40569,0,0,0,0,100,0),
(683740,59,-3963.97,-11937.5,-0.640682,0,0,0,0,100,0),
(683740,60,-3964.19,-11932.9,-0.617626,0,0,0,0,100,0),
(683740,61,-3970.6,-11930.9,-0.911944,0,0,0,0,100,0),
(683740,62,-3977.61,-11927.2,-0.188789,0,0,0,0,100,0),
(683740,63,-3982.9,-11920.7,0.233015,0,0,0,0,100,0),
(683740,64,-3987.75,-11914.7,0.598576,0,0,0,0,100,0),
(683740,65,-3990.2,-11909.6,0.170679,0,0,0,0,100,0),
(683740,66,-3993.16,-11903.4,-1.26719,0,0,0,0,100,0),
(683740,67,-3994.9,-11899.7,-0.597436,0,0,0,0,100,0),
(683740,68,-3996.59,-11896.2,-0.188298,0,0,0,0,100,0),
(683740,69,-3997.88,-11890.5,-0.0732029,0,0,0,0,100,0),
(683740,70,-3999.26,-11884.5,-0.130164,0,0,0,0,100,0),
(683740,71,-4000.58,-11878.7,-0.273137,0,0,0,0,100,0),
(683740,72,-4002.49,-11871.8,-0.5329,0,0,0,0,100,0),
(683740,73,-4004.53,-11864.5,0.16676,0,0,0,0,100,0),
(683740,74,-4014.64,-11859,0.0579128,0,0,0,0,100,0),
(683740,75,-4026.57,-11861.9,-0.0800333,0,0,0,0,100,0),
(683740,76,-4030.27,-11864.3,-0.123914,0,0,0,0,100,0),
(683740,77,-4034.73,-11867.3,-0.8302,0,0,0,0,100,0),
(683740,78,-4036.73,-11869.9,-0.272264,0,0,0,0,100,0),
(683740,79,-4039.96,-11874,0.101723,0,0,0,0,100,0),
(683740,80,-4045.71,-11877,-0.148277,0,0,0,0,100,0),
(683740,81,-4049.79,-11872.8,0.337155,0,0,0,0,100,0),
(683740,82,-4051.89,-11864.4,1.78296,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
