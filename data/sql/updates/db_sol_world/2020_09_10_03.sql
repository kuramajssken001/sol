-- DB update 2020_09_10_02 -> 2020_09_10_03
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_09_10_02';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_09_10_02 2020_09_10_03 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1599773697185300096'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1599773697185300096');

DELETE FROM `creature_formations` WHERE `leaderGUID` = 15424;
INSERT INTO `creature_formations` (`leaderGUID`, `memberGUID`, `dist`, `angle`, `groupAI`)
VALUES
(15424,15423,3,180,2),
(15424,15424,0,0,2);

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 3537;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 3537 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(3537,0,0,0,11,0,100,1,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Zixil - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 154240;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(154240,1,-36.31,-916.366,55.075,1.062,180000,0,0,100,0),
(154240,2,-31.7719,-908.165,55.6248,0,0,0,0,100,0),
(154240,3,-28.5326,-902.441,55.9086,0,0,0,0,100,0),
(154240,4,-26.3387,-896.902,56.0395,0,0,0,0,100,0),
(154240,5,-30.8078,-885.68,56.2083,0,0,0,0,100,0),
(154240,6,-39.6346,-877.484,55.908,0,0,0,0,100,0),
(154240,7,-49.2266,-868.423,55.5448,0,0,0,0,100,0),
(154240,8,-52.7496,-856.827,56.023,0,0,0,0,100,0),
(154240,9,-53.1289,-846.602,56.3576,0,0,0,0,100,0),
(154240,10,-51.5009,-836.735,56.5249,0,0,0,0,100,0),
(154240,11,-45.4504,-826.863,57.005,0,0,0,0,100,0),
(154240,12,-34.8223,-818.868,57.5042,0,0,0,0,100,0),
(154240,13,-24.7141,-811.35,57.7373,0,0,0,0,100,0),
(154240,14,-17.1652,-802.633,58.7518,0,0,0,0,100,0),
(154240,15,-15.456,-792.333,59.4156,0,0,0,0,100,0),
(154240,16,-18.5335,-778.92,60.1815,0,0,0,0,100,0),
(154240,17,-21.7399,-764.7,61.6164,0,0,0,0,100,0),
(154240,18,-21.3106,-752.22,63.6455,0,0,0,0,100,0),
(154240,19,-17.5874,-735.414,66.6358,0,0,0,0,100,0),
(154240,20,-20.9832,-719.064,69.291,0,0,0,0,100,0),
(154240,21,-32.1621,-718.438,69.0121,0,0,0,0,100,0),
(154240,22,-48.2524,-717.706,68.4866,0,0,0,0,100,0),
(154240,23,-63.0421,-717.033,68.2391,0,0,0,0,100,0),
(154240,24,-76.6839,-716.412,68.0443,0,0,0,0,100,0),
(154240,25,-86.1233,-715.982,67.5962,0,0,0,0,100,0),
(154240,26,-94.0899,-714.614,66.9106,0,0,0,0,100,0),
(154240,27,-105.256,-714.703,65.4626,0,0,0,0,100,0),
(154240,28,-117.155,-714.863,65.2901,0,0,0,0,100,0),
(154240,29,-129.753,-715.032,64.697,0,0,0,0,100,0),
(154240,30,-143.521,-715.216,64.5604,0,0,0,0,100,0),
(154240,31,-156.648,-715.392,63.9301,0,0,0,0,100,0),
(154240,32,-166.566,-715.525,63.7701,0,0,0,0,100,0),
(154240,33,-177.346,-717.227,63.5344,0,0,0,0,100,0),
(154240,34,-187.733,-718.765,63.2071,0,0,0,0,100,0),
(154240,35,-200.661,-720.678,62.6301,0,0,0,0,100,0),
(154240,36,-211.029,-722.212,61.5852,0,0,0,0,100,0),
(154240,37,-225.779,-725.198,60.7619,0,0,0,0,100,0),
(154240,38,-238.528,-727.808,59.7065,0,0,0,0,100,0),
(154240,39,-249.679,-731.206,58.2468,0,0,0,0,100,0),
(154240,40,-260.612,-734.542,57.4666,0,0,0,0,100,0),
(154240,41,-272.771,-738.252,56.7705,0,0,0,0,100,0),
(154240,42,-284.153,-741.725,56.3947,0,0,0,0,100,0),
(154240,43,-297.215,-745.711,55.7941,0,0,0,0,100,0),
(154240,44,-308.939,-749.288,54.8386,0,0,0,0,100,0),
(154240,45,-320.655,-752.863,54.1976,0,0,0,0,100,0),
(154240,46,-332.52,-757.975,53.7897,0,0,0,0,100,0),
(154240,47,-343.343,-762.629,53.8402,0,0,0,0,100,0),
(154240,48,-354.596,-767.468,54.2371,0,0,0,0,100,0),
(154240,49,-366.596,-772.628,54.2048,0,0,0,0,100,0),
(154240,50,-379.027,-777.974,54.4807,0,0,0,0,100,0),
(154240,51,-380.637,-766.355,54.6599,0,0,0,0,100,0),
(154240,52,-382.561,-752.608,54.5807,0,0,0,0,100,0),
(154240,53,-385.019,-735.048,54.5002,0,0,0,0,100,0),
(154240,54,-387.298,-718.764,54.4996,0,0,0,0,100,0),
(154240,55,-386.79,-706.016,54.4669,0,0,0,0,100,0),
(154240,56,-386.194,-691.679,54.4098,0,0,0,0,100,0),
(154240,57,-381.612,-677.833,54.5287,0,0,0,0,100,0),
(154240,58,-368.962,-676.151,55.8262,0,0,0,0,100,0),
(154240,59,-356.131,-674.406,56.0237,0,0,0,0,100,0),
(154240,60,-342.952,-672.614,55.1076,0,0,0,0,100,0),
(154240,61,-331.618,-671.147,54.9188,0,0,0,0,100,0),
(154240,62,-329.759,-678.913,54.5998,0,0,0,0,100,0),
(154240,63,-328.86,-685.856,54.456,0,0,0,0,100,0),
(154240,64,-331.632,-691.521,55.9448,0,0,0,0,100,0),
(154240,65,-335.378,-699.18,57.3767,0,0,0,0,100,0),
(154240,66,-338.757,-706.709,57.7309,0,0,0,0,100,0),
(154240,67,-341.248,-713.172,57.733,0,0,0,0,100,0),
(154240,68,-340.615,-711.776,57.733,0,120000,0,0,100,0),
(154240,69,-338.059,-705.128,57.7309,0,0,0,0,100,0),
(154240,70,-334.881,-697.928,57.1613,0,0,0,0,100,0),
(154240,71,-331.501,-691.072,55.8599,0,0,0,0,100,0),
(154240,72,-329.033,-685.82,54.4582,0,0,0,0,100,0),
(154240,73,-325.248,-677.674,54.5963,0,0,0,0,100,0),
(154240,74,-333.223,-673.021,54.8846,0,0,0,0,100,0),
(154240,75,-342.95,-671.268,55.1835,0,0,0,0,100,0),
(154240,76,-356.133,-668.761,56.0483,0,0,0,0,100,0),
(154240,77,-368.394,-666.429,56.1632,0,0,0,0,100,0),
(154240,78,-379.631,-664.292,55.4722,0,0,0,0,100,0),
(154240,79,-391.438,-662.047,54.9649,0,0,0,0,100,0),
(154240,80,-401.987,-660.041,54.7647,0,0,0,0,100,0),
(154240,81,-413.708,-656.888,54.489,0,0,0,0,100,0),
(154240,82,-418.667,-644.352,54.5,0,0,0,0,100,0),
(154240,83,-423.091,-632.801,54.5,0,0,0,0,100,0),
(154240,84,-427.39,-621.577,54.5018,0,0,0,0,100,0),
(154240,85,-434.44,-603.169,54.3834,0,0,0,0,100,0),
(154240,86,-440.758,-585.658,53.4242,0,0,0,0,100,0),
(154240,87,-454.935,-580.987,51.1735,0,0,0,0,100,0),
(154240,88,-467.163,-577.075,49.0208,0,0,0,0,100,0),
(154240,89,-479.717,-573.058,46.9145,0,0,0,0,100,0),
(154240,90,-492.051,-569.112,44.8065,0,0,0,0,100,0),
(154240,91,-505.492,-564.811,42.5971,0,0,0,0,100,0),
(154240,92,-521.606,-559.655,39.8763,0,0,0,0,100,0),
(154240,93,-535.484,-559.129,37.739,0,0,0,0,100,0),
(154240,94,-549.431,-563.297,35.6694,0,0,0,0,100,0),
(154240,95,-562.956,-567.35,33.6095,0,0,0,0,100,0),
(154240,96,-571.242,-569.834,32.7678,0,0,0,0,100,0),
(154240,97,-582.306,-573.149,32.6179,0,0,0,0,100,0),
(154240,98,-594.512,-575.941,31.9821,0,0,0,0,100,0),
(154240,99,-605.144,-573.289,31.065,0,0,0,0,100,0),
(154240,100,-617.136,-570.318,29.4208,0,0,0,0,100,0),
(154240,101,-628.765,-565.219,27.702,0,0,0,0,100,0),
(154240,102,-640.543,-560.13,26.5059,0,0,0,0,100,0),
(154240,103,-651.768,-560.093,26.0533,0,0,0,0,100,0),
(154240,104,-663.787,-560.052,25.38,0,0,0,0,100,0),
(154240,105,-674.115,-564.101,25.3048,0,0,0,0,100,0),
(154240,106,-684.67,-569.076,25.1273,0,0,0,0,100,0),
(154240,107,-691.625,-568.642,24.5409,0,0,0,0,100,0),
(154240,108,-700.345,-566.921,23.8065,0,0,0,0,100,0),
(154240,109,-707.11,-562.611,22.8095,0,0,0,0,100,0),
(154240,110,-716.215,-554.189,21.0709,0,0,0,0,100,0),
(154240,111,-724.787,-549.384,20.2918,0,0,0,0,100,0),
(154240,112,-733.833,-548.587,20.067,0,0,0,0,100,0),
(154240,113,-745.581,-547.622,19.241,0,0,0,0,100,0),
(154240,114,-757.671,-546.63,18.3642,0,0,0,0,100,0),
(154240,115,-769.176,-545.686,17.7956,0,0,0,0,100,0),
(154240,116,-781.51,-544.673,18.1225,0,0,0,0,100,0),
(154240,117,-790.922,-543.901,17.3799,0,0,0,0,100,0),
(154240,118,-802.203,-542.975,15.8185,0,0,0,0,100,0),
(154240,119,-811.11,-542.175,15.772,0,0,0,0,100,0),
(154240,120,-817.55,-533.02,15.1606,0,180000,0,0,100,0),
(154240,121,-811.11,-542.175,15.772,0,0,0,0,100,0),
(154240,122,-802.203,-542.975,15.8185,0,0,0,0,100,0),
(154240,123,-790.922,-543.901,17.3799,0,0,0,0,100,0),
(154240,124,-781.51,-544.673,18.1225,0,0,0,0,100,0),
(154240,125,-769.176,-545.686,17.7956,0,0,0,0,100,0),
(154240,126,-757.671,-546.63,18.3642,0,0,0,0,100,0),
(154240,127,-745.581,-547.622,19.241,0,0,0,0,100,0),
(154240,128,-733.833,-548.587,20.067,0,0,0,0,100,0),
(154240,129,-724.787,-549.384,20.2918,0,0,0,0,100,0),
(154240,130,-716.215,-554.189,21.0709,0,0,0,0,100,0),
(154240,131,-707.11,-562.611,22.8095,0,0,0,0,100,0),
(154240,132,-700.345,-566.921,23.8065,0,0,0,0,100,0),
(154240,133,-691.625,-568.642,24.5409,0,0,0,0,100,0),
(154240,134,-684.67,-569.076,25.1273,0,0,0,0,100,0),
(154240,135,-674.115,-564.101,25.3048,0,0,0,0,100,0),
(154240,136,-663.787,-560.052,25.38,0,0,0,0,100,0),
(154240,137,-651.768,-560.093,26.0533,0,0,0,0,100,0),
(154240,138,-640.543,-560.13,26.5059,0,0,0,0,100,0),
(154240,139,-628.765,-565.219,27.702,0,0,0,0,100,0),
(154240,140,-617.136,-570.318,29.4208,0,0,0,0,100,0),
(154240,141,-605.144,-573.289,31.065,0,0,0,0,100,0),
(154240,142,-594.512,-575.941,31.9821,0,0,0,0,100,0),
(154240,143,-582.306,-573.149,32.6179,0,0,0,0,100,0),
(154240,144,-571.242,-569.834,32.7678,0,0,0,0,100,0),
(154240,145,-562.956,-567.35,33.6095,0,0,0,0,100,0),
(154240,146,-549.431,-563.297,35.6694,0,0,0,0,100,0),
(154240,147,-535.484,-559.129,37.739,0,0,0,0,100,0),
(154240,148,-521.606,-559.655,39.8763,0,0,0,0,100,0),
(154240,149,-505.492,-564.811,42.5971,0,0,0,0,100,0),
(154240,150,-492.051,-569.112,44.8065,0,0,0,0,100,0),
(154240,151,-479.717,-573.058,46.9145,0,0,0,0,100,0),
(154240,152,-467.163,-577.075,49.0208,0,0,0,0,100,0),
(154240,153,-454.935,-580.987,51.1735,0,0,0,0,100,0),
(154240,154,-440.758,-585.658,53.4242,0,0,0,0,100,0),
(154240,155,-434.44,-603.169,54.3834,0,0,0,0,100,0),
(154240,156,-427.39,-621.577,54.5018,0,0,0,0,100,0),
(154240,157,-423.091,-632.801,54.5,0,0,0,0,100,0),
(154240,158,-418.667,-644.352,54.5,0,0,0,0,100,0),
(154240,159,-413.708,-656.888,54.489,0,0,0,0,100,0),
(154240,160,-401.987,-660.041,54.7647,0,0,0,0,100,0),
(154240,161,-391.438,-662.047,54.9649,0,0,0,0,100,0),
(154240,162,-379.631,-664.292,55.4722,0,0,0,0,100,0),
(154240,163,-368.394,-666.429,56.1632,0,0,0,0,100,0),
(154240,164,-356.133,-668.761,56.0483,0,0,0,0,100,0),
(154240,165,-342.95,-671.268,55.1835,0,0,0,0,100,0),
(154240,166,-333.223,-673.021,54.8846,0,0,0,0,100,0),
(154240,167,-325.248,-677.674,54.5963,0,0,0,0,100,0),
(154240,168,-329.033,-685.82,54.4582,0,0,0,0,100,0),
(154240,169,-331.501,-691.072,55.8599,0,0,0,0,100,0),
(154240,170,-334.881,-697.928,57.1613,0,0,0,0,100,0),
(154240,171,-338.059,-705.128,57.7309,0,0,0,0,100,0),
(154240,172,-340.615,-711.776,57.733,0,120000,0,0,100,0),
(154240,173,-341.248,-713.172,57.733,0,0,0,0,100,0),
(154240,174,-338.757,-706.709,57.7309,0,0,0,0,100,0),
(154240,175,-335.378,-699.18,57.3767,0,0,0,0,100,0),
(154240,176,-331.632,-691.521,55.9448,0,0,0,0,100,0),
(154240,177,-328.86,-685.856,54.456,0,0,0,0,100,0),
(154240,178,-329.759,-678.913,54.5998,0,0,0,0,100,0),
(154240,179,-331.618,-671.147,54.9188,0,0,0,0,100,0),
(154240,180,-342.952,-672.614,55.1076,0,0,0,0,100,0),
(154240,181,-356.131,-674.406,56.0237,0,0,0,0,100,0),
(154240,182,-368.962,-676.151,55.8262,0,0,0,0,100,0),
(154240,183,-381.612,-677.833,54.5287,0,0,0,0,100,0),
(154240,184,-386.194,-691.679,54.4098,0,0,0,0,100,0),
(154240,185,-387.298,-718.764,54.4996,0,0,0,0,100,0),
(154240,186,-385.019,-735.048,54.5002,0,0,0,0,100,0),
(154240,187,-382.561,-752.608,54.5807,0,0,0,0,100,0),
(154240,188,-380.637,-766.355,54.6599,0,0,0,0,100,0),
(154240,189,-379.027,-777.974,54.4807,0,0,0,0,100,0),
(154240,190,-366.596,-772.628,54.2048,0,0,0,0,100,0),
(154240,191,-354.596,-767.468,54.2371,0,0,0,0,100,0),
(154240,192,-343.343,-762.629,53.8402,0,0,0,0,100,0),
(154240,193,-332.52,-757.975,53.7897,0,0,0,0,100,0),
(154240,194,-320.655,-752.863,54.1976,0,0,0,0,100,0),
(154240,195,-308.939,-749.288,54.8386,0,0,0,0,100,0),
(154240,196,-297.215,-745.711,55.7941,0,0,0,0,100,0),
(154240,197,-284.153,-741.725,56.3947,0,0,0,0,100,0),
(154240,198,-272.771,-738.252,56.7705,0,0,0,0,100,0),
(154240,199,-260.612,-734.542,57.4666,0,0,0,0,100,0),
(154240,200,-249.679,-731.206,58.2468,0,0,0,0,100,0),
(154240,201,-238.528,-727.808,59.7065,0,0,0,0,100,0),
(154240,202,-225.779,-725.198,60.7619,0,0,0,0,100,0),
(154240,203,-211.029,-722.212,61.5852,0,0,0,0,100,0),
(154240,204,-200.661,-720.678,62.6301,0,0,0,0,100,0),
(154240,205,-187.733,-718.765,63.2071,0,0,0,0,100,0),
(154240,206,-177.346,-717.227,63.5344,0,0,0,0,100,0),
(154240,207,-166.566,-715.525,63.7701,0,0,0,0,100,0),
(154240,208,-156.648,-715.392,63.9301,0,0,0,0,100,0),
(154240,209,-143.521,-715.216,64.5604,0,0,0,0,100,0),
(154240,210,-129.753,-715.032,64.697,0,0,0,0,100,0),
(154240,211,-117.155,-714.863,65.2901,0,0,0,0,100,0),
(154240,212,-105.256,-714.703,65.4626,0,0,0,0,100,0),
(154240,213,-94.0899,-714.614,66.9106,0,0,0,0,100,0),
(154240,214,-86.1233,-715.982,67.5962,0,0,0,0,100,0),
(154240,215,-76.6839,-716.412,68.0443,0,0,0,0,100,0),
(154240,216,-63.0421,-717.033,68.2391,0,0,0,0,100,0),
(154240,217,-48.2524,-717.706,68.4866,0,0,0,0,100,0),
(154240,218,-32.1621,-718.438,69.0121,0,0,0,0,100,0),
(154240,219,-20.9832,-719.064,69.291,0,0,0,0,100,0),
(154240,220,-17.5874,-735.414,66.6358,0,0,0,0,100,0),
(154240,221,-21.3106,-752.22,63.6455,0,0,0,0,100,0),
(154240,222,-21.7399,-764.7,61.6164,0,0,0,0,100,0),
(154240,223,-18.5335,-778.92,60.1815,0,0,0,0,100,0),
(154240,224,-15.456,-792.333,59.4156,0,0,0,0,100,0),
(154240,225,-17.1652,-802.633,58.7518,0,0,0,0,100,0),
(154240,226,-24.7141,-811.35,57.7373,0,0,0,0,100,0),
(154240,227,-34.8223,-818.868,57.5042,0,0,0,0,100,0),
(154240,228,-45.4504,-826.863,57.005,0,0,0,0,100,0),
(154240,229,-51.5009,-836.735,56.5249,0,0,0,0,100,0),
(154240,230,-53.1289,-846.602,56.3576,0,0,0,0,100,0),
(154240,231,-52.7496,-856.827,56.023,0,0,0,0,100,0),
(154240,232,-49.2266,-868.423,55.5448,0,0,0,0,100,0),
(154240,233,-39.6346,-877.484,55.908,0,0,0,0,100,0),
(154240,234,-30.8078,-885.68,56.2083,0,0,0,0,100,0),
(154240,235,-26.3387,-896.902,56.0395,0,0,0,0,100,0),
(154240,236,-28.5326,-902.441,55.9086,0,0,0,0,100,0),
(154240,237,-31.7719,-908.165,55.6248,0,0,0,0,100,0),
(154240,238,-38.9737,-917.01,55.0652,1.062,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
