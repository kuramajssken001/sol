-- DB update 2020_11_21_00 -> 2020_11_22_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_11_21_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_11_21_00 2020_11_22_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606001300128865623'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606001300128865623');

DELETE FROM `waypoint_data` WHERE `id` IN (1211420,1211610,1211710,1214490,1214630,1214690);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
-- Ymirheim Chosen Warrior
(1211420,1,7103.19,1740.67,493.091,0,0,0,0,100,0),
(1211420,2,7111.89,1738.48,490.759,0,0,0,0,100,0),
(1211420,3,7120.38,1736.35,488.236,0,0,0,0,100,0),
(1211420,4,7128.86,1734.22,485.966,0,0,0,0,100,0),
(1211420,5,7120.38,1736.35,488.236,0,0,0,0,100,0),
(1211420,6,7111.89,1738.48,490.759,0,0,0,0,100,0),
(1211420,7,7103.19,1740.67,493.091,0,0,0,0,100,0),
(1211420,8,7092.41,1747.19,495.608,0,0,0,0,100,0),
(1211420,9,7081.81,1753.6,497.456,0,0,0,0,100,0),
(1211420,10,7071,1754.54,499.331,0,0,0,0,100,0),
(1211420,11,7060.09,1764.43,500.952,0,0,0,0,100,0),
(1211420,12,7047.27,1766.63,502.702,0,0,0,0,100,0),
(1211420,13,7060.09,1764.43,500.952,0,0,0,0,100,0),
(1211420,14,7071,1754.54,499.331,0,0,0,0,100,0),
(1211420,15,7081.81,1753.6,497.456,0,0,0,0,100,0),
(1211420,16,7092.41,1747.19,495.608,0,0,0,0,100,0),
-- Ymirheim Chosen Warrior
(1211610,1,6801.66,1798.19,573.997,0,0,0,0,100,0),
(1211610,2,6807.71,1806.67,576.282,0,0,0,0,100,0),
(1211610,3,6812.69,1813.65,578.017,0,0,0,0,100,0),
(1211610,4,6807.71,1806.67,576.282,0,0,0,0,100,0),
(1211610,5,6801.66,1798.19,573.997,0,0,0,0,100,0),
(1211610,6,6799.67,1787.15,571.842,0,0,0,0,100,0),
(1211610,7,6797.64,1775.85,569.763,0,0,0,0,100,0),
(1211610,8,6799.1,1766.98,568.416,0,0,0,0,100,0),
(1211610,9,6800.83,1756.5,566.358,0,0,0,0,100,0),
(1211610,10,6802.12,1748.71,564.242,0,0,0,0,100,0),
(1211610,11,6800.83,1756.5,566.358,0,0,0,0,100,0),
(1211610,12,6799.1,1766.98,568.416,0,0,0,0,100,0),
(1211610,13,6797.64,1775.85,569.763,0,0,0,0,100,0),
(1211610,14,6799.67,1787.15,571.842,0,0,0,0,100,0),
-- Ymirheim Chosen Warrior
(1211710,1,7151.5,1895.11,540.436,0,0,0,0,100,0),
(1211710,2,7143.92,1887.59,536.686,0,0,0,0,100,0),
(1211710,3,7145.61,1878.6,533.478,0,0,0,0,100,0),
(1211710,4,7147.07,1870.8,530.561,0,0,0,0,100,0),
(1211710,5,7146.05,1864.34,528.012,0,0,0,0,100,0),
(1211710,6,7145.06,1858.06,525.086,0,0,0,0,100,0),
(1211710,7,7141.83,1852.38,522.17,0,0,0,0,100,0),
(1211710,8,7139.79,1848.79,520.039,0,0,0,0,100,0),
(1211710,9,7139.71,1842.14,516.607,0,0,0,0,100,0),
(1211710,10,7139.62,1834.34,512.811,0,0,0,0,100,0),
(1211710,11,7141.75,1823.93,507.972,0,0,0,0,100,0),
(1211710,12,7143.69,1814.46,503.998,0,0,0,0,100,0),
(1211710,13,7146.24,1808.43,501.494,0,0,0,0,100,0),
(1211710,14,7148.77,1802.43,499.231,0,0,0,0,100,0),
(1211710,15,7152.37,1793.31,495.925,0,0,0,0,100,0),
(1211710,16,7157.33,1780.73,491.401,0,0,0,0,100,0),
(1211710,17,7156.55,1769.68,488.49,0,0,0,0,100,0),
(1211710,18,7155.7,1757.69,485.346,0,0,0,0,100,0),
(1211710,19,7154.93,1746.83,483.322,0,0,0,0,100,0),
(1211710,20,7155.7,1757.69,485.346,0,0,0,0,100,0),
(1211710,21,7156.55,1769.68,488.49,0,0,0,0,100,0),
(1211710,22,7157.33,1780.73,491.401,0,0,0,0,100,0),
(1211710,23,7152.37,1793.31,495.925,0,0,0,0,100,0),
(1211710,24,7148.77,1802.43,499.231,0,0,0,0,100,0),
(1211710,25,7146.24,1808.43,501.494,0,0,0,0,100,0),
(1211710,26,7143.69,1814.46,503.998,0,0,0,0,100,0),
(1211710,27,7141.75,1823.93,507.972,0,0,0,0,100,0),
(1211710,28,7139.62,1834.34,512.811,0,0,0,0,100,0),
(1211710,29,7139.71,1842.14,516.607,0,0,0,0,100,0),
(1211710,30,7139.79,1848.79,520.039,0,0,0,0,100,0),
(1211710,31,7141.83,1852.38,522.17,0,0,0,0,100,0),
(1211710,32,7145.06,1858.06,525.086,0,0,0,0,100,0),
(1211710,33,7146.05,1864.34,528.012,0,0,0,0,100,0),
(1211710,34,7147.07,1870.8,530.561,0,0,0,0,100,0),
(1211710,35,7145.61,1878.6,533.478,0,0,0,0,100,0),
(1211710,36,7143.95,1887.51,536.686,0,0,0,0,100,0),
-- Ymirjar Element Shaper
(1214490,1,6991.48,1740.02,508.682,0,0,0,0,100,0),
(1214490,2,6984.75,1733.22,509.998,0,0,0,0,100,0),
(1214490,3,6975.64,1724.02,511.6,0,0,0,0,100,0),
(1214490,4,6969.64,1717.96,514.336,0,0,0,0,100,0),
(1214490,5,6962.97,1713.89,515.505,0,0,0,0,100,0),
(1214490,6,6954.51,1708.72,517.494,0,0,0,0,100,0),
(1214490,7,6945.5,1703.21,519.323,0,0,0,0,100,0),
(1214490,8,6935.21,1710.64,520.073,0,0,0,0,100,0),
(1214490,9,6926.13,1711.33,521.642,0,0,0,0,100,0),
(1214490,10,6917.52,1711.98,523.943,0,0,0,0,100,0),
(1214490,11,6908.75,1712.65,526.243,0,0,0,0,100,0),
(1214490,12,6917.52,1711.98,523.943,0,0,0,0,100,0),
(1214490,13,6926.13,1711.33,521.642,0,0,0,0,100,0),
(1214490,14,6935.21,1710.64,520.073,0,0,0,0,100,0),
(1214490,15,6945.5,1703.21,519.323,0,0,0,0,100,0),
(1214490,16,6954.51,1708.72,517.494,0,0,0,0,100,0),
(1214490,17,6962.97,1713.89,515.505,0,0,0,0,100,0),
(1214490,18,6969.64,1717.96,514.336,0,0,0,0,100,0),
(1214490,19,6975.64,1724.02,511.6,0,0,0,0,100,0),
(1214490,20,6984.75,1733.22,509.998,0,0,0,0,100,0),
-- Ymirjar Element Shaper
(1214630,1,7187.14,2101.73,582.946,0,0,0,0,100,0),
(1214630,2,7194.46,2106.07,581.082,0,0,0,0,100,0),
(1214630,3,7200.79,2109.81,578.614,0,0,0,0,100,0),
(1214630,4,7207.01,2113.49,575.238,0,0,0,0,100,0),
(1214630,5,7212.48,2116.73,572.005,0,0,0,0,100,0),
(1214630,6,7207.01,2113.49,575.238,0,0,0,0,100,0),
(1214630,7,7200.79,2109.81,578.614,0,0,0,0,100,0),
(1214630,8,7194.46,2106.07,581.082,0,0,0,0,100,0),
(1214630,9,7187.14,2101.73,582.946,0,0,0,0,100,0),
(1214630,10,7189.14,2094.67,581.326,0,0,0,0,100,0),
(1214630,11,7191.14,2087.61,579.889,0,0,0,0,100,0),
(1214630,12,7196.89,2079.97,577.553,0,0,0,0,100,0),
(1214630,13,7202.99,2071.87,575.532,0,0,0,0,100,0),
(1214630,14,7208.13,2065.04,574.588,0,0,0,0,100,0),
(1214630,15,7215.13,2054.6,574.463,0,0,0,0,100,0),
(1214630,16,7219.83,2044.1,574.463,0,0,0,0,100,0),
(1214630,17,7215.13,2054.6,574.463,0,0,0,0,100,0),
(1214630,18,7208.13,2065.04,574.588,0,0,0,0,100,0),
(1214630,19,7202.99,2071.87,575.532,0,0,0,0,100,0),
(1214630,20,7196.89,2079.97,577.553,0,0,0,0,100,0),
(1214630,21,7191.14,2087.61,579.889,0,0,0,0,100,0),
(1214630,22,7189.14,2094.67,581.326,0,0,0,0,100,0),
-- Ymirjar Element Shaper
(1214690,1,7235.66,2026.75,574.407,0,0,0,0,100,0),
(1214690,2,7238.48,2015.8,574.059,0,0,0,0,100,0),
(1214690,3,7239.62,2011.38,573.157,0,0,0,0,100,0),
(1214690,4,7240.72,1999.76,571.071,0,0,0,0,100,0),
(1214690,5,7241.54,1991.12,570.972,0,0,0,0,100,0),
(1214690,6,7230.99,1988.49,571.001,0,0,0,0,100,0),
(1214690,7,7222.62,1995.87,571.501,0,0,0,0,100,0),
(1214690,8,7221.48,2001.71,572.468,0,0,0,0,100,0),
(1214690,9,7220.08,2008.93,573.977,0,0,0,0,100,0),
(1214690,10,7219.19,2013.49,574.463,0,0,0,0,100,0),
(1214690,11,7219.81,2026.98,574.338,0,0,0,0,100,0),
(1214690,12,7228.56,2026.85,574.353,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
