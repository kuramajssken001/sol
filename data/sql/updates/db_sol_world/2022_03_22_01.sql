-- DB update 2022_03_22_00 -> 2022_03_22_01
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2022_03_22_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2022_03_22_00 2022_03_22_01 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1647964415199306799'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1647964415199306799');

DELETE FROM `smart_scripts` WHERE `source_type` = 0 AND `entryorguid` = 20600 AND `id` = 6;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(20600,0,6,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Maggoc - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 726950;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `pathfinding`, `action`, `action_chance`, `wpguid`)
VALUES
(726950,1,2209.41,5667.43,267.731,0,0,0,0,0,100,0),
(726950,2,2229.93,5660.01,268.182,0,0,0,0,0,100,0),
(726950,3,2250.44,5652.59,267.685,0,0,0,0,0,100,0),
(726950,4,2267.99,5646.24,267.343,0,0,0,0,0,100,0),
(726950,5,2284.66,5640.21,266.901,0,0,0,0,0,100,0),
(726950,6,2303.53,5633.38,265.925,0,0,0,0,0,100,0),
(726950,7,2326.43,5625.1,265.344,0,0,0,0,0,100,0),
(726950,8,2344.04,5612.24,264.996,0,0,0,0,0,100,0),
(726950,9,2364.5,5597.29,264.317,0,0,0,0,0,100,0),
(726950,10,2376.16,5580.97,264.148,0,0,0,0,0,100,0),
(726950,11,2386.88,5565.97,264.098,0,0,0,0,0,100,0),
(726950,12,2402.17,5544.57,264.745,0,0,0,0,0,100,0),
(726950,13,2402.49,5528.71,264.681,0,0,0,0,0,100,0),
(726950,14,2402.86,5509.99,264.99,0,0,0,0,0,100,0),
(726950,15,2398.23,5498.98,265.163,0,0,0,0,0,100,0),
(726950,16,2392,5484.13,265.216,0,0,0,0,0,100,0),
(726950,17,2384.25,5465.68,265.538,0,0,0,0,0,100,0),
(726950,18,2386.43,5444.21,265.59,0,0,0,0,0,100,0),
(726950,19,2388.55,5423.33,265.05,0,0,0,0,0,100,0),
(726950,20,2390.66,5402.53,264.718,0,0,0,0,0,100,0),
(726950,21,2403.3,5386.95,264.001,0,0,0,0,0,100,0),
(726950,22,2418.74,5367.92,263.393,0,0,0,0,0,100,0),
(726950,23,2430.29,5356.7,263.681,0,0,0,0,0,100,0),
(726950,24,2448.53,5338.98,264.094,0,0,0,0,0,100,0),
(726950,25,2455.75,5325.84,264.82,0,0,0,0,0,100,0),
(726950,26,2452.61,5310.55,264.003,0,0,0,0,0,100,0),
(726950,27,2436.56,5299.11,262.697,0,0,0,0,0,100,0),
(726950,28,2421.06,5288.08,263.492,0,0,0,0,0,100,0),
(726950,29,2404.24,5276.1,263.74,0,0,0,0,0,100,0),
(726950,30,2388.08,5264.59,264.024,0,0,0,0,0,100,0),
(726950,31,2371.31,5252.65,264.332,0,0,0,0,0,100,0),
(726950,32,2361.44,5244.99,263.917,0,0,0,0,0,100,0),
(726950,33,2348.53,5234.98,262.666,0,0,0,0,0,100,0),
(726950,34,2336.32,5225.51,262.588,0,0,0,0,0,100,0),
(726950,35,2326.91,5213.62,263.327,0,0,0,0,0,100,0),
(726950,36,2315.54,5199.26,264.063,0,0,0,0,0,100,0),
(726950,37,2305.91,5187.1,264.683,0,0,0,0,0,100,0),
(726950,38,2294.43,5172.59,264.752,0,0,0,0,0,100,0),
(726950,39,2280.58,5168.83,264.531,0,0,0,0,0,100,0),
(726950,40,2265.83,5164.83,264.164,0,0,0,0,0,100,0),
(726950,41,2251.41,5160.92,263.969,0,0,0,0,0,100,0),
(726950,42,2234.15,5160.39,263.888,0,0,0,0,0,100,0),
(726950,43,2214.68,5159.79,264.54,0,0,0,0,0,100,0),
(726950,44,2197.01,5159.24,265.921,0,0,0,0,0,100,0),
(726950,45,2183.11,5153.78,265.848,0,0,0,0,0,100,0),
(726950,46,2167.76,5147.75,266.555,0,0,0,0,0,100,0),
(726950,47,2150.19,5140.84,265.225,0,0,0,0,0,100,0),
(726950,48,2140.11,5140.19,265.982,0,0,0,0,0,100,0),
(726950,49,2116.59,5138.68,265.072,0,0,0,0,0,100,0),
(726950,50,2106.65,5146.65,265.304,0,0,0,0,0,100,0),
(726950,51,2095.45,5155.62,264.923,0,0,0,0,0,100,0),
(726950,52,2080.17,5167.86,264.999,0,0,0,0,0,100,0),
(726950,53,2062.26,5162.22,265.412,0,0,0,0,0,100,0),
(726950,54,2038.78,5154.82,265.383,0,0,0,0,0,100,0),
(726950,55,2018.51,5148.43,265.242,0,0,0,0,0,100,0),
(726950,56,2002.99,5147.42,265.074,0,0,0,0,0,100,0),
(726950,57,1984.59,5146.23,265.065,0,0,0,0,0,100,0),
(726950,58,1965.52,5144.99,265.878,0,5000,0,0,0,100,0),
(726950,59,1981.84,5138.37,265.174,0,0,0,0,0,100,0),
(726950,60,1996,5132.63,265.059,0,0,0,0,0,100,0),
(726950,61,2010.15,5126.89,265.336,0,0,0,0,0,100,0),
(726950,62,2027.57,5120.53,265.058,0,0,0,0,0,100,0),
(726950,63,2043.35,5114.76,265.004,0,0,0,0,0,100,0),
(726950,64,2061.38,5108.17,265.294,0,0,0,0,0,100,0),
(726950,65,2082.54,5116.5,265.037,0,0,0,0,0,100,0),
(726950,66,2104.79,5125.25,265.14,0,0,0,0,0,100,0),
(726950,67,2126.61,5133.83,265.81,0,0,0,0,0,100,0),
(726950,68,2141.53,5138.27,266.116,0,0,0,0,0,100,0),
(726950,69,2164.77,5145.17,266.081,0,0,0,0,0,100,0),
(726950,70,2174.97,5142.24,264.346,0,0,0,0,0,100,0),
(726950,71,2190.54,5137.76,261.598,0,0,0,0,0,100,0),
(726950,72,2210.87,5131.92,260.095,0,0,0,0,0,100,0),
(726950,73,2230.58,5143.04,261.844,0,0,0,0,0,100,0),
(726950,74,2249.05,5153.46,263.735,0,0,0,0,0,100,0),
(726950,75,2263.99,5160.33,264.3,0,0,0,0,0,100,0),
(726950,76,2280.32,5167.83,264.482,0,0,0,0,0,100,0),
(726950,77,2298.81,5176.33,264.71,0,0,0,0,0,100,0),
(726950,78,2307.97,5188.85,264.695,0,0,0,0,0,100,0),
(726950,79,2316.9,5201.08,263.97,0,0,0,0,0,100,0),
(726950,80,2325.51,5212.85,263.354,0,0,0,0,0,100,0),
(726950,81,2335.26,5226.19,262.559,0,0,0,0,0,100,0),
(726950,82,2350.64,5236.35,262.804,0,0,0,0,0,100,0),
(726950,83,2366.22,5246.64,264.18,0,0,0,0,0,100,0),
(726950,84,2378.92,5256.9,264.37,0,0,0,0,0,100,0),
(726950,85,2394.16,5269.22,263.933,0,0,0,0,0,100,0),
(726950,86,2409.77,5281.83,263.533,0,0,0,0,0,100,0),
(726950,87,2426.36,5295.24,263.322,0,0,0,0,0,100,0),
(726950,88,2427.55,5313.16,264.866,0,0,0,0,0,100,0),
(726950,89,2428.45,5326.82,265.965,0,0,0,0,0,100,0),
(726950,90,2422.81,5347.65,264.226,0,0,0,0,0,100,0),
(726950,91,2416.94,5369.36,263.383,0,0,0,0,0,100,0),
(726950,92,2404.84,5385.07,263.846,0,0,0,0,0,100,0),
(726950,93,2393.6,5399.66,264.667,0,0,0,0,0,100,0),
(726950,94,2390.92,5419.43,264.916,0,0,0,0,0,100,0),
(726950,95,2388.13,5440,265.582,0,0,0,0,0,100,0),
(726950,96,2385.52,5459.24,265.499,0,0,0,0,0,100,0),
(726950,97,2388.56,5478.49,265.264,0,0,0,0,0,100,0),
(726950,98,2396.58,5495.22,265.095,0,0,0,0,0,100,0),
(726950,99,2403.91,5510.5,265.012,0,0,0,0,0,100,0),
(726950,100,2403.77,5527.87,264.688,0,0,0,0,0,100,0),
(726950,101,2403.66,5541.19,264.766,0,0,0,0,0,100,0),
(726950,102,2395.21,5553.56,264.305,0,0,0,0,0,100,0),
(726950,103,2385.8,5567.33,264.047,0,0,0,0,0,100,0),
(726950,104,2374.94,5583.22,264.135,0,0,0,0,0,100,0),
(726950,105,2364.01,5599.22,264.33,0,0,0,0,0,100,0),
(726950,106,2347.78,5609.34,264.816,0,0,0,0,0,100,0),
(726950,107,2330.65,5620.01,265.14,0,0,0,0,0,100,0),
(726950,108,2315.2,5629.64,265.8,0,0,0,0,0,100,0),
(726950,109,2299.25,5634.52,266.121,0,0,0,0,0,100,0),
(726950,110,2282.74,5639.58,266.978,0,0,0,0,0,100,0),
(726950,111,2263.11,5645.59,267.42,0,0,0,0,0,100,0),
(726950,112,2240.29,5652.58,268.022,0,0,0,0,0,100,0),
(726950,113,2219.48,5661.76,268.013,0,0,0,0,0,100,0),
(726950,114,2199.56,5670.55,267.791,0,5000,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
