-- DB update 2022_03_12_00 -> 2022_03_12_01
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2022_03_12_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2022_03_12_00 2022_03_12_01 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1647042009528714260'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1647042009528714260');

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 43588;
UPDATE `creature_addon` SET `path_id` = 435880 WHERE `guid` = 43588;
UPDATE `creature` SET `wander_distance` = 0, `MovementType` = 0 WHERE `guid` IN (43589,43590);

DELETE FROM `creature_formations` WHERE `leaderGUID` = 43588;
INSERT INTO `creature_formations` (`leaderGUID`, `memberGUID`, `dist`, `angle`, `groupAI`)
VALUES
(43588,43588,0,0,2),
(43588,43589,2,315,2),
(43588,43590,2,45,2);

DELETE FROM `smart_scripts` WHERE `source_type` = 0 AND `entryorguid` = 5477;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(5477,0,0,0,1,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Noboru the Cudgel - On Respawn - Set Active On'),
(5477,0,1,0,25,0,100,0,0,0,0,0,0,75,54913,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Noboru the Cudgel - On Reset - Add Aura ''Thrash''');

DELETE FROM `waypoint_data` WHERE `id` = 435880;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `pathfinding`, `action`, `action_chance`, `wpguid`)
VALUES
(435880,1,-10208.2,-3308.25,22.0216,0,0,0,0,0,100,0),
(435880,2,-10204.5,-3318.47,21.7332,0,0,0,0,0,100,0),
(435880,3,-10206.9,-3326.06,23.6405,0,0,0,0,0,100,0),
(435880,4,-10209,-3332.98,24.4924,0,0,0,0,0,100,0),
(435880,5,-10210.8,-3339.04,24.2381,0,0,0,0,0,100,0),
(435880,6,-10211.2,-3353.64,22.3186,0,0,0,0,0,100,0),
(435880,7,-10211.5,-3362.73,23.2515,0,0,0,0,0,100,0),
(435880,8,-10211.7,-3371.68,22.4021,0,0,0,0,0,100,0),
(435880,9,-10212,-3382.25,23.1748,0,0,0,0,0,100,0),
(435880,10,-10213,-3390.23,21.7387,0,0,0,0,0,100,0),
(435880,11,-10214.2,-3399.26,19.6786,0,0,0,0,0,100,0),
(435880,12,-10215.5,-3409.09,17.3748,0,0,0,0,0,100,0),
(435880,13,-10217.2,-3422.07,20.6642,0,0,0,0,0,100,0),
(435880,14,-10217.5,-3429.88,22.8051,0,0,0,0,0,100,0),
(435880,15,-10217.8,-3437.93,22.62,0,0,0,0,0,100,0),
(435880,16,-10216.2,-3443.99,22.4339,0,0,0,0,0,100,0),
(435880,17,-10214.5,-3450.29,22.2894,0,0,0,0,0,100,0),
(435880,18,-10213,-3455.72,23.5063,0,0,0,0,0,100,0),
(435880,19,-10211.5,-3461.23,23.817,0,0,0,0,0,100,0),
(435880,20,-10209,-3470.28,23.151,0,0,0,0,0,100,0),
(435880,21,-10205.9,-3476.29,23.0219,0,0,0,0,0,100,0),
(435880,22,-10202.3,-3483.24,22.5017,0,0,0,0,0,100,0),
(435880,23,-10199.3,-3489.02,22.7744,0,0,0,0,0,100,0),
(435880,24,-10195.9,-3495.55,23.3896,0,0,0,0,0,100,0),
(435880,25,-10192.2,-3502.7,23.8135,0,0,0,0,0,100,0),
(435880,26,-10188.2,-3503.42,23.9684,0,0,0,0,0,100,0),
(435880,27,-10179.7,-3504.93,22.7949,0,0,0,0,0,100,0),
(435880,28,-10174.8,-3505.8,23.5815,0,10000,0,0,0,100,0),
(435880,29,-10179.7,-3504.93,22.7949,0,0,0,0,0,100,0),
(435880,30,-10188.2,-3503.42,23.9684,0,0,0,0,0,100,0),
(435880,31,-10192.2,-3502.7,23.8135,0,0,0,0,0,100,0),
(435880,32,-10195.9,-3495.55,23.3896,0,0,0,0,0,100,0),
(435880,33,-10199.3,-3489.02,22.7744,0,0,0,0,0,100,0),
(435880,34,-10202.3,-3483.24,22.5017,0,0,0,0,0,100,0),
(435880,35,-10205.9,-3476.29,23.0219,0,0,0,0,0,100,0),
(435880,36,-10209,-3470.28,23.151,0,0,0,0,0,100,0),
(435880,37,-10211.5,-3461.23,23.817,0,0,0,0,0,100,0),
(435880,38,-10213,-3455.72,23.5063,0,0,0,0,0,100,0),
(435880,39,-10214.5,-3450.29,22.2894,0,0,0,0,0,100,0),
(435880,40,-10216.2,-3443.99,22.4339,0,0,0,0,0,100,0),
(435880,41,-10217.8,-3437.93,22.62,0,0,0,0,0,100,0),
(435880,42,-10217.5,-3429.88,22.8051,0,0,0,0,0,100,0),
(435880,43,-10217.2,-3422.07,20.6642,0,0,0,0,0,100,0),
(435880,44,-10215.5,-3409.09,17.3748,0,0,0,0,0,100,0),
(435880,45,-10214.2,-3399.26,19.6786,0,0,0,0,0,100,0),
(435880,46,-10213,-3390.23,21.7387,0,0,0,0,0,100,0),
(435880,47,-10212,-3382.25,23.1748,0,0,0,0,0,100,0),
(435880,48,-10211.7,-3371.68,22.4021,0,0,0,0,0,100,0),
(435880,49,-10211.5,-3362.73,23.2515,0,0,0,0,0,100,0),
(435880,50,-10211.2,-3353.64,22.3186,0,0,0,0,0,100,0),
(435880,51,-10210.8,-3339.04,24.2381,0,0,0,0,0,100,0),
(435880,52,-10209,-3332.98,24.4924,0,0,0,0,0,100,0),
(435880,53,-10206.9,-3326.06,23.6405,0,0,0,0,0,100,0),
(435880,54,-10204.5,-3318.47,21.7332,0,0,0,0,0,100,0),
(435880,55,-10208.2,-3308.25,22.0216,0,0,0,0,0,100,0),
(435880,56,-10209.3,-3302.99,22.6526,0,0,0,0,0,100,0),
(435880,57,-10210.4,-3297.62,22.151,0,0,0,0,0,100,0),
(435880,58,-10212.2,-3288.99,19.8928,0,0,0,0,0,100,0),
(435880,59,-10207.6,-3283.72,17.8377,0,0,0,0,0,100,0),
(435880,60,-10203.6,-3279.13,17.3748,0,0,0,0,0,100,0),
(435880,61,-10199.4,-3274.29,18.2188,0,0,0,0,0,100,0),
(435880,62,-10194.2,-3268.31,20.0765,0,0,0,0,0,100,0),
(435880,63,-10189.1,-3262.42,21.9907,0,0,0,0,0,100,0),
(435880,64,-10183.6,-3256.17,22.1505,0,0,0,0,0,100,0),
(435880,65,-10176.3,-3247.73,22.9433,0,0,0,0,0,100,0),
(435880,66,-10168.7,-3239.01,20.4381,0,0,0,0,0,100,0),
(435880,67,-10164,-3233.64,20.4972,0,0,0,0,0,100,0),
(435880,68,-10158,-3226.78,21.7452,0,0,0,0,0,100,0),
(435880,69,-10151.4,-3219.23,22.2315,0,0,0,0,0,100,0),
(435880,70,-10144.1,-3214.25,22.9072,0,0,0,0,0,100,0),
(435880,71,-10139.1,-3210.85,21.9141,0,0,0,0,0,100,0),
(435880,72,-10131.3,-3205.61,19.189,0,0,0,0,0,100,0),
(435880,73,-10124,-3200.64,17.3991,0,0,0,0,0,100,0),
(435880,74,-10119.6,-3193.65,19.0715,0,0,0,0,0,100,0),
(435880,75,-10115.7,-3187.55,21.1673,0,0,0,0,0,100,0),
(435880,76,-10112.8,-3183.02,22.6524,0,0,0,0,0,100,0),
(435880,77,-10114.1,-3175.31,21.8539,0,0,0,0,0,100,0),
(435880,78,-10115.7,-3166.58,22.7317,0,0,0,0,0,100,0),
(435880,79,-10116.9,-3159.72,23.3365,0,0,0,0,0,100,0),
(435880,80,-10126,-3156.21,19.7082,0,0,0,0,0,100,0),
(435880,81,-10136.2,-3152.29,17.3751,0,0,0,0,0,100,0),
(435880,82,-10145.8,-3148.61,18.0087,0,0,0,0,0,100,0),
(435880,83,-10152.5,-3146.05,20.4979,0,0,0,0,0,100,0),
(435880,84,-10157.5,-3136.25,21.971,0,0,0,0,0,100,0),
(435880,85,-10161.5,-3128.34,21.901,0,0,0,0,0,100,0),
(435880,86,-10165.4,-3120.54,22.5594,0,0,0,0,0,100,0),
(435880,87,-10168.9,-3113.72,22.2584,0,0,0,0,0,100,0),
(435880,88,-10178.6,-3110.89,22.0213,0,0,0,0,0,100,0),
(435880,89,-10188.1,-3108.14,21.7246,0,0,0,0,0,100,0),
(435880,90,-10196.3,-3105.77,22.9721,0,0,0,0,0,100,0),
(435880,91,-10205.2,-3103.5,24.0629,0,0,0,0,0,100,0),
(435880,92,-10213.7,-3102.1,23.2114,0,0,0,0,0,100,0),
(435880,93,-10225.2,-3100.2,21.8037,0,0,0,0,0,100,0),
(435880,94,-10234.5,-3098.67,22.0641,0,0,0,0,0,100,0),
(435880,95,-10240.6,-3097.67,21.891,0,0,0,0,0,100,0),
(435880,96,-10249.9,-3096.58,22.4876,0,0,0,0,0,100,0),
(435880,97,-10260.4,-3095.35,21.8523,0,0,0,0,0,100,0),
(435880,98,-10271.9,-3094.01,21.8161,0,0,0,0,0,100,0),
(435880,99,-10282.7,-3092.74,23.1321,0,0,0,0,0,100,0),
(435880,100,-10290.8,-3087.25,22.8692,0,0,0,0,0,100,0),
(435880,101,-10299.9,-3081.09,24.1564,0,0,0,0,0,100,0),
(435880,102,-10309.5,-3074.63,22.9835,0,0,0,0,0,100,0),
(435880,103,-10311.6,-3067.25,22.0558,0,0,0,0,0,100,0),
(435880,104,-10313.6,-3060.36,22.886,0,0,0,0,0,100,0),
(435880,105,-10316.2,-3051.27,22.4668,0,0,0,0,0,100,0),
(435880,106,-10318.5,-3043.01,22.1689,0,0,0,0,0,100,0),
(435880,107,-10315.3,-3036.77,20.8026,0,0,0,0,0,100,0),
(435880,108,-10312,-3030.21,18.5038,0,0,0,0,0,100,0),
(435880,109,-10308.8,-3023.86,17.4169,0,0,0,0,0,100,0),
(435880,110,-10304.8,-3015.85,19.1433,0,0,0,0,0,100,0),
(435880,111,-10300.3,-3007.03,21.0116,0,0,0,0,0,100,0),
(435880,112,-10297.1,-2999.27,21.7013,0,0,0,0,0,100,0),
(435880,113,-10294.1,-2991.93,22.4974,0,0,0,0,0,100,0),
(435880,114,-10287.4,-2991.07,22.883,0,0,0,0,0,100,0),
(435880,115,-10280.6,-2990.2,22.5353,0,0,0,0,0,100,0),
(435880,116,-10272.6,-2989.19,21.9209,0,0,0,0,0,100,0),
(435880,117,-10263.6,-2989,21.6436,0,0,0,0,0,100,0),
(435880,118,-10251.2,-2988.73,20.8701,0,0,0,0,0,100,0),
(435880,119,-10239.6,-2988.48,21.9738,0,0,0,0,0,100,0),
(435880,120,-10232.6,-2986.24,22.1486,0,0,0,0,0,100,0),
(435880,121,-10226.2,-2980.54,21.1023,0,0,0,0,0,100,0),
(435880,122,-10219.9,-2974.81,19.7751,0,0,0,0,0,100,0),
(435880,123,-10209.1,-2970.37,17.2356,0,0,0,0,0,100,0),
(435880,124,-10201.3,-2967.17,17.8385,0,0,0,0,0,100,0),
(435880,125,-10194.4,-2964.32,20.4331,0,0,0,0,0,100,0),
(435880,126,-10189.1,-2962.12,21.9984,0,0,0,0,0,100,0),
(435880,127,-10183.4,-2962.64,23.1663,0,0,0,0,0,100,0),
(435880,128,-10178.9,-2963.05,23.438,0,10000,0,0,0,100,0),
(435880,129,-10183.4,-2962.64,23.1663,0,0,0,0,0,100,0),
(435880,130,-10189.1,-2962.12,21.9984,0,0,0,0,0,100,0),
(435880,131,-10194.4,-2964.32,20.4331,0,0,0,0,0,100,0),
(435880,132,-10201.3,-2967.17,17.8385,0,0,0,0,0,100,0),
(435880,133,-10209.1,-2970.37,17.2356,0,0,0,0,0,100,0),
(435880,134,-10219.9,-2974.81,19.7751,0,0,0,0,0,100,0),
(435880,135,-10226.2,-2980.54,21.1023,0,0,0,0,0,100,0),
(435880,136,-10232.6,-2986.24,22.1486,0,0,0,0,0,100,0),
(435880,137,-10239.6,-2988.48,21.9738,0,0,0,0,0,100,0),
(435880,138,-10251.2,-2988.73,20.8701,0,0,0,0,0,100,0),
(435880,139,-10263.6,-2989,21.6436,0,0,0,0,0,100,0),
(435880,140,-10272.6,-2989.19,21.9209,0,0,0,0,0,100,0),
(435880,141,-10280.6,-2990.2,22.5353,0,0,0,0,0,100,0),
(435880,142,-10287.4,-2991.07,22.883,0,0,0,0,0,100,0),
(435880,143,-10294.1,-2991.93,22.4974,0,0,0,0,0,100,0),
(435880,144,-10297.1,-2999.27,21.7013,0,0,0,0,0,100,0),
(435880,145,-10300.3,-3007.03,21.0116,0,0,0,0,0,100,0),
(435880,146,-10304.8,-3015.85,19.1433,0,0,0,0,0,100,0),
(435880,147,-10308.8,-3023.86,17.4169,0,0,0,0,0,100,0),
(435880,148,-10312,-3030.21,18.5038,0,0,0,0,0,100,0),
(435880,149,-10315.3,-3036.77,20.8026,0,0,0,0,0,100,0),
(435880,150,-10318.5,-3043.01,22.1689,0,0,0,0,0,100,0),
(435880,151,-10316.2,-3051.27,22.4668,0,0,0,0,0,100,0),
(435880,152,-10313.6,-3060.36,22.886,0,0,0,0,0,100,0),
(435880,153,-10311.6,-3067.25,22.0558,0,0,0,0,0,100,0),
(435880,154,-10309.5,-3074.63,22.9835,0,0,0,0,0,100,0),
(435880,155,-10299.9,-3081.09,24.1564,0,0,0,0,0,100,0),
(435880,156,-10290.8,-3087.25,22.8692,0,0,0,0,0,100,0),
(435880,157,-10282.7,-3092.74,23.1321,0,0,0,0,0,100,0),
(435880,158,-10271.9,-3094.01,21.8161,0,0,0,0,0,100,0),
(435880,159,-10260.4,-3095.35,21.8523,0,0,0,0,0,100,0),
(435880,160,-10249.9,-3096.58,22.4876,0,0,0,0,0,100,0),
(435880,161,-10240.6,-3097.67,21.891,0,0,0,0,0,100,0),
(435880,162,-10234.5,-3098.67,22.0641,0,0,0,0,0,100,0),
(435880,163,-10225.2,-3100.2,21.8037,0,0,0,0,0,100,0),
(435880,164,-10213.7,-3102.1,23.2114,0,0,0,0,0,100,0),
(435880,165,-10205.2,-3103.5,24.0629,0,0,0,0,0,100,0),
(435880,166,-10196.3,-3105.77,22.9721,0,0,0,0,0,100,0),
(435880,167,-10188.1,-3108.14,21.7246,0,0,0,0,0,100,0),
(435880,168,-10178.6,-3110.89,22.0213,0,0,0,0,0,100,0),
(435880,169,-10168.9,-3113.72,22.2584,0,0,0,0,0,100,0),
(435880,170,-10165.4,-3120.54,22.5594,0,0,0,0,0,100,0),
(435880,171,-10161.5,-3128.34,21.901,0,0,0,0,0,100,0),
(435880,172,-10157.5,-3136.25,21.971,0,0,0,0,0,100,0),
(435880,173,-10152.5,-3146.05,20.4979,0,0,0,0,0,100,0),
(435880,174,-10145.8,-3148.61,18.0087,0,0,0,0,0,100,0),
(435880,175,-10136.2,-3152.29,17.3751,0,0,0,0,0,100,0),
(435880,176,-10126,-3156.21,19.7082,0,0,0,0,0,100,0),
(435880,177,-10116.9,-3159.72,23.3365,0,0,0,0,0,100,0),
(435880,178,-10115.7,-3166.58,22.7317,0,0,0,0,0,100,0),
(435880,179,-10114.1,-3175.31,21.8539,0,0,0,0,0,100,0),
(435880,180,-10112.8,-3183.02,22.6524,0,0,0,0,0,100,0),
(435880,181,-10115.7,-3187.55,21.1673,0,0,0,0,0,100,0),
(435880,182,-10119.6,-3193.65,19.0715,0,0,0,0,0,100,0),
(435880,183,-10124,-3200.64,17.3991,0,0,0,0,0,100,0),
(435880,184,-10131.3,-3205.61,19.189,0,0,0,0,0,100,0),
(435880,185,-10139.1,-3210.85,21.9141,0,0,0,0,0,100,0),
(435880,186,-10144.1,-3214.25,22.9072,0,0,0,0,0,100,0),
(435880,187,-10151.4,-3219.23,22.2315,0,0,0,0,0,100,0),
(435880,188,-10158,-3226.78,21.7452,0,0,0,0,0,100,0),
(435880,189,-10164,-3233.64,20.4972,0,0,0,0,0,100,0),
(435880,190,-10168.7,-3239.01,20.4381,0,0,0,0,0,100,0),
(435880,191,-10176.3,-3247.73,22.9433,0,0,0,0,0,100,0),
(435880,192,-10183.6,-3256.17,22.1505,0,0,0,0,0,100,0),
(435880,193,-10189.1,-3262.42,21.9907,0,0,0,0,0,100,0),
(435880,194,-10194.2,-3268.31,20.0765,0,0,0,0,0,100,0),
(435880,195,-10199.4,-3274.29,18.2188,0,0,0,0,0,100,0),
(435880,196,-10203.6,-3279.13,17.3748,0,0,0,0,0,100,0),
(435880,197,-10207.6,-3283.72,17.8377,0,0,0,0,0,100,0),
(435880,198,-10212.2,-3288.99,19.8928,0,0,0,0,0,100,0),
(435880,199,-10210.4,-3297.62,22.151,0,0,0,0,0,100,0),
(435880,200,-10209.3,-3302.99,22.6526,0,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
