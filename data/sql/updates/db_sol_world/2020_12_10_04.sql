-- DB update 2020_12_10_03 -> 2020_12_10_04
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_10_03';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_10_03 2020_12_10_04 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607601609862332814'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607601609862332814');

UPDATE `creature_template` SET `speed_walk` = 1.1 WHERE `entry` = 8976;

DELETE FROM `smart_scripts` WHERE `entryorguid` = 8976 AND `source_type` = 0 AND `id` = 1;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(8976,0,1,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Hematos - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 1345150;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(1345150,1,-8198.23,-917.961,132.864,0,0,0,0,100,0),
(1345150,2,-8189.78,-894.28,132.904,0,0,0,0,100,0),
(1345150,3,-8189.08,-869.909,132.083,0,0,0,0,100,0),
(1345150,4,-8188.39,-846.126,132.356,0,0,0,0,100,0),
(1345150,5,-8187.55,-816.536,129.697,0,0,0,0,100,0),
(1345150,6,-8177.27,-803.543,129.895,0,0,0,0,100,0),
(1345150,7,-8166.84,-790.365,129.848,0,0,0,0,100,0),
(1345150,8,-8150.29,-780.303,129.205,0,0,0,0,100,0),
(1345150,9,-8131.38,-768.808,130.859,0,0,0,0,100,0),
(1345150,10,-8102.34,-775.695,131.46,0,0,0,0,100,0),
(1345150,11,-8078.17,-783.221,132.585,0,0,0,0,100,0),
(1345150,12,-8053.33,-790.958,132.818,0,0,0,0,100,0),
(1345150,13,-8022.56,-800.541,131.608,0,0,0,0,100,0),
(1345150,14,-8006.29,-813.84,131.722,0,0,0,0,100,0),
(1345150,15,-7986.66,-829.885,130.545,0,0,0,0,100,0),
(1345150,16,-7977.84,-855.426,131.74,0,0,0,0,100,0),
(1345150,17,-7968.91,-881.28,128.998,0,0,0,0,100,0),
(1345150,18,-7984.89,-904.946,129.484,0,0,0,0,100,0),
(1345150,19,-7993.79,-934.841,129.321,0,0,0,0,100,0),
(1345150,20,-7998.12,-967.102,127.889,0,0,0,0,100,0),
(1345150,21,-8002.75,-1001.57,128.562,0,0,0,0,100,0),
(1345150,22,-8019.3,-1031.97,130.225,0,0,0,0,100,0),
(1345150,23,-8032.86,-1056.86,131.076,0,0,0,0,100,0),
(1345150,24,-8039.18,-1086.67,131.087,0,0,0,0,100,0),
(1345150,25,-8043.33,-1118.11,131.087,0,0,0,0,100,0),
(1345150,26,-8053.88,-1148.67,131.087,0,0,0,0,100,0),
(1345150,27,-8065.6,-1169.51,131.087,0,0,0,0,100,0),
(1345150,28,-8076.81,-1189.43,131.642,0,0,0,0,100,0),
(1345150,29,-8083.63,-1204.91,133.246,0,0,0,0,100,0),
(1345150,30,-8094.72,-1230.07,132.802,0,0,0,0,100,0),
(1345150,31,-8117.75,-1237.46,133.074,0,0,0,0,100,0),
(1345150,32,-8143.38,-1219.68,133.111,0,0,0,0,100,0),
(1345150,33,-8157.7,-1206.47,134.896,0,0,0,0,100,0),
(1345150,34,-8159.24,-1193.96,136.698,0,0,0,0,100,0),
(1345150,35,-8152.86,-1167.79,135.585,0,0,0,0,100,0),
(1345150,36,-8151.68,-1155.72,136.309,0,0,0,0,100,0),
(1345150,37,-8150.15,-1140.2,135.762,0,0,0,0,100,0),
(1345150,38,-8148.48,-1123.16,135.457,0,0,0,0,100,0),
(1345150,39,-8145.04,-1088.04,132.858,0,0,0,0,100,0),
(1345150,40,-8142.54,-1062.51,132.316,0,0,0,0,100,0),
(1345150,41,-8144.02,-1046.3,132.896,0,0,0,0,100,0),
(1345150,42,-8146.18,-1022.53,133.425,0,0,0,0,100,0),
(1345150,43,-8169.36,-998.282,135.425,0,0,0,0,100,0),
(1345150,44,-8177.11,-987.954,135.401,0,0,0,0,100,0),
(1345150,45,-8194.4,-964.901,133.777,0,0,0,0,100,0),
(1345150,46,-8197.23,-939.184,133.549,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
