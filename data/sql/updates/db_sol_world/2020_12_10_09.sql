-- DB update 2020_12_10_08 -> 2020_12_10_09
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_10_08';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_10_08 2020_12_10_09 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607638761552169382'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607638761552169382');

DELETE FROM `smart_scripts` WHERE `entryorguid` = 10559 AND `source_type` = 0 AND `id` = 3;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(10559,0,3,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Lady Vespia - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 323840;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(323840,1,3722.43,913.772,1.00271,0,0,0,0,100,0),
(323840,2,3732.03,904.331,0.968114,0,0,0,0,100,0),
(323840,3,3739.74,895.524,0.758106,0,0,0,0,100,0),
(323840,4,3750.79,880.085,0.36612,0,0,0,0,100,0),
(323840,5,3758.79,867.507,0.679295,0,0,0,0,100,0),
(323840,6,3767.16,856.288,0.976484,0,0,0,0,100,0),
(323840,7,3782.52,843.849,0.968118,0,0,0,0,100,0),
(323840,8,3795.71,840.702,1.67544,0,0,0,0,100,0),
(323840,9,3808.05,838.972,0.956729,0,0,0,0,100,0),
(323840,10,3829.03,839.984,0.967158,0,0,0,0,100,0),
(323840,11,3843.01,840.75,1.18636,0,0,0,0,100,0),
(323840,12,3868.52,844.504,1.14136,0,0,0,0,100,0),
(323840,13,3875.91,855.983,1.62536,0,0,0,0,100,0),
(323840,14,3881.14,864.116,1.31083,0,0,0,0,100,0),
(323840,15,3888.65,865.324,1.37802,0,0,0,0,100,0),
(323840,16,3906.88,866.121,1.13415,0,0,0,0,100,0),
(323840,17,3915.63,865.773,1.10325,0,0,0,0,100,0),
(323840,18,3931.24,865.151,1.25131,0,0,0,0,100,0),
(323840,19,3953.09,864.282,0.148911,0,0,0,0,100,0),
(323840,20,3970.41,860.435,0.365536,0,0,0,0,100,0),
(323840,21,3983.3,857.571,1.04679,0,0,0,0,100,0),
(323840,22,4000.2,860.726,1.17044,0,0,0,0,100,0),
(323840,23,4014.44,868.47,0.720758,0,0,0,0,100,0),
(323840,24,4027.74,883.204,0.801679,0,0,0,0,100,0),
(323840,25,4034.36,889.944,0.716721,0,0,0,0,100,0),
(323840,26,4040.63,896.32,0.261184,0,0,0,0,100,0),
(323840,27,4053.57,909.004,1.51234,0,0,0,0,100,0),
(323840,28,4061.11,910.562,3.69632,0,0,0,0,100,0),
(323840,29,4072.86,909.583,5.37108,0,0,0,0,100,0),
(323840,30,4089.09,903.19,5.97173,0,0,0,0,100,0),
(323840,31,4097.36,901.197,7.08078,0,0,0,0,100,0),
(323840,32,4104.21,899.712,8.83706,0,0,0,0,100,0),
(323840,33,4108.66,898.748,9.81239,0,0,0,0,100,0),
(323840,34,4113.48,897.702,9.81231,0,0,0,0,100,0),
(323840,35,4117.06,886.646,9.75709,0,0,0,0,100,0),
(323840,36,4117.48,870.737,9.81522,0,0,0,0,100,0),
(323840,37,4128.27,866.455,9.65961,0,0,0,0,100,0),
(323840,38,4133.69,864.305,6.78576,0,0,0,0,100,0),
(323840,39,4139.72,862.907,4.09179,0,0,0,0,100,0),
(323840,40,4146.95,861.234,4.07842,0,0,0,0,100,0),
(323840,41,4150.84,864.035,4.07842,0,0,0,0,100,0),
(323840,42,4154.41,867.246,4.07935,0,0,0,0,100,0),
(323840,43,4155.96,872.625,4.08309,0,0,0,0,100,0),
(323840,44,4157.45,877.768,1.50408,0,0,0,0,100,0),
(323840,45,4159.03,884.224,-1.4648,0,0,0,0,100,0),
(323840,46,4160.42,889.895,-1.4539,0,0,0,0,100,0),
(323840,47,4157.66,897.779,-1.45368,0,0,0,0,100,0),
(323840,48,4149.98,900.221,-1.45331,0,0,0,0,100,0),
(323840,49,4145.05,901.677,-3.82177,0,0,0,0,100,0),
(323840,50,4138.34,903.66,-7.01,0,0,0,0,100,0),
(323840,51,4130,904.626,-7.0088,0,0,0,0,100,0),
(323840,52,4124.45,901.164,-7.00726,0,0,0,0,100,0),
(323840,53,4122.58,894.172,-7.09302,0,0,0,0,100,0),
(323840,54,4121.02,888.352,-10.0093,0,0,0,0,100,0),
(323840,55,4119.48,882.597,-12.6409,0,0,0,0,100,0),
(323840,56,4118.34,872.379,-12.5633,0,0,0,0,100,0),
(323840,57,4128.3,867.264,-12.5633,0,0,0,0,100,0),
(323840,58,4131.27,865.741,-14.0774,0,0,0,0,100,0),
(323840,59,4127.76,867.304,-12.5631,0,0,0,0,100,0),
(323840,60,4122.48,869.655,-12.5624,0,0,0,0,100,0),
(323840,61,4117.99,876.806,-12.5624,0,0,0,0,100,0),
(323840,62,4118.94,883.04,-12.6459,0,0,0,0,100,0),
(323840,63,4119.47,886.473,-11.127,0,0,0,0,100,0),
(323840,64,4122.27,894.63,-7.08765,0,0,0,0,100,0),
(323840,65,4124.16,900.133,-7.00757,0,0,0,0,100,0),
(323840,66,4129.97,902.295,-7.00757,0,0,0,0,100,0),
(323840,67,4138.68,903.593,-7.01006,0,0,0,0,100,0),
(323840,68,4143.77,902.755,-4.58501,0,0,0,0,100,0),
(323840,69,4150.06,899.387,-1.45179,0,0,0,0,100,0),
(323840,70,4155.44,896.502,-1.45183,0,0,0,0,100,0),
(323840,71,4159.5,889.693,-1.45373,0,0,0,0,100,0),
(323840,72,4159.69,883.77,-1.46467,0,0,0,0,100,0),
(323840,73,4157.97,878.488,1.08737,0,0,0,0,100,0),
(323840,74,4155.9,872.117,4.08279,0,0,0,0,100,0),
(323840,75,4153.64,865.145,4.07995,0,0,0,0,100,0),
(323840,76,4149.28,863.342,4.07995,0,0,0,0,100,0),
(323840,77,4139.4,863.296,4.09175,0,0,0,0,100,0),
(323840,78,4135.11,864.413,6.11443,0,0,0,0,100,0),
(323840,79,4127.77,866.321,9.67168,0,0,0,0,100,0),
(323840,80,4122.49,869.964,9.7572,0,0,0,0,100,0),
(323840,81,4117.5,877.209,9.77358,0,0,0,0,100,0),
(323840,82,4113.08,883.249,9.81171,0,0,0,0,100,0),
(323840,83,4108.95,885.474,9.81171,0,0,0,0,100,0),
(323840,84,4101.36,894.021,9.50601,0,0,0,0,100,0),
(323840,85,4100.45,897.066,9.16713,0,0,0,0,100,0),
(323840,86,4099.21,901.252,7.48032,0,0,0,0,100,0),
(323840,87,4094.04,900.019,6.55541,0,0,0,0,100,0),
(323840,88,4080.27,902.525,4.84452,0,0,0,0,100,0),
(323840,89,4066.64,905.211,2.67609,0,0,0,0,100,0),
(323840,90,4052.04,900.389,-0.015366,0,0,0,0,100,0),
(323840,91,4044.6,894.961,-0.418363,0,0,0,0,100,0),
(323840,92,4036.89,889.341,0.380059,0,0,0,0,100,0),
(323840,93,4032.22,885.928,0.883574,0,0,0,0,100,0),
(323840,94,4025.82,881.246,0.6487,0,0,0,0,100,0),
(323840,95,4015.93,874.015,0.399262,0,0,0,0,100,0),
(323840,96,4004.97,870.015,0.645221,0,0,0,0,100,0),
(323840,97,3996.32,866.859,1.08266,0,0,0,0,100,0),
(323840,98,3986.19,865.148,1.09943,0,0,0,0,100,0),
(323840,99,3960.32,860.776,0.167445,0,0,0,0,100,0),
(323840,100,3952.94,863.004,0.241122,0,0,0,0,100,0),
(323840,101,3940.34,865.997,0.925124,0,0,0,0,100,0),
(323840,102,3931.87,866.824,1.30791,0,0,0,0,100,0),
(323840,103,3919.45,868.037,1.20335,0,0,0,0,100,0),
(323840,104,3911.64,867.882,1.2007,0,0,0,0,100,0),
(323840,105,3898.7,867.626,1.27737,0,0,0,0,100,0),
(323840,106,3888.92,864.407,1.34762,0,0,0,0,100,0),
(323840,107,3881.74,862.046,1.27606,0,0,0,0,100,0),
(323840,108,3877.39,855.832,1.92822,0,0,0,0,100,0),
(323840,109,3874.55,851.784,1.57469,0,0,0,0,100,0),
(323840,110,3867.74,841.905,1.19773,0,0,0,0,100,0),
(323840,111,3851.13,838.355,0.993947,0,0,0,0,100,0),
(323840,112,3841.38,839.31,1.77021,0,0,0,0,100,0),
(323840,113,3824.76,840.936,0.965504,0,0,0,0,100,0),
(323840,114,3809.33,842.446,0.796721,0,0,0,0,100,0),
(323840,115,3794.92,843.802,1.03217,0,0,0,0,100,0),
(323840,116,3781.46,845.069,0.967946,0,0,0,0,100,0),
(323840,117,3770.63,851.672,0.967075,0,0,0,0,100,0),
(323840,118,3763.4,859.284,1.35197,0,0,0,0,100,0),
(323840,119,3759.56,863.324,0.99252,0,0,0,0,100,0),
(323840,120,3750.8,875.982,0.497541,0,0,0,0,100,0),
(323840,121,3739.67,892.069,0.73476,0,0,0,0,100,0),
(323840,122,3734.29,901.764,0.96527,0,0,0,0,100,0),
(323840,123,3729.48,910.431,0.96781,0,0,0,0,100,0),
(323840,124,3716.26,916.782,1.25324,0,0,0,0,100,0),
(323840,125,3705.52,923.452,1.56637,0,0,0,0,100,0),
(323840,126,3691.92,937.489,3.37619,0,0,0,0,100,0),
(323840,127,3682.39,953.076,1.51719,0,0,0,0,100,0),
(323840,128,3675.43,967.51,2.46863,0,0,0,0,100,0),
(323840,129,3676.2,974.925,1.90903,0,0,0,0,100,0),
(323840,130,3677.18,984.397,0.705175,0,0,0,0,100,0),
(323840,131,3678.73,975.324,1.3184,0,0,0,0,100,0),
(323840,132,3679.83,968.887,1.97692,0,0,0,0,100,0),
(323840,133,3681.66,958.21,1.62663,0,0,0,0,100,0),
(323840,134,3683.43,947.861,1.97309,0,0,0,0,100,0),
(323840,135,3694.01,937.996,3.38639,0,0,0,0,100,0),
(323840,136,3706.4,926.446,1.95054,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
