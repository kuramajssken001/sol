-- DB update 2020_12_02_07 -> 2020_12_02_08
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_02_07';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_02_07 2020_12_02_08 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606946930143798030'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606946930143798030');

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 15970;
UPDATE `creature_addon` SET `path_id` = 159700 WHERE `guid` = 15970;

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 14276;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 14276 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(14276,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Scargil - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 159700;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(159700,1,-1169.36,136.213,0.168924,0,0,0,0,100,0),
(159700,2,-1171.2,129.451,0.211044,0,0,0,0,100,0),
(159700,3,-1172.77,123.663,0.157823,0,0,0,0,100,0),
(159700,4,-1172.87,118.873,0.322706,0,0,0,0,100,0),
(159700,5,-1168.93,115.225,1.64411,0,0,0,0,100,0),
(159700,6,-1164.9,111.492,3.19687,0,0,0,0,100,0),
(159700,7,-1163.43,105.727,3.01808,0,0,0,0,100,0),
(159700,8,-1161.46,98.0434,2.32047,0,0,0,0,100,0),
(159700,9,-1159.58,90.6803,1.9422,0,0,0,0,100,0),
(159700,10,-1157.51,81.1005,1.49421,0,0,0,0,100,0),
(159700,11,-1155.72,72.773,1.03862,0,0,0,0,100,0),
(159700,12,-1153.75,63.6649,0.585729,0,0,0,0,100,0),
(159700,13,-1152.25,56.6911,0.424014,0,0,0,0,100,0),
(159700,14,-1152.07,48.2931,0.0821778,0,0,0,0,100,0),
(159700,15,-1151.88,39.6642,-0.106432,0,0,0,0,100,0),
(159700,16,-1151.73,33.0373,-0.172392,0,0,0,0,100,0),
(159700,17,-1151.54,25.7588,-0.148231,0,0,0,0,100,0),
(159700,18,-1151.35,18.4113,-0.0623985,0,0,0,0,100,0),
(159700,19,-1151.24,14.382,-0.125738,0,0,0,0,100,0),
(159700,20,-1147.99,7.65697,0.0628728,0,0,0,0,100,0),
(159700,21,-1144.4,0.226702,-0.029557,0,0,0,0,100,0),
(159700,22,-1139.42,-5.0115,0.0221391,0,0,0,0,100,0),
(159700,23,-1133.86,-10.8596,-0.189161,0,0,0,0,100,0),
(159700,24,-1125.37,-11.5029,0.245783,0,0,0,0,100,0),
(159700,25,-1115.01,-12.2879,0.464196,0,0,0,0,100,0),
(159700,26,-1104.63,-13.0749,0.554654,0,0,0,0,100,0),
(159700,27,-1097,-14.2362,0.596569,0,0,0,0,100,0),
(159700,28,-1089.38,-15.3941,0.786664,0,0,0,0,100,0),
(159700,29,-1081.96,-16.5233,1.19604,0,0,0,0,100,0),
(159700,30,-1077.78,-24.2089,0.753032,0,0,0,0,100,0),
(159700,31,-1073.98,-31.1868,0.77585,0,0,0,0,100,0),
(159700,32,-1081.09,-31.2427,-0.174012,0,0,0,0,100,0),
(159700,33,-1089.35,-31.3077,-1.07762,0,0,0,0,100,0),
(159700,34,-1097.45,-28.4567,-1.39829,0,0,0,0,100,0),
(159700,35,-1106.21,-25.3716,-1.39829,0,0,0,0,100,0),
(159700,36,-1115.1,-22.2406,-1.09916,0,0,0,0,100,0),
(159700,37,-1122.51,-17.5793,-0.551497,0,0,0,0,100,0),
(159700,38,-1130.99,-12.2355,-0.173589,0,0,0,0,100,0),
(159700,39,-1138.02,-7.81281,-0.156224,0,0,0,0,100,0),
(159700,40,-1142.05,-1.80807,0.069291,0,0,0,0,100,0),
(159700,41,-1146.34,4.58614,0.0838367,0,0,0,0,100,0),
(159700,42,-1150.51,10.8034,-0.153825,0,0,0,0,100,0),
(159700,43,-1152.16,17.9648,-0.253168,0,0,0,0,100,0),
(159700,44,-1154.11,26.389,-0.769621,0,0,0,0,100,0),
(159700,45,-1154.25,35.1378,-0.800345,0,0,0,0,100,0),
(159700,46,-1154.4,43.8916,-0.679069,0,0,0,0,100,0),
(159700,47,-1154.55,53.1024,-0.338431,0,0,0,0,100,0),
(159700,48,-1154.65,59.4016,0.0476118,0,0,0,0,100,0),
(159700,49,-1154.74,64.912,0.486252,0,0,0,0,100,0),
(159700,50,-1153.69,72.3028,1.4014,0,0,0,0,100,0),
(159700,51,-1152,84.1983,2.83026,0,0,0,0,100,0),
(159700,52,-1150.34,95.8842,3.87744,0,0,0,0,100,0),
(159700,53,-1146.54,103.644,4.81806,0,0,0,0,100,0),
(159700,54,-1143.77,109.315,7.45656,0,0,0,0,100,0),
(159700,55,-1144.41,112.99,8.32872,0,0,0,0,100,0),
(159700,56,-1144.98,116.21,8.15006,0,0,0,0,100,0),
(159700,57,-1145.94,121.726,6.50716,0,0,0,0,100,0),
(159700,58,-1146.89,127.139,5.36332,0,0,0,0,100,0),
(159700,59,-1150.37,132.936,4.62581,0,0,0,0,100,0),
(159700,60,-1154.82,140.341,3.36178,0,0,0,0,100,0),
(159700,61,-1159.03,147.344,1.83304,0,0,0,0,100,0),
(159700,62,-1163.18,154.262,0.071613,0,0,0,0,100,0),
(159700,63,-1160.19,162.239,-0.0208528,0,0,0,0,100,0),
(159700,64,-1157.37,169.778,-0.0836535,0,0,0,0,100,0),
(159700,65,-1154.13,178.404,-0.0290814,0,0,0,0,100,0),
(159700,66,-1151.92,184.312,0.078821,0,0,0,0,100,0),
(159700,67,-1147.45,193.157,0.557286,0,0,0,0,100,0),
(159700,68,-1142.81,202.32,0.780815,0,0,0,0,100,0),
(159700,69,-1138.85,210.151,0.64674,0,0,0,0,100,0),
(159700,70,-1132.77,216.918,1.18559,0,0,0,0,100,0),
(159700,71,-1126.6,223.773,1.84389,0,0,0,0,100,0),
(159700,72,-1120.27,230.815,2.71415,0,0,0,0,100,0),
(159700,73,-1115.32,238.45,3.04613,0,0,0,0,100,0),
(159700,74,-1110.3,246.185,3.37791,0,0,0,0,100,0),
(159700,75,-1106.2,252.508,3.59859,0,0,0,0,100,0),
(159700,76,-1103.25,257.063,3.6444,0,0,0,0,100,0),
(159700,77,-1099.35,261.4,3.69458,0,0,0,0,100,0),
(159700,78,-1094.29,267.039,3.34351,0,0,0,0,100,0),
(159700,79,-1088.66,273.3,2.29494,0,0,0,0,100,0),
(159700,80,-1081.47,272.528,2.3378,0,0,0,0,100,0),
(159700,81,-1074.05,271.73,2.25912,0,0,0,0,100,0),
(159700,82,-1067.18,270.992,2.63842,0,0,0,0,100,0),
(159700,83,-1059.18,272.673,2.18644,0,0,0,0,100,0),
(159700,84,-1050.5,274.497,1.54599,0,0,0,0,100,0),
(159700,85,-1041.71,276.343,0.999809,0,0,0,0,100,0),
(159700,86,-1033.01,278.171,0.676006,0,0,0,0,100,0),
(159700,87,-1025.12,278.99,0.874588,0,0,0,0,100,0),
(159700,88,-1017,279.833,1.17952,0,0,0,0,100,0),
(159700,89,-1007.7,280.798,1.6107,0,0,0,0,100,0),
(159700,90,-1002.3,286.767,0.782962,0,0,0,0,100,0),
(159700,91,-995.879,293.863,0.581083,0,0,0,0,100,0),
(159700,92,-989.369,301.059,0.846009,0,0,0,0,100,0),
(159700,93,-986.927,308.487,0.193441,0,0,0,0,100,0),
(159700,94,-984.451,316.021,-0.406156,0,0,0,0,100,0),
(159700,95,-981.966,323.582,-1.07191,0,0,0,0,100,0),
(159700,96,-975.038,334.123,-1.3281,0,0,0,0,100,0),
(159700,97,-968.857,334.083,0.56177,0,0,0,0,100,0),
(159700,98,-963.251,334.046,2.5684,0,0,0,0,100,0),
(159700,99,-961.648,327.953,4.7371,0,0,0,0,100,0),
(159700,100,-960.338,322.978,6.63507,0,0,0,0,100,0),
(159700,101,-964.101,316.526,6.48015,0,0,0,0,100,0),
(159700,102,-967.984,309.869,5.90922,0,0,0,0,100,0),
(159700,103,-975.41,307.065,3.73213,0,0,0,0,100,0),
(159700,104,-984.251,303.727,1.74575,0,0,0,0,100,0),
(159700,105,-992.889,300.466,0.063592,0,0,0,0,100,0),
(159700,106,-1001.32,295.672,-0.992195,0,0,0,0,100,0),
(159700,107,-1009.43,291.063,-1.3482,0,0,0,0,100,0),
(159700,108,-1016.09,289.328,-1.40094,0,0,0,0,100,0),
(159700,109,-1024,287.264,-1.40094,0,0,0,0,100,0),
(159700,110,-1032.87,284.953,-1.52593,0,0,0,0,100,0),
(159700,111,-1041.27,282.824,-1.24197,0,0,0,0,100,0),
(159700,112,-1049.37,280.662,-0.629822,0,0,0,0,100,0),
(159700,113,-1057.76,281.159,-0.814796,0,0,0,0,100,0),
(159700,114,-1068.71,281.807,-1.0524,0,0,0,0,100,0),
(159700,115,-1078.16,282.367,-0.724659,0,0,0,0,100,0),
(159700,116,-1085.7,284.45,-0.864142,0,0,0,0,100,0),
(159700,117,-1095.26,287.094,-1.10337,0,0,0,0,100,0),
(159700,118,-1100.56,285.298,-0.449876,0,0,0,0,100,0),
(159700,119,-1105.95,283.475,-0.136028,0,0,0,0,100,0),
(159700,120,-1111.17,280.621,0.0136277,0,0,0,0,100,0),
(159700,121,-1117.02,277.427,-0.169369,0,0,0,0,100,0),
(159700,122,-1119.51,266.867,0.45053,0,0,0,0,100,0),
(159700,123,-1121.42,258.795,0.527346,0,0,0,0,100,0),
(159700,124,-1124.34,251.67,0.141916,0,0,0,0,100,0),
(159700,125,-1127.61,243.683,-0.370812,0,0,0,0,100,0),
(159700,126,-1130.18,237.408,-0.735995,0,0,0,0,100,0),
(159700,127,-1133.54,229.202,-1.02967,0,0,0,0,100,0),
(159700,128,-1137,220.782,-0.937329,0,0,0,0,100,0),
(159700,129,-1139.7,214.199,-0.447693,0,0,0,0,100,0),
(159700,130,-1142.05,208.455,-0.004859,0,0,0,0,100,0),
(159700,131,-1145.19,200.793,0.292941,0,0,0,0,100,0),
(159700,132,-1148.91,191.725,0.280757,0,0,0,0,100,0),
(159700,133,-1152.85,182.114,0.00538289,0,0,0,0,100,0),
(159700,134,-1155.78,174.963,-0.17143,0,0,0,0,100,0),
(159700,135,-1158.38,167.588,-0.131506,0,0,0,0,100,0),
(159700,136,-1160.94,160.326,-0.00863214,0,0,0,0,100,0),
(159700,137,-1163.85,152.053,0.127761,0,0,0,0,100,0),
(159700,138,-1167.07,142.797,0.187861,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
