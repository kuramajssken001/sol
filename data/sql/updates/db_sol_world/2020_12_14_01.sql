-- DB update 2020_12_14_00 -> 2020_12_14_01
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_14_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_14_00 2020_12_14_01 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607930256626024978'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607930256626024978');

DELETE FROM `smart_scripts` WHERE `entryorguid` = 14473 AND `source_type` = 0 AND `id` = 1;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(14473,0,1,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Lapress - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 431200;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(431200,1,-7803.76,515.706,-38.3517,0,0,0,0,100,0),
(431200,2,-7811.76,510.252,-37.6813,0,0,0,0,100,0),
(431200,3,-7826.51,500.199,-36.8234,0,0,0,0,100,0),
(431200,4,-7836.16,493.625,-35.2661,0,0,0,0,100,0),
(431200,5,-7845.57,482.635,-34.684,0,0,0,0,100,0),
(431200,6,-7853.41,473.48,-33.6597,0,0,0,0,100,0),
(431200,7,-7860.48,464.788,-32.7318,0,0,0,0,100,0),
(431200,8,-7866.37,457.551,-32.8871,0,0,0,0,100,0),
(431200,9,-7874.33,447.779,-33.5564,0,0,0,0,100,0),
(431200,10,-7883.19,436.89,-32.8373,0,0,0,0,100,0),
(431200,11,-7889.1,433.644,-32.2821,0,0,0,0,100,0),
(431200,12,-7902.39,426.345,-32.1465,0,0,0,0,100,0),
(431200,13,-7914.92,423.089,-30.3042,0,0,0,0,100,0),
(431200,14,-7924.6,420.575,-30.1764,0,0,0,0,100,0),
(431200,15,-7935.67,417.699,-30.5425,0,0,0,0,100,0),
(431200,16,-7947.24,420.505,-31.273,0,0,0,0,100,0),
(431200,17,-7962.83,424.286,-31.6058,0,0,0,0,100,0),
(431200,18,-7970.65,429.379,-31.1599,0,0,0,0,100,0),
(431200,19,-7977.39,433.774,-30.595,0,0,0,0,100,0),
(431200,20,-7985.03,438.75,-30.1735,0,0,0,0,100,0),
(431200,21,-7990.21,447.782,-30.206,0,0,0,0,100,0),
(431200,22,-7990.67,458.651,-30.2729,0,0,0,0,100,0),
(431200,23,-7985.98,466.181,-29.5519,0,0,0,0,100,0),
(431200,24,-7981.75,472.983,-28.8862,0,0,0,0,100,0),
(431200,25,-7980.09,479.538,-28.7728,0,0,0,0,100,0),
(431200,26,-7978.36,486.361,-27.4351,0,0,0,0,100,0),
(431200,27,-7976.82,500.483,-29.771,0,0,0,0,100,0),
(431200,28,-7969.69,514.711,-29.5641,0,0,0,0,100,0),
(431200,29,-7956.18,519.754,-29.4936,0,0,0,0,100,0),
(431200,30,-7947.12,518.579,-28.2687,0,0,0,0,100,0),
(431200,31,-7937.22,515.832,-27.752,0,0,0,0,100,0),
(431200,32,-7926.89,512.964,-30.5829,0,0,0,0,100,0),
(431200,33,-7906.53,511.238,-31.4423,0,0,0,0,100,0),
(431200,34,-7898.84,512.199,-30.6103,0,0,0,0,100,0),
(431200,35,-7885.87,513.818,-32.6041,0,0,0,0,100,0),
(431200,36,-7865.16,522.834,-35.135,0,0,0,0,100,0),
(431200,37,-7849.04,530.228,-34.9945,0,0,0,0,100,0),
(431200,38,-7835.43,536.469,-35.2565,0,0,0,0,100,0),
(431200,39,-7825.36,534.53,-35.7218,0,0,0,0,100,0),
(431200,40,-7811.89,531.936,-37.694,0,0,0,0,100,0),
(431200,41,-7804.09,527.318,-38.6701,0,0,0,0,100,0),
(431200,42,-7793.25,520.898,-38.5286,0,0,0,0,100,0),
(431200,43,-7787.8,517.67,-39.175,0,0,0,0,100,0),
(431200,44,-7758.23,498.947,-43.8957,0,0,0,0,100,0),
(431200,45,-7740.9,487.13,-44.2471,0,0,0,0,100,0),
(431200,46,-7724.68,473.798,-43.3483,0,0,0,0,100,0),
(431200,47,-7717.85,469.907,-42.1725,0,0,0,0,100,0),
(431200,48,-7711.1,466.066,-42.1628,0,0,0,0,100,0),
(431200,49,-7693.69,462.775,-41.9354,0,0,0,0,100,0),
(431200,50,-7685.66,464.278,-42.041,0,0,0,0,100,0),
(431200,51,-7679.48,465.435,-42.7258,0,0,0,0,100,0),
(431200,52,-7671.34,477.137,-43.9373,0,0,0,0,100,0),
(431200,53,-7670.16,492.271,-43.5576,0,0,0,0,100,0),
(431200,54,-7676.01,503.307,-42.5046,0,0,0,0,100,0),
(431200,55,-7687.91,517.064,-42.9588,0,0,0,0,100,0),
(431200,56,-7696.12,520.995,-42.3911,0,0,0,0,100,0),
(431200,57,-7706.18,525.816,-43.9323,0,0,0,0,100,0),
(431200,58,-7718.32,525.054,-43.5419,0,0,0,0,100,0),
(431200,59,-7726,522.629,-43.1447,0,0,0,0,100,0),
(431200,60,-7741.91,517.602,-42.8934,0,0,0,0,100,0),
(431200,61,-7751.66,514.521,-43.4128,0,0,0,0,100,0),
(431200,62,-7764.43,507.676,-42.3503,0,0,0,0,100,0),
(431200,63,-7778.55,507.992,-41.381,0,0,0,0,100,0),
(431200,64,-7787.61,510.766,-40.1235,0,0,0,0,100,0),
(431200,65,-7796.41,513.457,-38.8782,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
