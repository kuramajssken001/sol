-- DB update 2020_11_28_00 -> 2020_11_28_01
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_11_28_00';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_11_28_00 2020_11_28_01 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606602644485131443'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606602644485131443');

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 37432;
UPDATE `creature_addon` SET `path_id` = 374320 WHERE `guid` = 37432;

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 2175;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 2175 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(2175,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Shadowclaw - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 374320;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(374320,1,6559.83,310.877,31.216,0,0,0,0,100,0),
(374320,2,6561.89,320.477,30.9214,0,0,0,0,100,0),
(374320,3,6564.42,323.215,30.9919,0,0,0,0,100,0),
(374320,4,6568.24,327.336,32.3687,0,0,0,0,100,0),
(374320,5,6569.35,333.054,32.6953,0,0,0,0,100,0),
(374320,6,6570.53,339.091,32.3075,0,0,0,0,100,0),
(374320,7,6571.38,346.632,31.5765,0,0,0,0,100,0),
(374320,8,6572.16,353.61,31.2842,0,0,0,0,100,0),
(374320,9,6577.32,360.678,31.1304,0,0,0,0,100,0),
(374320,10,6582.27,367.457,31.1272,0,0,0,0,100,0),
(374320,11,6587.77,374.994,31.1294,0,0,0,0,100,0),
(374320,12,6593.72,383.151,31.5727,0,0,0,0,100,0),
(374320,13,6596.57,390.357,30.873,0,0,0,0,100,0),
(374320,14,6599.04,396.587,30.7275,0,0,0,0,100,0),
(374320,15,6600.4,405.591,30.323,0,0,0,0,100,0),
(374320,16,6601.64,413.779,31.0356,0,0,0,0,100,0),
(374320,17,6602.39,418.766,31.1657,0,0,0,0,100,0),
(374320,18,6606.32,423.51,31.1574,0,0,0,0,100,0),
(374320,19,6616.12,424.975,31.0009,0,0,0,0,100,0),
(374320,20,6623.27,422.875,30.4513,0,0,0,0,100,0),
(374320,21,6629.99,420.903,29.7757,0,0,0,0,100,0),
(374320,22,6636.38,419.027,29.0109,0,0,0,0,100,0),
(374320,23,6644,415.488,28.1727,0,0,0,0,100,0),
(374320,24,6651.41,412.046,27.2589,0,0,0,0,100,0),
(374320,25,6657.03,409.434,26.5562,0,0,0,0,100,0),
(374320,26,6663.44,409.713,26.0139,0,0,0,0,100,0),
(374320,27,6669.86,409.993,25.8062,0,0,0,0,100,0),
(374320,28,6675.92,410.257,25.5474,0,0,0,0,100,0),
(374320,29,6682.36,408.188,24.9428,0,0,0,0,100,0),
(374320,30,6688.8,406.121,24.8609,0,0,0,0,100,0),
(374320,31,6695.2,404.067,24.8281,0,0,0,0,100,0),
(374320,32,6695.35,397.538,25.2873,0,0,0,0,100,0),
(374320,33,6695.48,391.239,25.4663,0,0,0,0,100,0),
(374320,34,6695.68,382.26,25.2419,0,0,0,0,100,0),
(374320,35,6695.88,373.394,25.1366,0,0,0,0,100,0),
(374320,36,6694.15,366.454,24.9989,0,0,0,0,100,0),
(374320,37,6693.16,362.508,24.8931,0,0,0,0,100,0),
(374320,38,6691.44,355.6,25.8596,0,0,0,0,100,0),
(374320,39,6689.89,349.379,26.4004,0,0,0,0,100,0),
(374320,40,6690.36,340.293,26.9534,0,0,0,0,100,0),
(374320,41,6690.85,330.628,27.6254,0,0,0,0,100,0),
(374320,42,6691.2,323.849,28.1595,0,0,0,0,100,0),
(374320,43,6686.39,318.91,28.895,0,0,0,0,100,0),
(374320,44,6681.62,314.014,29.6691,0,0,0,0,100,0),
(374320,45,6678.95,306.783,30.1997,0,0,0,0,100,0),
(374320,46,6675.64,297.815,30.5944,0,0,0,0,100,0),
(374320,47,6672.86,290.262,30.8067,0,0,0,0,100,0),
(374320,48,6670.23,283.143,30.7238,0,0,0,0,100,0),
(374320,49,6667.47,275.655,30.2672,0,0,0,0,100,0),
(374320,50,6667.83,266.793,29.521,0,0,0,0,100,0),
(374320,51,6668.21,257.232,28.8417,0,0,0,0,100,0),
(374320,52,6668.59,247.85,28.5043,0,0,0,0,100,0),
(374320,53,6672.3,239.664,28.1532,0,0,0,0,100,0),
(374320,54,6676.17,231.133,27.7114,0,0,0,0,100,0),
(374320,55,6682.46,231.412,27.8034,0,0,0,0,100,0),
(374320,56,6689.02,231.703,27.7665,0,0,0,0,100,0),
(374320,57,6696.37,236.88,27.6913,0,0,0,0,100,0),
(374320,58,6702.46,241.172,26.8066,0,0,0,0,100,0),
(374320,59,6708.38,240.805,25.2038,0,0,0,0,100,0),
(374320,60,6713.39,240.495,24.671,0,0,0,0,100,0),
(374320,61,6720.14,240.076,24.8572,0,0,0,0,100,0),
(374320,62,6726.36,239.691,25.1609,0,0,0,0,100,0),
(374320,63,6731.23,244.731,24.9466,0,0,0,0,100,0),
(374320,64,6737.15,250.859,24.5337,0,0,0,0,100,0),
(374320,65,6742.63,256.537,23.7735,0,0,0,0,100,0),
(374320,66,6747.82,261.915,22.6058,0,0,0,0,100,0),
(374320,67,6753.21,267.495,21.4772,0,0,0,0,100,0),
(374320,68,6754.61,274.003,21.0044,0,0,0,0,100,0),
(374320,69,6756.23,281.507,21.4288,0,0,0,0,100,0),
(374320,70,6760.48,287.08,22.3705,0,0,0,0,100,0),
(374320,71,6764.58,292.463,22.9999,0,0,0,0,100,0),
(374320,72,6770.37,295.742,22.974,0,0,0,0,100,0),
(374320,73,6779.09,300.688,22.6718,0,0,0,0,100,0),
(374320,74,6787.86,305.657,22.1223,0,0,0,0,100,0),
(374320,75,6792.89,310.691,21.7084,0,0,0,0,100,0),
(374320,76,6799.82,317.621,20.8073,0,0,0,0,100,0),
(374320,77,6806,323.797,19.734,0,0,0,0,100,0),
(374320,78,6805.34,330.182,20.008,0,0,0,0,100,0),
(374320,79,6804.64,336.963,20.647,0,0,0,0,100,0),
(374320,80,6802.1,343.487,21.254,0,0,0,0,100,0),
(374320,81,6799.09,351.21,21.5716,0,0,0,0,100,0),
(374320,82,6796.25,358.495,21.5258,0,0,0,0,100,0),
(374320,83,6793.74,364.937,21.6829,0,0,0,0,100,0),
(374320,84,6787.73,373.256,22.8077,0,0,0,0,100,0),
(374320,85,6782.48,380.527,23.073,0,0,0,0,100,0),
(374320,86,6773.6,386.333,23.692,0,0,0,0,100,0),
(374320,87,6766.45,391.01,23.8141,0,0,0,0,100,0),
(374320,88,6757.48,391.531,23.5118,0,0,0,0,100,0),
(374320,89,6746.77,392.153,22.8827,0,0,0,0,100,0),
(374320,90,6737.81,392.673,23.2805,0,0,0,0,100,0),
(374320,91,6732.74,386.271,24.4083,0,0,0,0,100,0),
(374320,92,6727.03,379.069,25.3047,0,0,0,0,100,0),
(374320,93,6723.54,370.312,25.0861,0,0,0,0,100,0),
(374320,94,6721.03,359.625,24.6189,0,0,0,0,100,0),
(374320,95,6715.28,363.829,24.8331,0,0,0,0,100,0),
(374320,96,6709.47,368.083,25.166,0,0,0,0,100,0),
(374320,97,6701.97,369.259,25.4132,0,0,0,0,100,0),
(374320,98,6694.07,370.5,25.0605,0,0,0,0,100,0),
(374320,99,6687.44,367.054,23.9367,0,0,0,0,100,0),
(374320,100,6680.05,363.219,22.9391,0,0,0,0,100,0),
(374320,101,6675.73,358.311,22.8524,0,0,0,0,100,0),
(374320,102,6670.57,352.44,23.761,0,0,0,0,100,0),
(374320,103,6664.17,345.165,25.448,0,0,0,0,100,0),
(374320,104,6659.83,340.231,27.4319,0,0,0,0,100,0),
(374320,105,6653.42,340.402,27.5224,0,0,0,0,100,0),
(374320,106,6644.68,340.635,27.4117,0,0,0,0,100,0),
(374320,107,6635.55,340.878,27.8198,0,0,0,0,100,0),
(374320,108,6625.53,341.471,28.11,0,0,0,0,100,0),
(374320,109,6616.48,342.006,28.6154,0,0,0,0,100,0),
(374320,110,6612.8,336.749,29.1186,0,0,0,0,100,0),
(374320,111,6608.98,331.303,28.995,0,0,0,0,100,0),
(374320,112,6604.69,325.187,28.9155,0,0,0,0,100,0),
(374320,113,6600.46,319.145,28.7719,0,0,0,0,100,0),
(374320,114,6593.58,313.918,28.4612,0,0,0,0,100,0),
(374320,115,6587.54,309.326,29.0843,0,0,0,0,100,0),
(374320,116,6581,306.51,30.0838,0,0,0,0,100,0),
(374320,117,6574.89,303.877,30.9953,0,0,0,0,100,0),
(374320,118,6566.88,300.239,31.3335,0,0,0,0,100,0),
(374320,119,6563.35,305.564,31.1765,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
