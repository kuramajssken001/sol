-- DB update 2020_12_01_01 -> 2020_12_01_02
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_01_01';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_01_01 2020_12_01_02 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1606823409666526024'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1606823409666526024');

UPDATE `creature` SET `position_x` = -1201.63, `position_y` = -3099.24, `position_z` = 94.8781, `MovementType` = 2 WHERE `guid` = 20720;
UPDATE `creature_addon` SET `path_id` = 207200 WHERE `guid` = 20720;

DELETE FROM `smart_scripts` WHERE `entryorguid` = 5841 AND `source_type` = 0 AND `id` = 3;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(5841,0,3,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Rocklance - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 207200;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(207200,1,-1201.63,-3099.24,94.8781,0,0,0,0,100,0),
(207200,2,-1209.57,-3099.47,95.4348,0,0,0,0,100,0),
(207200,3,-1219.21,-3099.76,95.241,0,0,0,0,100,0),
(207200,4,-1227.23,-3098.23,94.8546,0,0,0,0,100,0),
(207200,5,-1236.62,-3096.43,94.0404,0,0,0,0,100,0),
(207200,6,-1246.13,-3094.62,93.009,0,0,0,0,100,0),
(207200,7,-1254.15,-3093.08,92.7103,0,0,0,0,100,0),
(207200,8,-1263.21,-3091.35,93.0576,0,0,0,0,100,0),
(207200,9,-1272.76,-3089.53,93.8928,0,0,0,0,100,0),
(207200,10,-1280.12,-3092.48,94.5182,0,0,0,0,100,0),
(207200,11,-1286.84,-3095.18,94.6626,0,0,0,0,100,0),
(207200,12,-1295.18,-3098.52,94.1341,0,0,0,0,100,0),
(207200,13,-1303.74,-3101.95,93.1447,0,0,0,0,100,0),
(207200,14,-1315.08,-3106.5,91.7995,0,0,0,0,100,0),
(207200,15,-1322.3,-3101.36,91.9482,0,0,0,0,100,0),
(207200,16,-1330.48,-3095.55,92.4438,0,0,0,0,100,0),
(207200,17,-1332.86,-3087.99,93.2697,0,0,0,0,100,0),
(207200,18,-1335.39,-3079.98,93.4157,0,0,0,0,100,0),
(207200,19,-1338.12,-3071.3,92.78,0,0,0,0,100,0),
(207200,20,-1341.49,-3060.61,92.6899,0,0,0,0,100,0),
(207200,21,-1344.33,-3053.95,92.5597,0,0,0,0,100,0),
(207200,22,-1348.1,-3045.08,92.3528,0,0,0,0,100,0),
(207200,23,-1351.4,-3037.35,93.0286,0,0,0,0,100,0),
(207200,24,-1354.4,-3030.3,93.3309,0,0,0,0,100,0),
(207200,25,-1360.79,-3025.41,93.8145,0,0,0,0,100,0),
(207200,26,-1366.8,-3020.8,93.9171,0,0,0,0,100,0),
(207200,27,-1372.64,-3016.33,93.712,0,0,0,0,100,0),
(207200,28,-1379.13,-3011.36,93.6826,0,0,0,0,100,0),
(207200,29,-1386.31,-3005.86,93.1475,0,0,0,0,100,0),
(207200,30,-1394.62,-2999.84,92.5792,0,0,0,0,100,0),
(207200,31,-1402.65,-2994.03,93.4134,0,0,0,0,100,0),
(207200,32,-1410.49,-2988.35,93.9009,0,0,0,0,100,0),
(207200,33,-1420.22,-2981.3,93.1107,0,0,0,0,100,0),
(207200,34,-1430.19,-2974.08,93.1218,0,0,0,0,100,0),
(207200,35,-1431.88,-2965.85,92.1936,0,0,0,0,100,0),
(207200,36,-1434.16,-2954.77,91.6736,0,0,0,0,100,0),
(207200,37,-1436.49,-2943.46,91.668,0,0,0,0,100,0),
(207200,38,-1436.58,-2935.3,91.6675,0,0,0,0,100,0),
(207200,39,-1436.67,-2927.6,91.8253,0,0,0,0,100,0),
(207200,40,-1436.75,-2920.35,92.5429,0,0,0,0,100,0),
(207200,41,-1431.15,-2914.73,93.2119,0,0,0,0,100,0),
(207200,42,-1425.06,-2908.61,93.5017,0,0,0,0,100,0),
(207200,43,-1417.73,-2901.25,93.2178,0,0,0,0,100,0),
(207200,44,-1410.03,-2893.52,93.1282,0,0,0,0,100,0),
(207200,45,-1404.41,-2886.52,93.3619,0,0,0,0,100,0),
(207200,46,-1398.63,-2879.33,93.2339,0,0,0,0,100,0),
(207200,47,-1393.52,-2872.96,93.5687,0,0,0,0,100,0),
(207200,48,-1388.5,-2866.72,94.5754,0,0,0,0,100,0),
(207200,49,-1382,-2863.05,94.302,0,0,0,0,100,0),
(207200,50,-1374.48,-2858.81,93.413,0,0,0,0,100,0),
(207200,51,-1367.16,-2854.68,93.9346,0,0,0,0,100,0),
(207200,52,-1360.27,-2850.79,94.705,0,0,0,0,100,0),
(207200,53,-1353.15,-2852.6,94.19,0,0,0,0,100,0),
(207200,54,-1342.74,-2855.24,93.4053,0,0,0,0,100,0),
(207200,55,-1332.8,-2857.77,93.5965,0,0,0,0,100,0),
(207200,56,-1324.95,-2860,93.0688,0,0,0,0,100,0),
(207200,57,-1318.43,-2861.84,93.0985,0,0,0,0,100,0),
(207200,58,-1309.56,-2864.35,93.6894,0,0,0,0,100,0),
(207200,59,-1299.69,-2867.15,93.4552,0,0,0,0,100,0),
(207200,60,-1288.33,-2870.37,93.0108,0,0,0,0,100,0),
(207200,61,-1282.2,-2865.15,92.8928,0,0,0,0,100,0),
(207200,62,-1273.5,-2857.75,93.5887,0,0,0,0,100,0),
(207200,63,-1265.32,-2850.79,94.069,0,0,0,0,100,0),
(207200,64,-1259.35,-2846.91,93.8399,0,0,0,0,100,0),
(207200,65,-1251.92,-2842.07,93.6583,0,0,0,0,100,0),
(207200,66,-1245.46,-2837.88,94.0946,0,0,0,0,100,0),
(207200,67,-1239.87,-2834.24,94.41,0,0,0,0,100,0),
(207200,68,-1229.49,-2834.14,94.1835,0,0,0,0,100,0),
(207200,69,-1219.09,-2834.03,93.9937,0,0,0,0,100,0),
(207200,70,-1214.26,-2840.18,93.9342,0,0,0,0,100,0),
(207200,71,-1208.93,-2846.97,93.8999,0,0,0,0,100,0),
(207200,72,-1202.38,-2855.32,93.4499,0,0,0,0,100,0),
(207200,73,-1194.71,-2865.09,93.5771,0,0,0,0,100,0),
(207200,74,-1188.44,-2870.5,92.9712,0,0,0,0,100,0),
(207200,75,-1182.78,-2875.37,93.2021,0,0,0,0,100,0),
(207200,76,-1176.69,-2880.62,93.9245,0,0,0,0,100,0),
(207200,77,-1170.2,-2886.21,94.3522,0,0,0,0,100,0),
(207200,78,-1166.35,-2892.6,94.4411,0,0,0,0,100,0),
(207200,79,-1162.02,-2899.8,93.8616,0,0,0,0,100,0),
(207200,80,-1158.11,-2906.29,92.9686,0,0,0,0,100,0),
(207200,81,-1151.91,-2916.58,93.3871,0,0,0,0,100,0),
(207200,82,-1146.43,-2925.68,93.1956,0,0,0,0,100,0),
(207200,83,-1141.98,-2931.82,93.076,0,0,0,0,100,0),
(207200,84,-1136.43,-2939.48,93.3486,0,0,0,0,100,0),
(207200,85,-1129.85,-2948.55,93.4261,0,0,0,0,100,0),
(207200,86,-1123.47,-2957.35,92.8819,0,0,0,0,100,0),
(207200,87,-1119,-2961.79,92.6599,0,0,0,0,100,0),
(207200,88,-1114.24,-2966.51,92.4826,0,0,0,0,100,0),
(207200,89,-1113.83,-2974.21,92.627,0,0,0,0,100,0),
(207200,90,-1113.37,-2982.71,93.0758,0,0,0,0,100,0),
(207200,91,-1112.93,-2990.86,93.5286,0,0,0,0,100,0),
(207200,92,-1112.5,-2998.9,93.5943,0,0,0,0,100,0),
(207200,93,-1111.95,-3009.04,94.2429,0,0,0,0,100,0),
(207200,94,-1111.46,-3018.12,94.8292,0,0,0,0,100,0),
(207200,95,-1109.28,-3024.65,94.8848,0,0,0,0,100,0),
(207200,96,-1106.73,-3032.28,94.5517,0,0,0,0,100,0),
(207200,97,-1104.18,-3039.92,93.8176,0,0,0,0,100,0),
(207200,98,-1101.72,-3047.27,93.4784,0,0,0,0,100,0),
(207200,99,-1106.46,-3052.26,93.5541,0,0,0,0,100,0),
(207200,100,-1112.01,-3058.09,93.1933,0,0,0,0,100,0),
(207200,101,-1117.8,-3064.17,92.3918,0,0,0,0,100,0),
(207200,102,-1123.65,-3070.33,91.8408,0,0,0,0,100,0),
(207200,103,-1130.51,-3072.21,92.0373,0,0,0,0,100,0),
(207200,104,-1137.93,-3074.25,92.296,0,0,0,0,100,0),
(207200,105,-1147.38,-3076.85,92.3126,0,0,0,0,100,0),
(207200,106,-1154.47,-3078.25,92.6529,0,0,0,0,100,0),
(207200,107,-1163.28,-3079.99,92.2607,0,0,0,0,100,0),
(207200,108,-1170.27,-3081.37,92.0479,0,0,0,0,100,0),
(207200,109,-1177.95,-3082.89,92.8266,0,0,0,0,100,0),
(207200,110,-1183.32,-3086.6,93.5966,0,0,0,0,100,0),
(207200,111,-1189.46,-3090.84,94.1303,0,0,0,0,100,0),
(207200,112,-1196.08,-3095.41,94.3783,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
