-- DB update 2020_12_10_12 -> 2020_12_11_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_10_12';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_10_12 2020_12_11_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1607642897043273789'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1607642897043273789');

DELETE FROM `smart_scripts` WHERE `entryorguid` = 10647 AND `source_type` = 0 AND `id` = 5;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(10647,0,5,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Prince Raze - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 329140;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(329140,1,2808.24,-3003.13,157.067,0,0,0,0,100,0),
(329140,2,2811.39,-2991.73,155.334,0,0,0,0,100,0),
(329140,3,2808.64,-2972.1,155.101,0,0,0,0,100,0),
(329140,4,2806.86,-2966.06,154.124,0,0,0,0,100,0),
(329140,5,2804.84,-2959.18,152.49,0,0,0,0,100,0),
(329140,6,2805.29,-2946.01,153.572,0,0,0,0,100,0),
(329140,7,2805.55,-2938.3,154.463,0,0,0,0,100,0),
(329140,8,2809.91,-2930.05,159.071,0,0,0,0,100,0),
(329140,9,2814.46,-2921.44,163.474,0,0,0,0,100,0),
(329140,10,2818.51,-2918.65,166.685,0,0,0,0,100,0),
(329140,11,2830.01,-2916.69,175.905,0,0,0,0,100,0),
(329140,12,2840.34,-2914.93,183.502,0,0,0,0,100,0),
(329140,13,2854.31,-2914.02,192.162,0,0,0,0,100,0),
(329140,14,2864.09,-2912.42,196.801,0,0,0,0,100,0),
(329140,15,2871.51,-2911.2,198.77,0,0,0,0,100,0),
(329140,16,2882.42,-2903.18,201.185,0,0,0,0,100,0),
(329140,17,2885.87,-2893.14,202.851,0,0,0,0,100,0),
(329140,18,2888.19,-2886.37,203.285,0,0,0,0,100,0),
(329140,19,2890.53,-2875.06,203.45,0,0,0,0,100,0),
(329140,20,2892.45,-2865.81,203.822,0,0,0,0,100,0),
(329140,21,2898.97,-2852.82,207.158,0,0,0,0,100,0),
(329140,22,2903.74,-2848.54,208.477,0,0,0,0,100,0),
(329140,23,2908.75,-2844.04,209.319,0,0,0,0,100,0),
(329140,24,2922.31,-2835.62,210.995,0,0,0,0,100,0),
(329140,25,2930.93,-2830.26,211.689,0,0,0,0,100,0),
(329140,26,2943.59,-2830.33,212.666,0,0,0,0,100,0),
(329140,27,2953.08,-2824.16,212.614,0,0,0,0,100,0),
(329140,28,2960.06,-2822.24,212.542,0,0,0,0,100,0),
(329140,29,2968.96,-2819.8,210.846,0,0,0,0,100,0),
(329140,30,2978.74,-2819.18,209.464,0,0,0,0,100,0),
(329140,31,2987.84,-2818.89,208.962,0,0,0,0,100,0),
(329140,32,3001.01,-2818.46,206.083,0,0,0,0,100,0),
(329140,33,3021.13,-2814.42,203.976,0,0,0,0,100,0),
(329140,35,3035.24,-2811.01,198.438,0,0,0,0,100,0),
(329140,36,3040,-2799.58,195.965,0,0,0,0,100,0),
(329140,37,3035.48,-2809.66,198.041,0,0,0,0,100,0),
(329140,38,3028.59,-2815.94,200.915,0,0,0,0,100,0),
(329140,39,3022.24,-2821.73,202.719,0,0,0,0,100,0),
(329140,40,3006.51,-2818.99,205.281,0,0,0,0,100,0),
(329140,41,2993.15,-2818.64,208.039,0,0,0,0,100,0),
(329140,42,2984.26,-2818.4,209.399,0,0,0,0,100,0),
(329140,43,2970.59,-2821.38,210.346,0,0,0,0,100,0),
(329140,44,2959.08,-2822.29,212.598,0,0,0,0,100,0),
(329140,45,2952.68,-2822.8,212.661,0,0,0,0,100,0),
(329140,46,2942.47,-2830.03,212.666,0,0,0,0,100,0),
(329140,47,2936.85,-2830.53,212.473,0,0,0,0,100,0),
(329140,48,2930.23,-2831.12,211.663,0,0,0,0,100,0),
(329140,49,2921.26,-2834.1,210.973,0,0,0,0,100,0),
(329140,50,2915.55,-2836,209.536,0,0,0,0,100,0),
(329140,51,2908.69,-2842.16,209.13,0,0,0,0,100,0),
(329140,52,2904.55,-2845.87,208.518,0,0,0,0,100,0),
(329140,53,2897.64,-2855.27,206.567,0,0,0,0,100,0),
(329140,54,2889.94,-2865.74,203.493,0,0,0,0,100,0),
(329140,55,2887.78,-2881.86,203.375,0,0,0,0,100,0),
(329140,56,2885.62,-2891.96,203.013,0,0,0,0,100,0),
(329140,57,2884.01,-2899.52,202.009,0,0,0,0,100,0),
(329140,58,2875.23,-2911.85,199.338,0,0,0,0,100,0),
(329140,59,2867.11,-2913.5,197.964,0,0,0,0,100,0),
(329140,60,2862.77,-2914.38,196.4,0,0,0,0,100,0),
(329140,61,2855.07,-2914.31,192.589,0,0,0,0,100,0),
(329140,62,2850.1,-2914.26,189.543,0,0,0,0,100,0),
(329140,63,2843.34,-2912.35,185.238,0,0,0,0,100,0),
(329140,64,2829.4,-2911.12,175.736,0,0,0,0,100,0),
(329140,65,2818.51,-2910.98,166.842,0,0,0,0,100,0),
(329140,66,2808.09,-2915.23,159.118,0,0,0,0,100,0),
(329140,67,2804.95,-2931.01,155.844,0,0,0,0,100,0),
(329140,68,2806.35,-2945.02,154.086,0,0,0,0,100,0),
(329140,69,2807.29,-2956.84,153.169,0,0,0,0,100,0),
(329140,70,2807.59,-2963.08,153.936,0,0,0,0,100,0),
(329140,71,2808.62,-2969.8,155.047,0,0,0,0,100,0),
(329140,72,2811.4,-2980.77,155.345,0,0,0,0,100,0),
(329140,73,2813.63,-2989.59,155.539,0,0,0,0,100,0),
(329140,74,2810.64,-2998.34,156.787,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
