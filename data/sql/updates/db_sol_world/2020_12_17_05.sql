-- DB update 2020_12_17_04 -> 2020_12_17_05
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_12_17_04';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_12_17_04 2020_12_17_05 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1608243379267177727'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1608243379267177727');

UPDATE `creature` SET `MovementType` = 2 WHERE `guid` = 31481;

UPDATE `creature_addon` SET `path_id` = 314810 WHERE `guid` = 31481;

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 14234;
DELETE FROM `smart_scripts` WHERE `entryorguid` = 14234 AND `source_type` = 0;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(14234,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Hayoc - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 314810;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(314810,1,-4233.95,-3706.17,67.5564,0,0,0,0,100,0),
(314810,2,-4239.89,-3706.91,69.6829,0,0,0,0,100,0),
(314810,3,-4249.05,-3709.61,67.9512,0,0,0,0,100,0),
(314810,4,-4255.16,-3707.32,72.2721,0,0,0,0,100,0),
(314810,5,-4256.28,-3702.92,74.4592,0,0,0,0,100,0),
(314810,6,-4256.42,-3695.01,74.2766,0,0,0,0,100,0),
(314810,7,-4258.38,-3683.8,74.3898,0,0,0,0,100,0),
(314810,8,-4267.49,-3677.8,76.5793,0,0,0,0,100,0),
(314810,9,-4276.59,-3673.32,78.7831,0,0,0,0,100,0),
(314810,10,-4270.47,-3675.93,78.1501,0,0,0,0,100,0),
(314810,11,-4266.39,-3677.67,75.9773,0,0,0,0,100,0),
(314810,12,-4262.31,-3679.41,73.4438,0,0,0,0,100,0),
(314810,13,-4259.68,-3684.88,74.5077,0,0,0,0,100,0),
(314810,14,-4257.14,-3691.86,74.4142,0,0,0,0,100,0),
(314810,15,-4254.88,-3700.05,73.3979,0,0,0,0,100,0),
(314810,16,-4252.51,-3704.07,72.9396,0,0,0,0,100,0),
(314810,17,-4246.34,-3708.03,68.5771,0,0,0,0,100,0),
(314810,18,-4240.74,-3706.42,69.9925,0,0,0,0,100,0),
(314810,19,-4236.16,-3705.51,68.6756,0,0,0,0,100,0),
(314810,20,-4229.54,-3705,64.0385,0,0,0,0,100,0),
(314810,21,-4223.03,-3705.57,60.5946,0,0,0,0,100,0),
(314810,22,-4219.1,-3708.51,59.5785,0,0,0,0,100,0),
(314810,23,-4215.97,-3715.16,58.8637,0,0,0,0,100,0),
(314810,24,-4212.36,-3724.26,54.6554,0,0,0,0,100,0),
(314810,25,-4208.74,-3731.95,55.3943,0,0,0,0,100,0),
(314810,26,-4204.86,-3737.05,60.3327,0,0,0,0,100,0),
(314810,27,-4201.05,-3739.72,65.1028,0,0,0,0,100,0),
(314810,28,-4199.32,-3745.4,68.3187,0,0,0,0,100,0),
(314810,29,-4197.45,-3751.54,70.9756,0,0,0,0,100,0),
(314810,30,-4195.13,-3759.13,71.7596,0,0,0,0,100,0),
(314810,31,-4187.99,-3760.32,71.9472,0,0,0,0,100,0),
(314810,32,-4180.61,-3759.32,72.1114,0,0,0,0,100,0),
(314810,33,-4170.93,-3756.67,67.6803,0,0,0,0,100,0),
(314810,34,-4165.14,-3756.57,68.4239,0,0,0,0,100,0),
(314810,35,-4161.17,-3761.96,67.2566,0,0,0,0,100,0),
(314810,36,-4158.51,-3767.54,64.965,0,0,0,0,100,0),
(314810,37,-4158.51,-3773.37,66.9206,0,0,0,0,100,0),
(314810,38,-4159.1,-3781.03,66.7481,0,0,0,0,100,0),
(314810,39,-4156.53,-3787.53,63.7226,0,0,0,0,100,0),
(314810,40,-4153.84,-3791.73,64.2794,0,0,0,0,100,0),
(314810,41,-4151.19,-3795.86,63.8229,0,0,0,0,100,0),
(314810,42,-4147.73,-3801.26,60.9809,0,0,0,0,100,0),
(314810,43,-4144.76,-3805.88,59.1575,0,0,0,0,100,0),
(314810,44,-4140.16,-3813.04,56.7949,0,0,0,0,100,0),
(314810,45,-4137.69,-3816.9,56.6651,0,0,0,0,100,0),
(314810,46,-4134.92,-3821.22,54.4749,0,0,0,0,100,0),
(314810,47,-4130.69,-3827.8,51.6052,0,0,0,0,100,0),
(314810,48,-4125.84,-3835.36,49.3723,0,0,0,0,100,0),
(314810,49,-4123.51,-3839,49.712,0,0,0,0,100,0),
(314810,50,-4120.55,-3843.61,52.8548,0,0,0,0,100,0),
(314810,51,-4117.65,-3848.13,56.7084,0,0,0,0,100,0),
(314810,52,-4120.65,-3853.98,60.534,0,0,0,0,100,0),
(314810,53,-4123.21,-3860.11,63.0988,0,0,0,0,100,0),
(314810,54,-4125.82,-3866.36,63.8978,0,0,0,0,100,0),
(314810,55,-4123.67,-3870.81,63.4679,0,0,0,0,100,0),
(314810,56,-4119.22,-3867.22,65.0648,0,0,0,0,100,0),
(314810,57,-4114.67,-3863.57,68.3022,0,0,0,0,100,0),
(314810,58,-4110.49,-3860.22,69.3857,0,0,0,0,100,0),
(314810,59,-4104.67,-3855.55,68.6147,0,0,0,0,100,0),
(314810,60,-4101.67,-3853.14,67.0118,0,0,0,0,100,0),
(314810,61,-4106.02,-3855.82,68.9227,0,0,0,0,100,0),
(314810,62,-4111.49,-3859.18,69.2765,0,0,0,0,100,0),
(314810,63,-4115.96,-3861.93,68.3113,0,0,0,0,100,0),
(314810,64,-4120.73,-3864.86,64.3396,0,0,0,0,100,0),
(314810,65,-4123.71,-3866.69,64.0628,0,0,0,0,100,0),
(314810,66,-4122.25,-3860.44,63.2445,0,0,0,0,100,0),
(314810,67,-4121.07,-3855.57,61.3798,0,0,0,0,100,0),
(314810,68,-4117.66,-3850.37,57.6141,0,0,0,0,100,0),
(314810,69,-4114.46,-3845.49,56.5534,0,0,0,0,100,0),
(314810,70,-4109.41,-3837.79,56.2924,0,0,0,0,100,0),
(314810,71,-4106.02,-3832.61,52.4077,0,0,0,0,100,0),
(314810,72,-4103.72,-3829.1,51.7808,0,0,0,0,100,0),
(314810,73,-4100.65,-3824.41,52.958,0,0,0,0,100,0),
(314810,74,-4101.59,-3819.49,54.1772,0,0,0,0,100,0),
(314810,75,-4102.84,-3812.95,53.9388,0,0,0,0,100,0),
(314810,76,-4105.11,-3820.26,54.4106,0,0,0,0,100,0),
(314810,77,-4106.8,-3825.84,55.2792,0,0,0,0,100,0),
(314810,78,-4107.71,-3833.52,53.8771,0,0,0,0,100,0),
(314810,79,-4112.24,-3835.66,56.3724,0,0,0,0,100,0),
(314810,80,-4115.73,-3836.53,55.3142,0,0,0,0,100,0),
(314810,81,-4123.12,-3837.71,49.7819,0,0,0,0,100,0),
(314810,82,-4128.67,-3832.2,50.3459,0,0,0,0,100,0),
(314810,83,-4133.07,-3827.85,51.7029,0,0,0,0,100,0),
(314810,84,-4135.23,-3824.12,53.1168,0,0,0,0,100,0),
(314810,85,-4138.32,-3818.76,56.461,0,0,0,0,100,0),
(314810,86,-4141.18,-3813.8,57.6387,0,0,0,0,100,0),
(314810,87,-4144.5,-3808.04,58.2735,0,0,0,0,100,0),
(314810,88,-4147.18,-3803.4,60.2941,0,0,0,0,100,0),
(314810,89,-4147.57,-3796.9,61.9513,0,0,0,0,100,0),
(314810,90,-4147.92,-3789.79,61.9841,0,0,0,0,100,0),
(314810,91,-4148.23,-3783.26,61.9093,0,0,0,0,100,0),
(314810,92,-4148.64,-3774.87,61.4864,0,0,0,0,100,0),
(314810,93,-4153.12,-3770.19,64.2385,0,0,0,0,100,0),
(314810,94,-4158.71,-3764.39,65.2305,0,0,0,0,100,0),
(314810,95,-4162.92,-3760.02,68.0099,0,0,0,0,100,0),
(314810,96,-4166.4,-3756.41,68.7149,0,0,0,0,100,0),
(314810,97,-4172.15,-3750.44,66.529,0,0,0,0,100,0),
(314810,98,-4179.11,-3743.22,62.8826,0,0,0,0,100,0),
(314810,99,-4183.64,-3738.51,64.6796,0,0,0,0,100,0),
(314810,100,-4193.43,-3736.33,65.1862,0,0,0,0,100,0),
(314810,101,-4198.9,-3735.11,63.6563,0,0,0,0,100,0),
(314810,102,-4203.23,-3734.15,59.783,0,0,0,0,100,0),
(314810,103,-4207.02,-3729.12,55.5344,0,0,0,0,100,0),
(314810,104,-4210.88,-3723.99,54.8003,0,0,0,0,100,0),
(314810,105,-4215.51,-3717.83,57.7354,0,0,0,0,100,0),
(314810,106,-4218.25,-3714.2,59.6276,0,0,0,0,100,0),
(314810,107,-4221.21,-3706.83,60.1823,0,0,0,0,100,0),
(314810,108,-4227.37,-3704.06,62.5741,0,0,0,0,100,0),
(314810,109,-4232.36,-3705.68,66.0666,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
