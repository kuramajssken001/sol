-- DB update 2021_12_17_01 -> 2021_12_22_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2021_12_17_01';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2021_12_17_01 2021_12_22_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1640195044907046903'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1640195044907046903');

DELETE FROM `creature_loot_template` WHERE `Item` = 4625 AND `Entry` IN (
1821,1836,2656,2715,2718,2726,2727,2728,2729,2731,2732,2734,2735,2736,2752,2791,
2829,2830,2831,2893,2944,5419,5420,5421,5422,5423,5424,5425,5426,5427,5428,5429,
5431,5432,5465,5472,5473,5474,5615,5616,5617,5618,5833,5839,5840,5844,5850,5852,
5853,5854,5855,5856,5857,5858,5860,5861,5862,5979,5981,5982,5984,5985,5988,5990,
5991,5992,5993,6004,6005,6006,6007,6008,6009,6010,6011,6144,6506,6516,6557,7033,
7040,7047,7086,7108,7668,7855,7856,8299,8337,8526,8566,8596,8600,8607,8637,8675,
8956,9136,9165,9167,9197,10317,10318,10399,10476,10814,11609,14123,14750,16141);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
