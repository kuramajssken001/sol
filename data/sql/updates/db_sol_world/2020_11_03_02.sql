-- DB update 2020_11_03_01 -> 2020_11_03_02
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2020_11_03_01';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2020_11_03_01 2020_11_03_02 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1604402801131463905'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1604402801131463905');

DELETE FROM `smart_scripts` WHERE `entryorguid` = 18259 AND `source_type` = 0 AND `id` = 2;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(18259,0,2,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Banthar - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` = 655290;
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
(655290,1,-2227.73,7961.45,-22.3487,0,0,0,0,100,0),
(655290,2,-2227.67,7940.6,-20.7074,0,0,0,0,100,0),
(655290,3,-2227.18,7925.1,-21.3442,0,0,0,0,100,0),
(655290,4,-2226.68,7909.12,-22.509,0,0,0,0,100,0),
(655290,5,-2226.15,7892.51,-23.8733,0,0,0,0,100,0),
(655290,6,-2229.96,7883.36,-24.6816,0,0,0,0,100,0),
(655290,7,-2235.26,7870.66,-22.4936,0,0,0,0,100,0),
(655290,8,-2238.45,7861.15,-22.7846,0,0,0,0,100,0),
(655290,9,-2241.99,7850.63,-24.5896,0,0,0,0,100,0),
(655290,10,-2245.07,7841.45,-25.5219,0,0,0,0,100,0),
(655290,11,-2254.33,7823.2,-24.0731,0,0,0,0,100,0),
(655290,12,-2261.08,7813.12,-24.3693,0,0,0,0,100,0),
(655290,13,-2269.53,7800.52,-25.6114,0,0,0,0,100,0),
(655290,14,-2280.61,7783.98,-27.956,0,0,0,0,100,0),
(655290,15,-2291.8,7769.93,-26.9888,0,0,0,0,100,0),
(655290,16,-2300.01,7759.61,-25.4789,0,0,0,0,100,0),
(655290,17,-2306.88,7750.98,-24.8341,0,0,0,0,100,0),
(655290,18,-2318.29,7734.76,-24.2838,0,0,0,0,100,0),
(655290,19,-2328.68,7720,-22.906,0,0,0,0,100,0),
(655290,20,-2345.05,7710.61,-20.8695,0,0,0,0,100,0),
(655290,21,-2364.56,7708.35,-20.0528,0,0,0,0,100,0),
(655290,22,-2381.18,7722.77,-22.1789,0,0,0,0,100,0),
(655290,23,-2391.4,7739.36,-25.1471,0,0,0,0,100,0),
(655290,24,-2401.03,7755.01,-27.6028,0,0,0,0,100,0),
(655290,25,-2414.41,7765.19,-29.1807,0,0,0,0,100,0),
(655290,26,-2433.92,7780.03,-33.6571,0,0,0,0,100,0),
(655290,27,-2444.11,7795.11,-37.1784,0,0,0,0,100,0),
(655290,28,-2458.02,7815.68,-41.4253,0,0,0,0,100,0),
(655290,29,-2460.94,7831.51,-43.9517,0,0,0,0,100,0),
(655290,30,-2463.82,7847.11,-46.3467,0,0,0,0,100,0),
(655290,31,-2466.99,7864.27,-48.3649,0,0,0,0,100,0),
(655290,32,-2458.81,7874.2,-48.9184,0,0,0,0,100,0),
(655290,33,-2450.66,7884.11,-49.8551,0,0,0,0,100,0),
(655290,34,-2444.6,7891.48,-48.2553,0,0,0,0,100,0),
(655290,35,-2435.55,7897.88,-45.8387,0,0,0,0,100,0),
(655290,36,-2423.27,7906.57,-45.4714,0,0,0,0,100,0),
(655290,37,-2410.98,7915.27,-45.8833,0,0,0,0,100,0),
(655290,38,-2391.48,7922.32,-43.7798,0,0,0,0,100,0),
(655290,39,-2380.73,7926.2,-43.9771,0,0,0,0,100,0),
(655290,40,-2368.51,7930.62,-45.3913,0,0,0,0,100,0),
(655290,41,-2357.43,7930.78,-45.4455,0,0,0,0,100,0),
(655290,42,-2342.26,7931,-41.1935,0,0,0,0,100,0),
(655290,43,-2330.14,7931.18,-37.4615,0,0,0,0,100,0),
(655290,44,-2318.59,7937.29,-35.9354,0,0,0,0,100,0),
(655290,45,-2307.77,7943.02,-36.4883,0,0,0,0,100,0),
(655290,46,-2296.48,7948.99,-36.8653,0,0,0,0,100,0),
(655290,47,-2283.37,7955.93,-34.5905,0,0,0,0,100,0),
(655290,48,-2271.77,7965.13,-33.8175,0,0,0,0,100,0),
(655290,49,-2259.68,7974.71,-31.0558,0,0,0,0,100,0),
(655290,50,-2252.09,7984.92,-31.7579,0,0,0,0,100,0),
(655290,51,-2243.6,7996.34,-31.1575,0,0,0,0,100,0),
(655290,52,-2229.16,8015.77,-29.1575,0,0,0,0,100,0),
(655290,53,-2223.23,8034.08,-28.533,0,0,0,0,100,0),
(655290,54,-2218.54,8048.51,-27.0777,0,0,0,0,100,0),
(655290,55,-2213.4,8064.38,-25.5059,0,0,0,0,100,0),
(655290,56,-2216.5,8083.2,-28.1693,0,0,0,0,100,0),
(655290,57,-2219.18,8099.51,-26.7581,0,0,0,0,100,0),
(655290,58,-2213.61,8110.42,-25.3303,0,0,0,0,100,0),
(655290,59,-2207.06,8123.26,-24.8859,0,0,0,0,100,0),
(655290,60,-2202.09,8139.05,-24.4064,0,0,0,0,100,0),
(655290,61,-2196.81,8155.85,-23.7716,0,0,0,0,100,0),
(655290,62,-2194.34,8167.01,-24.2956,0,0,0,0,100,0),
(655290,63,-2191.28,8180.79,-25.8031,0,0,0,0,100,0),
(655290,64,-2187.09,8199.72,-28.816,0,0,0,0,100,0),
(655290,65,-2184.53,8208.32,-27.6855,0,0,0,0,100,0),
(655290,66,-2182.17,8216.25,-25.1735,0,0,0,0,100,0),
(655290,67,-2179.85,8224.05,-23.3386,0,0,0,0,100,0),
(655290,68,-2179.85,8233.85,-22.9129,0,0,0,0,100,0),
(655290,69,-2179.86,8247.39,-23.5717,0,0,0,0,100,0),
(655290,70,-2179.86,8261.49,-21.5663,0,0,0,0,100,0),
(655290,71,-2181.41,8271.63,-21.2539,0,0,0,0,100,0),
(655290,72,-2183.8,8287.32,-22.3146,0,0,0,0,100,0),
(655290,73,-2186.54,8305.24,-24.5347,0,0,0,0,100,0),
(655290,74,-2189.17,8315.77,-25.7857,0,0,0,0,100,0),
(655290,75,-2192.23,8328.02,-23.8125,0,0,0,0,100,0),
(655290,76,-2195.59,8341.48,-22.1895,0,0,0,0,100,0),
(655290,77,-2198.77,8354.23,-22.4042,0,0,0,0,100,0),
(655290,78,-2201.99,8367.13,-23.7967,0,0,0,0,100,0),
(655290,79,-2205.64,8381.74,-25.0907,0,0,0,0,100,0),
(655290,80,-2208.83,8394.53,-25.655,0,0,0,0,100,0),
(655290,81,-2212.43,8408.96,-26.0342,0,0,0,0,100,0),
(655290,82,-2218.52,8420.53,-25.3135,0,0,0,0,100,0),
(655290,83,-2224.16,8431.27,-25.1477,0,0,0,0,100,0),
(655290,84,-2231.18,8444.61,-25.4202,0,0,0,0,100,0),
(655290,85,-2238.79,8457.73,-26.538,0,0,0,0,100,0),
(655290,86,-2248.94,8475.21,-24.3082,0,0,0,0,100,0),
(655290,87,-2253.39,8486.12,-23.4763,0,0,0,0,100,0),
(655290,88,-2257.96,8497.35,-23.9506,0,0,0,0,100,0),
(655290,89,-2263.56,8511.08,-24.6473,0,0,0,0,100,0),
(655290,90,-2269.11,8524.71,-23.0163,0,0,0,0,100,0),
(655290,91,-2279.04,8537.08,-22.6936,0,0,0,0,100,0),
(655290,92,-2290.58,8551.46,-22.6809,0,0,0,0,100,0),
(655290,93,-2300.84,8564.23,-22.9392,0,0,0,0,100,0),
(655290,94,-2313.14,8570.67,-23.3766,0,0,0,0,100,0),
(655290,95,-2323.58,8576.14,-24.0361,0,0,0,0,100,0),
(655290,96,-2335.01,8582.13,-23.8312,0,0,0,0,100,0),
(655290,97,-2343.49,8595.75,-23.4162,0,0,0,0,100,0),
(655290,98,-2341.78,8617.54,-19.6364,0,0,0,0,100,0),
(655290,99,-2333.59,8628.61,-19.0205,0,0,0,0,100,0),
(655290,100,-2324.52,8640.86,-16.6755,0,0,0,0,100,0),
(655290,101,-2315.14,8650.29,-14.7557,0,0,0,0,100,0),
(655290,102,-2302.81,8662.71,-12.957,0,0,0,0,100,0),
(655290,103,-2283.86,8681.77,-9.26158,0,0,0,0,100,0),
(655290,104,-2265.57,8683.55,-6.78726,0,0,0,0,100,0),
(655290,105,-2251.32,8676.84,-7.4468,0,0,0,0,100,0),
(655290,106,-2237.9,8670.51,-8.04751,0,0,0,0,100,0),
(655290,107,-2235.81,8654.07,-8.7818,0,0,0,0,100,0),
(655290,108,-2233.98,8639.64,-8.26335,0,0,0,0,100,0),
(655290,109,-2235.38,8623.6,-8.75741,0,0,0,0,100,0),
(655290,110,-2236.65,8609.03,-9.76679,0,0,0,0,100,0),
(655290,111,-2237.92,8594.15,-11.6353,0,0,0,0,100,0),
(655290,112,-2239.54,8575.2,-12.9238,0,0,0,0,100,0),
(655290,113,-2240.85,8559.79,-13.6016,0,0,0,0,100,0),
(655290,114,-2234.65,8545.82,-13.707,0,0,0,0,100,0),
(655290,115,-2230.44,8536.35,-14.6979,0,0,0,0,100,0),
(655290,116,-2223.9,8521.64,-17.593,0,0,0,0,100,0),
(655290,117,-2219.64,8512.06,-17.3604,0,0,0,0,100,0),
(655290,118,-2215.16,8501.3,-16.1772,0,0,0,0,100,0),
(655290,119,-2212.95,8495.99,-15.9993,0,0,0,0,100,0),
(655290,120,-2208,8484.15,-16.8606,0,0,0,0,100,0),
(655290,121,-2201.93,8469.62,-19.2246,0,0,0,0,100,0),
(655290,122,-2195.97,8455.36,-19.4063,0,0,0,0,100,0),
(655290,123,-2191.27,8441.2,-19.9036,0,0,0,0,100,0),
(655290,124,-2186.05,8425.47,-19.1247,0,0,0,0,100,0),
(655290,125,-2181.71,8412.41,-18.5573,0,0,0,0,100,0),
(655290,126,-2177.98,8401.19,-18.2321,0,0,0,0,100,0),
(655290,127,-2173.12,8389.07,-17.8535,0,0,0,0,100,0),
(655290,128,-2166.65,8372.94,-17.8488,0,0,0,0,100,0),
(655290,129,-2159.22,8354.39,-17.6834,0,0,0,0,100,0),
(655290,130,-2154.12,8343.89,-18.064,0,0,0,0,100,0),
(655290,131,-2148.26,8331.82,-19.4684,0,0,0,0,100,0),
(655290,132,-2142.34,8319.65,-20.6968,0,0,0,0,100,0),
(655290,133,-2135.89,8306.36,-20.1996,0,0,0,0,100,0),
(655290,134,-2131.81,8294.57,-19.2974,0,0,0,0,100,0),
(655290,135,-2127.04,8280.79,-19.0721,0,0,0,0,100,0),
(655290,136,-2121.28,8264.14,-18.9994,0,0,0,0,100,0),
(655290,137,-2128.1,8250.32,-20.046,0,0,0,0,100,0),
(655290,138,-2133.83,8238.71,-20.7063,0,0,0,0,100,0),
(655290,139,-2140.08,8226.05,-19.8673,0,0,0,0,100,0),
(655290,140,-2145.8,8217.39,-20.3293,0,0,0,0,100,0),
(655290,141,-2152.29,8207.55,-22.125,0,0,0,0,100,0),
(655290,142,-2160.59,8194.99,-24.7192,0,0,0,0,100,0),
(655290,143,-2168.54,8182.94,-25.1656,0,0,0,0,100,0),
(655290,144,-2172.87,8174.68,-25.004,0,0,0,0,100,0),
(655290,145,-2178.56,8163.83,-23.8752,0,0,0,0,100,0),
(655290,146,-2183.71,8154.02,-22.8533,0,0,0,0,100,0),
(655290,147,-2188.09,8145.66,-22.315,0,0,0,0,100,0),
(655290,148,-2191.87,8133.15,-21.4311,0,0,0,0,100,0),
(655290,149,-2194.97,8122.88,-21.2067,0,0,0,0,100,0),
(655290,150,-2197.99,8112.88,-21.2915,0,0,0,0,100,0),
(655290,151,-2200.71,8101.66,-22.2903,0,0,0,0,100,0),
(655290,152,-2203.41,8090.55,-24.5437,0,0,0,0,100,0),
(655290,153,-2205.94,8080.12,-26.0111,0,0,0,0,100,0),
(655290,154,-2209.01,8067.46,-24.739,0,0,0,0,100,0),
(655290,155,-2211.03,8059.19,-24.2535,0,0,0,0,100,0),
(655290,156,-2213.69,8048.31,-24.8712,0,0,0,0,100,0),
(655290,157,-2217.73,8031.76,-26.2536,0,0,0,0,100,0),
(655290,158,-2221.66,8015.67,-26.4606,0,0,0,0,100,0),
(655290,159,-2222.98,8003.84,-25.3854,0,0,0,0,100,0),
(655290,160,-2224.31,7992.01,-24.5209,0,0,0,0,100,0),
(655290,161,-2225.66,7979.96,-24.7009,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
