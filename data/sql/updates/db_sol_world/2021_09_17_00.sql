-- DB update 2021_09_16_03 -> 2021_09_17_00
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2021_09_16_03';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2021_09_16_03 2021_09_17_00 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1631832280714831440'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1631832280714831440');

DELETE FROM `script_waypoint` WHERE `entry` = 17312;
INSERT INTO `script_waypoint` (`entry`, `pointid`, `location_x`, `location_y`, `location_z`, `waittime`, `point_comment`)
VALUES
(17312,1,-4784.53,-11051.1,3.48426,0,'Magwin - Quest ''A Cry For Help'''),
(17312,2,-4791.69,-11046.4,4.68853,0,NULL),
(17312,3,-4799.43,-11041.3,3.87248,0,NULL),
(17312,4,-4805.51,-11037.3,3.04394,0,NULL),
(17312,5,-4816.95,-11035.8,1.92189,0,NULL),
(17312,6,-4827.83,-11034.4,1.74196,0,NULL),
(17312,7,-4836.6,-11034.2,1.97322,0,NULL),
(17312,8,-4846.12,-11033.9,2.5253,0,NULL),
(17312,9,-4852.63,-11033.7,2.20866,0,NULL),
(17312,10,-4861.18,-11034,1.83542,0,NULL),
(17312,11,-4868.96,-11034.2,1.7103,0,NULL),
(17312,12,-4876.79,-11034.5,3.17523,0,NULL),
(17312,13,-4880.79,-11035.3,4.94202,0,NULL),
(17312,14,-4887.77,-11036.7,7.79473,0,NULL),
(17312,15,-4895.49,-11038.3,9.39089,0,NULL),
(17312,16,-4902.2,-11041.7,10.3351,0,NULL),
(17312,17,-4909.86,-11045.6,11.4337,0,NULL),
(17312,18,-4915.46,-11048.4,12.3698,0,NULL),
(17312,19,-4920.88,-11053,13.5032,0,NULL),
(17312,20,-4926.19,-11057.5,14.1549,0,NULL),
(17312,21,-4937.29,-11067,13.858,0,NULL),
(17312,22,-4946.17,-11067.2,14.1293,0,NULL),
(17312,23,-4956.76,-11067.3,14.2265,0,NULL),
(17312,24,-4966.58,-11067.5,15.7548,0,NULL),
(17312,25,-4975.04,-11064.1,17.5528,0,NULL),
(17312,26,-4987.87,-11058.9,19.0853,0,NULL),
(17312,27,-4993.8,-11056.5,19.1753,0,NULL),
(17312,28,-5004.77,-11054.7,21.3407,0,NULL),
(17312,29,-5011.39,-11053.6,22.0998,0,NULL),
(17312,30,-5017.84,-11052.6,22.4766,0,NULL),
(17312,31,-5029.75,-11055.8,24.3399,0,NULL),
(17312,32,-5039.71,-11058.5,25.8316,0,NULL),
(17312,33,-5048.06,-11052.3,26.341,0,NULL),
(17312,34,-5057.29,-11045.5,26.9725,0,NULL),
(17312,35,-5068.63,-11041.3,28.176,0,NULL),
(17312,36,-5078.83,-11037.6,29.0534,0,NULL),
(17312,37,-5086.86,-11038.1,29.406,0,NULL),
(17312,38,-5095.96,-11038.7,29.2286,0,NULL),
(17312,39,-5104.16,-11039.2,29.4402,0,NULL),
(17312,40,-5113.32,-11039.4,30.0691,0,NULL),
(17312,41,-5120.78,-11039.5,30.1421,0,NULL),
(17312,42,-5130.84,-11039.7,29.4591,0,NULL),
(17312,43,-5140.83,-11039.8,28.7881,0,NULL),
(17312,44,-5151.29,-11040,28.5182,0,NULL),
(17312,45,-5161.2,-11040.1,27.8795,4000,NULL),
(17312,46,-5167.56,-11044.1,27.7943,0,NULL),
(17312,47,-5171.84,-11046.8,27.1838,0,NULL),
(17312,48,-5177.67,-11050.8,24.9245,0,NULL),
(17312,49,-5182.12,-11053.8,22.0158,0,NULL),
(17312,50,-5186,-11056.4,20.2349,0,NULL),
(17312,51,-5193.28,-11060,18.8297,0,NULL),
(17312,52,-5200.69,-11063.6,18.5416,0,NULL),
(17312,53,-5207.61,-11069.3,18.8127,0,NULL),
(17312,54,-5214.06,-11074.7,19.2157,0,NULL),
(17312,55,-5217.1,-11081.5,19.6787,0,NULL),
(17312,56,-5220.16,-11088.4,19.8185,0,NULL),
(17312,57,-5227.17,-11093.8,18.9487,0,NULL),
(17312,58,-5233.65,-11098.8,18.3494,0,NULL),
(17312,59,-5242.64,-11105.8,17.5316,0,NULL),
(17312,60,-5250.16,-11111.7,16.439,0,NULL),
(17312,61,-5259.09,-11118.6,15.0423,0,NULL),
(17312,62,-5268.19,-11125.6,12.6683,0,NULL),
(17312,63,-5273.54,-11127.1,11.0895,0,NULL),
(17312,64,-5280.13,-11129,8.45941,0,NULL),
(17312,65,-5286.27,-11130.7,6.91225,0,NULL),
(17312,66,-5297.95,-11133.2,6.97818,0,NULL),
(17312,67,-5307.29,-11135.2,5.95923,0,NULL),
(17312,68,-5317.45,-11137.4,4.96345,0,NULL),
(17312,69,-5320.48,-11140.4,5.63597,0,NULL),
(17312,70,-5328.44,-11148.1,6.08324,0,NULL),
(17312,71,-5334.85,-11154.4,6.74266,4000,NULL),
(17312,72,-5343.81,-11162.5,6.93047,0,NULL),
(17312,73,-5353.87,-11171.6,6.90391,7000,NULL),
(17312,74,-5353.87,-11171.6,6.90391,0,NULL);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
