-- DB update 2021_09_15_03 -> 2021_09_15_04
DROP PROCEDURE IF EXISTS `updateDb`;
DELIMITER //
CREATE PROCEDURE updateDb ()
proc:BEGIN DECLARE OK VARCHAR(100) DEFAULT 'FALSE';
SELECT COUNT(*) INTO @COLEXISTS
FROM information_schema.COLUMNS
WHERE TABLE_SCHEMA = DATABASE() AND TABLE_NAME = 'version_db_sol_world' AND COLUMN_NAME = '2021_09_15_03';
IF @COLEXISTS = 0 THEN LEAVE proc; END IF;
START TRANSACTION;
ALTER TABLE version_db_sol_world CHANGE COLUMN 2021_09_15_03 2021_09_15_04 bit;
SELECT sql_rev INTO OK FROM version_db_sol_world WHERE sql_rev = '1631739878067311575'; IF OK <> 'FALSE' THEN LEAVE proc; END IF;
--
-- START UPDATING QUERIES
--

INSERT INTO `version_db_sol_world` (`sql_rev`) VALUES ('1631739878067311575');

UPDATE `creature_template_addon` SET `isLarge` = 1 WHERE `entry` = 18885; -- Farahlon Giant
UPDATE `creature_addon` SET `isLarge` = 1 WHERE `guid` IN (71046,73307);  -- Apex, Netherock

UPDATE `creature_template` SET `AIName` = 'SmartAI' WHERE `entry` = 20772;
DELETE FROM `smart_scripts` WHERE `source_type` = 0 AND `entryorguid` = 20772;
INSERT INTO `smart_scripts` (`entryorguid`, `source_type`, `id`, `link`, `event_type`, `event_phase_mask`, `event_chance`, `event_flags`, `event_param1`, `event_param2`, `event_param3`, `event_param4`, `event_param5`, `action_type`, `action_param1`, `action_param2`, `action_param3`, `action_param4`, `action_param5`, `action_param6`, `target_type`, `target_param1`, `target_param2`, `target_param3`, `target_param4`, `target_x`, `target_y`, `target_z`, `target_o`, `comment`)
VALUES
(20772,0,0,0,11,0,100,0,0,0,0,0,0,48,1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,'Netherock - On Respawn - Set Active On');

DELETE FROM `waypoint_data` WHERE `id` IN (710460,733070);
INSERT INTO `waypoint_data` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `delay`, `move_type`, `action`, `action_chance`, `wpguid`)
VALUES
-- Apex
(710460,1,2863.66,2591.46,108.774,0,5000,0,0,100,0),
(710460,2,2869.25,2589.56,111.736,0,0,0,0,100,0),
(710460,3,2875.6,2587.41,114.61,0,0,0,0,100,0),
(710460,4,2887.54,2583.35,116.399,0,0,0,0,100,0),
(710460,5,2895.66,2580.6,117.43,0,0,0,0,100,0),
(710460,6,2912.98,2571.8,117.759,0,0,0,0,100,0),
(710460,7,2919.08,2568.54,122.444,0,0,0,0,100,0),
(710460,8,2932.77,2566.68,124.345,0,0,0,0,100,0),
(710460,9,2947.26,2564.71,124.999,0,0,0,0,100,0),
(710460,10,2961.7,2562.74,124.545,0,0,0,0,100,0),
(710460,11,2973.23,2560.91,123.169,0,0,0,0,100,0),
(710460,12,2988.86,2558.42,119.614,0,0,0,0,100,0),
(710460,13,3006.12,2555.67,116.328,0,0,0,0,100,0),
(710460,14,3022.45,2549.54,114.586,0,0,0,0,100,0),
(710460,15,3038.53,2543.51,113.795,0,0,0,0,100,0),
(710460,16,3050.63,2538.97,113.552,0,5000,0,0,100,0),
(710460,17,3038.53,2543.51,113.795,0,0,0,0,100,0),
(710460,18,3022.45,2549.54,114.586,0,0,0,0,100,0),
(710460,19,3006.12,2555.67,116.328,0,0,0,0,100,0),
(710460,20,2988.86,2558.42,119.614,0,0,0,0,100,0),
(710460,21,2973.23,2560.91,123.169,0,0,0,0,100,0),
(710460,22,2961.7,2562.74,124.545,0,0,0,0,100,0),
(710460,23,2947.26,2564.71,124.999,0,0,0,0,100,0),
(710460,24,2932.77,2566.68,124.345,0,0,0,0,100,0),
(710460,25,2919.08,2568.54,122.444,0,0,0,0,100,0),
(710460,26,2912.98,2571.8,117.759,0,0,0,0,100,0),
(710460,27,2895.66,2580.6,117.43,0,0,0,0,100,0),
(710460,28,2887.54,2583.35,116.399,0,0,0,0,100,0),
(710460,29,2875.6,2587.41,114.61,0,0,0,0,100,0),
(710460,30,2869.25,2589.56,111.736,0,0,0,0,100,0),
-- Netherock
(733070,1,2522.53,3614.04,131.004,0,0,0,0,100,0),
(733070,2,2524.64,3605.3,126.078,0,0,0,0,100,0),
(733070,3,2528.77,3595.75,130.456,0,0,0,0,100,0),
(733070,4,2535.22,3575.54,130.545,0,0,0,0,100,0),
(733070,5,2540.06,3560.38,129.813,0,0,0,0,100,0),
(733070,6,2540.99,3549.79,132.752,0,0,0,0,100,0),
(733070,7,2539.66,3540.11,131.724,0,0,0,0,100,0),
(733070,8,2538.45,3531.33,133.156,0,0,0,0,100,0),
(733070,9,2537.54,3524.67,131.506,0,0,0,0,100,0),
(733070,10,2536.22,3515.08,132.721,0,0,0,0,100,0),
(733070,11,2533.88,3502.42,132.554,0,0,0,0,100,0),
(733070,12,2531.24,3488.18,132.807,0,0,0,0,100,0),
(733070,13,2528.68,3474.38,132.804,0,0,0,0,100,0),
(733070,14,2526.03,3454.64,129.773,0,0,0,0,100,0),
(733070,15,2525.8,3446.31,125.632,0,0,0,0,100,0),
(733070,16,2525.55,3437.73,128.526,0,0,0,0,100,0),
(733070,17,2524.74,3426.89,129.391,0,0,0,0,100,0),
(733070,18,2523.65,3412.31,130.363,0,0,0,0,100,0),
(733070,19,2522.57,3397.93,130.553,0,0,0,0,100,0),
(733070,20,2522.11,3391.84,127.175,0,0,0,0,100,0),
(733070,21,2523.06,3384.52,131.869,0,0,0,0,100,0),
(733070,22,2523.79,3378.94,134.19,0,0,0,0,100,0),
(733070,23,2529.48,3370.64,135.757,0,0,0,0,100,0),
(733070,24,2538.89,3356.93,135.567,0,0,0,0,100,0),
(733070,25,2549.43,3341.55,134.233,0,0,0,0,100,0),
(733070,26,2556.93,3329.31,132.425,0,0,0,0,100,0),
(733070,27,2564.43,3317.07,129.71,0,0,0,0,100,0),
(733070,28,2562.64,3309.08,122.715,0,0,0,0,100,0),
(733070,29,2560.47,3299.38,113.61,0,0,0,0,100,0),
(733070,30,2562.66,3291.76,112.335,0,0,0,0,100,0),
(733070,31,2562.59,3279.87,109.253,0,0,0,0,100,0),
(733070,32,2559.68,3269.52,105.443,0,0,0,0,100,0),
(733070,33,2563.05,3257.92,105.44,0,0,0,0,100,0),
(733070,34,2564.95,3251.38,104.748,0,0,0,0,100,0),
(733070,35,2574.72,3245.06,108.771,0,0,0,0,100,0),
(733070,36,2583.41,3239.45,118.365,0,0,0,0,100,0),
(733070,37,2587.61,3236.74,122.248,0,0,0,0,100,0),
(733070,38,2596.87,3227.2,126.484,0,0,0,0,100,0),
(733070,39,2608.73,3214.98,131.704,0,0,0,0,100,0),
(733070,40,2619.81,3203.57,135.155,0,5000,0,0,100,0),
(733070,41,2608.73,3214.98,131.704,0,0,0,0,100,0),
(733070,42,2596.87,3227.2,126.484,0,0,0,0,100,0),
(733070,43,2587.61,3236.74,122.248,0,0,0,0,100,0),
(733070,44,2583.41,3239.45,118.365,0,0,0,0,100,0),
(733070,45,2574.72,3245.06,108.771,0,0,0,0,100,0),
(733070,46,2564.95,3251.38,104.748,0,0,0,0,100,0),
(733070,47,2563.05,3257.92,105.44,0,0,0,0,100,0),
(733070,48,2559.68,3269.52,105.443,0,0,0,0,100,0),
(733070,49,2562.59,3279.87,109.253,0,0,0,0,100,0),
(733070,50,2562.66,3291.76,112.335,0,0,0,0,100,0),
(733070,51,2560.47,3299.38,113.61,0,0,0,0,100,0),
(733070,52,2562.64,3309.08,122.715,0,0,0,0,100,0),
(733070,53,2564.43,3317.07,129.71,0,0,0,0,100,0),
(733070,54,2556.93,3329.31,132.425,0,0,0,0,100,0),
(733070,55,2549.43,3341.55,134.233,0,0,0,0,100,0),
(733070,56,2538.89,3356.93,135.567,0,0,0,0,100,0),
(733070,57,2529.48,3370.64,135.757,0,0,0,0,100,0),
(733070,58,2523.79,3378.94,134.19,0,0,0,0,100,0),
(733070,59,2523.06,3384.52,131.869,0,0,0,0,100,0),
(733070,60,2522.11,3391.84,127.175,0,0,0,0,100,0),
(733070,61,2522.57,3397.93,130.553,0,0,0,0,100,0),
(733070,62,2523.65,3412.31,130.363,0,0,0,0,100,0),
(733070,63,2524.74,3426.89,129.391,0,0,0,0,100,0),
(733070,64,2525.55,3437.73,128.526,0,0,0,0,100,0),
(733070,65,2525.8,3446.31,125.632,0,0,0,0,100,0),
(733070,66,2526.03,3454.64,129.773,0,0,0,0,100,0),
(733070,67,2528.68,3474.38,132.804,0,0,0,0,100,0),
(733070,68,2531.24,3488.18,132.807,0,0,0,0,100,0),
(733070,69,2533.88,3502.42,132.554,0,0,0,0,100,0),
(733070,70,2536.22,3515.08,132.721,0,0,0,0,100,0),
(733070,71,2537.54,3524.67,131.506,0,0,0,0,100,0),
(733070,72,2538.45,3531.33,133.156,0,0,0,0,100,0),
(733070,73,2539.66,3540.11,131.724,0,0,0,0,100,0),
(733070,74,2540.99,3549.79,132.752,0,0,0,0,100,0),
(733070,75,2540.06,3560.38,129.813,0,0,0,0,100,0),
(733070,76,2535.22,3575.54,130.545,0,0,0,0,100,0),
(733070,77,2528.77,3595.75,130.456,0,0,0,0,100,0),
(733070,78,2524.64,3605.3,126.078,0,0,0,0,100,0),
(733070,79,2522.53,3614.04,131.004,0,0,0,0,100,0),
(733070,80,2516.82,3628.4,130.547,0,0,0,0,100,0),
(733070,81,2520.6,3646.61,131.787,0,0,0,0,100,0),
(733070,82,2517.35,3661.55,128.129,0,0,0,0,100,0),
(733070,83,2514.34,3675.43,126.016,0,0,0,0,100,0),
(733070,84,2513.9,3678.83,124.729,0,0,0,0,100,0),
(733070,85,2512.91,3686.47,118.986,0,0,0,0,100,0),
(733070,86,2511.58,3696.65,121.686,0,0,0,0,100,0),
(733070,87,2510.8,3702.67,126.237,0,0,0,0,100,0),
(733070,88,2510.35,3706.14,127.204,0,0,0,0,100,0),
(733070,89,2505.65,3716.32,127.556,0,0,0,0,100,0),
(733070,90,2500.19,3728.15,125.917,0,0,0,0,100,0),
(733070,91,2494.7,3737.1,122.938,0,0,0,0,100,0),
(733070,92,2490.13,3744.57,120.115,0,0,0,0,100,0),
(733070,93,2483.86,3754.46,113.154,0,0,0,0,100,0),
(733070,94,2479.48,3761.36,111.704,0,0,0,0,100,0),
(733070,95,2480.23,3770.91,115.466,0,0,0,0,100,0),
(733070,96,2480.03,3778.4,115.253,0,0,0,0,100,0),
(733070,97,2474.43,3786.3,112.962,0,0,0,0,100,0),
(733070,98,2469.52,3793.22,111.09,0,0,0,0,100,0),
(733070,99,2461,3805.25,106.95,0,0,0,0,100,0),
(733070,100,2459.84,3811.83,107.653,0,0,0,0,100,0),
(733070,101,2459.13,3816.96,107.55,0,0,0,0,100,0),
(733070,102,2458.46,3828.38,110.94,0,0,0,0,100,0),
(733070,103,2457.83,3842.83,110.786,0,0,0,0,100,0),
(733070,104,2457.34,3854.15,109.044,0,0,0,0,100,0),
(733070,105,2456.34,3866.93,103.976,0,0,0,0,100,0),
(733070,106,2455.94,3875.45,108.704,0,0,0,0,100,0),
(733070,107,2453.46,3887.67,109.61,0,0,0,0,100,0),
(733070,108,2451.64,3895.96,105.595,0,0,0,0,100,0),
(733070,109,2455.88,3905.91,113.327,0,0,0,0,100,0),
(733070,110,2456,3916.77,115.448,0,0,0,0,100,0),
(733070,111,2456.11,3927.34,116.664,0,0,0,0,100,0),
(733070,112,2455.38,3934.77,115.698,0,0,0,0,100,0),
(733070,113,2453.87,3950.11,113.615,0,0,0,0,100,0),
(733070,114,2447.99,3968.29,113.039,0,0,0,0,100,0),
(733070,115,2443.52,3979.09,108.816,0,0,0,0,100,0),
(733070,116,2440.99,3985.19,109.382,0,0,0,0,100,0),
(733070,117,2437.64,3993.28,113.509,0,0,0,0,100,0),
(733070,118,2437.77,4001.44,114.729,0,0,0,0,100,0),
(733070,119,2438.09,4021.73,115.272,0,0,0,0,100,0),
(733070,120,2438.34,4037.51,116.644,0,0,0,0,100,0),
(733070,121,2440.69,4045.95,117.183,0,0,0,0,100,0),
(733070,122,2444.21,4058.64,115.687,0,0,0,0,100,0),
(733070,123,2446.49,4066.84,120.391,0,0,0,0,100,0),
(733070,124,2452.41,4082.31,121.325,0,0,0,0,100,0),
(733070,125,2455.15,4086.78,118.884,0,0,0,0,100,0),
(733070,126,2456.31,4089.1,119.322,0,0,0,0,100,0),
(733070,127,2458.78,4094.3,122.471,0,0,0,0,100,0),
(733070,128,2467.24,4102.5,124.361,0,0,0,0,100,0),
(733070,129,2477.97,4112.88,125.291,0,0,0,0,100,0),
(733070,130,2488.55,4123.13,125.14,0,0,0,0,100,0),
(733070,131,2497.06,4131.31,120.348,0,0,0,0,100,0),
(733070,132,2499.5,4133.55,121.146,0,0,0,0,100,0),
(733070,133,2504.32,4137.97,126.031,0,0,0,0,100,0),
(733070,134,2510.66,4148.05,126.395,0,0,0,0,100,0),
(733070,135,2518.3,4160.18,128.192,0,0,0,0,100,0),
(733070,136,2525.2,4171.14,129.561,0,0,0,0,100,0),
(733070,137,2530.33,4179.08,128.517,0,0,0,0,100,0),
(733070,138,2535.39,4186.92,132.805,0,0,0,0,100,0),
(733070,139,2542.61,4198.09,135.235,0,0,0,0,100,0),
(733070,140,2550.58,4210.44,137.487,0,0,0,0,100,0),
(733070,141,2556.78,4220.04,138.916,0,0,0,0,100,0),
(733070,142,2564.4,4239.72,140.065,0,0,0,0,100,0),
(733070,143,2567.94,4248.87,137.789,0,0,0,0,100,0),
(733070,144,2572.91,4256.77,142.071,0,0,0,0,100,0),
(733070,145,2579.56,4267.34,141.857,0,0,0,0,100,0),
(733070,146,2588.13,4280.97,140.938,0,0,0,0,100,0),
(733070,147,2599.38,4298.84,139.921,0,0,0,0,100,0),
(733070,148,2608.71,4313.67,138.083,0,0,0,0,100,0),
(733070,149,2617.76,4321.22,136.821,0,0,0,0,100,0),
(733070,150,2626.27,4328.32,134.346,0,0,0,0,100,0),
(733070,151,2635.62,4336.12,126.534,0,0,0,0,100,0),
(733070,152,2641.66,4341.44,130.73,0,0,0,0,100,0),
(733070,153,2646.51,4345.72,133.348,0,0,0,0,100,0),
(733070,154,2656.33,4354.18,134.045,0,0,0,0,100,0),
(733070,155,2666.31,4362.77,132.3,0,0,0,0,100,0),
(733070,156,2680.39,4370.36,127.1,0,0,0,0,100,0),
(733070,157,2691.39,4376.02,130.258,0,0,0,0,100,0),
(733070,158,2708.72,4380.31,129.907,0,0,0,0,100,0),
(733070,159,2724.23,4384.16,129.538,0,5000,0,0,100,0),
(733070,160,2708.72,4380.31,129.907,0,0,0,0,100,0),
(733070,161,2691.39,4376.02,130.258,0,0,0,0,100,0),
(733070,162,2680.39,4370.36,127.1,0,0,0,0,100,0),
(733070,163,2666.31,4362.77,132.3,0,0,0,0,100,0),
(733070,164,2656.33,4354.18,134.045,0,0,0,0,100,0),
(733070,165,2646.51,4345.72,133.348,0,0,0,0,100,0),
(733070,166,2641.66,4341.44,130.73,0,0,0,0,100,0),
(733070,167,2635.62,4336.12,126.534,0,0,0,0,100,0),
(733070,168,2626.27,4328.32,134.346,0,0,0,0,100,0),
(733070,169,2617.76,4321.22,136.821,0,0,0,0,100,0),
(733070,170,2608.71,4313.67,138.083,0,0,0,0,100,0),
(733070,171,2599.38,4298.84,139.921,0,0,0,0,100,0),
(733070,172,2588.13,4280.97,140.938,0,0,0,0,100,0),
(733070,173,2579.56,4267.34,141.857,0,0,0,0,100,0),
(733070,174,2572.91,4256.77,142.071,0,0,0,0,100,0),
(733070,175,2567.94,4248.87,137.789,0,0,0,0,100,0),
(733070,176,2564.4,4239.72,140.065,0,0,0,0,100,0),
(733070,177,2556.78,4220.04,138.916,0,0,0,0,100,0),
(733070,178,2550.58,4210.44,137.487,0,0,0,0,100,0),
(733070,179,2542.61,4198.09,135.235,0,0,0,0,100,0),
(733070,180,2535.39,4186.92,132.805,0,0,0,0,100,0),
(733070,181,2530.33,4179.08,128.517,0,0,0,0,100,0),
(733070,182,2525.2,4171.14,129.561,0,0,0,0,100,0),
(733070,183,2518.3,4160.18,128.192,0,0,0,0,100,0),
(733070,184,2510.66,4148.05,126.395,0,0,0,0,100,0),
(733070,185,2504.32,4137.97,126.031,0,0,0,0,100,0),
(733070,186,2499.5,4133.55,121.146,0,0,0,0,100,0),
(733070,187,2497.06,4131.31,120.348,0,0,0,0,100,0),
(733070,188,2488.55,4123.13,125.14,0,0,0,0,100,0),
(733070,189,2477.97,4112.88,125.291,0,0,0,0,100,0),
(733070,190,2467.24,4102.5,124.361,0,0,0,0,100,0),
(733070,191,2458.78,4094.3,122.468,0,0,0,0,100,0),
(733070,192,2456.31,4089.1,119.322,0,0,0,0,100,0),
(733070,193,2455.15,4086.78,118.884,0,0,0,0,100,0),
(733070,194,2452.41,4082.31,121.325,0,0,0,0,100,0),
(733070,195,2446.49,4066.84,120.391,0,0,0,0,100,0),
(733070,196,2444.21,4058.64,115.687,0,0,0,0,100,0),
(733070,197,2440.69,4045.95,117.183,0,0,0,0,100,0),
(733070,198,2438.34,4037.51,116.644,0,0,0,0,100,0),
(733070,199,2438.09,4021.73,115.272,0,0,0,0,100,0),
(733070,200,2437.77,4001.44,114.729,0,0,0,0,100,0),
(733070,201,2437.64,3993.28,113.509,0,0,0,0,100,0),
(733070,202,2440.99,3985.19,109.382,0,0,0,0,100,0),
(733070,203,2443.52,3979.09,108.816,0,0,0,0,100,0),
(733070,204,2447.99,3968.29,113.039,0,0,0,0,100,0),
(733070,205,2453.87,3950.11,113.615,0,0,0,0,100,0),
(733070,206,2455.38,3934.77,115.698,0,0,0,0,100,0),
(733070,207,2456.11,3927.34,116.664,0,0,0,0,100,0),
(733070,208,2456,3916.77,115.448,0,0,0,0,100,0),
(733070,209,2455.88,3905.91,113.327,0,0,0,0,100,0),
(733070,210,2451.64,3895.96,105.595,0,0,0,0,100,0),
(733070,211,2453.46,3887.67,109.61,0,0,0,0,100,0),
(733070,212,2455.94,3875.45,108.704,0,0,0,0,100,0),
(733070,213,2456.34,3866.93,103.976,0,0,0,0,100,0),
(733070,214,2457.34,3854.15,109.044,0,0,0,0,100,0),
(733070,215,2457.83,3842.83,110.786,0,0,0,0,100,0),
(733070,216,2459.13,3816.96,107.55,0,0,0,0,100,0),
(733070,217,2459.84,3811.83,107.653,0,0,0,0,100,0),
(733070,218,2461,3805.25,106.95,0,0,0,0,100,0),
(733070,219,2469.52,3793.22,111.09,0,0,0,0,100,0),
(733070,220,2474.43,3786.3,112.962,0,0,0,0,100,0),
(733070,221,2480.03,3778.4,115.253,0,0,0,0,100,0),
(733070,222,2480.23,3770.91,115.466,0,0,0,0,100,0),
(733070,223,2479.48,3761.36,111.704,0,0,0,0,100,0),
(733070,224,2483.86,3754.46,113.154,0,0,0,0,100,0),
(733070,225,2490.13,3744.57,120.115,0,0,0,0,100,0),
(733070,226,2494.7,3737.1,122.938,0,0,0,0,100,0),
(733070,227,2500.19,3728.15,125.917,0,0,0,0,100,0),
(733070,228,2505.65,3716.32,127.556,0,0,0,0,100,0),
(733070,229,2510.35,3706.14,127.204,0,0,0,0,100,0),
(733070,230,2510.8,3702.67,126.237,0,0,0,0,100,0),
(733070,231,2511.58,3696.65,121.686,0,0,0,0,100,0),
(733070,232,2512.91,3686.47,118.986,0,0,0,0,100,0),
(733070,233,2513.9,3678.83,124.729,0,0,0,0,100,0),
(733070,234,2514.34,3675.43,126.016,0,0,0,0,100,0),
(733070,235,2517.35,3661.55,128.129,0,0,0,0,100,0),
(733070,236,2520.6,3646.61,131.787,0,0,0,0,100,0),
(733070,237,2516.82,3628.4,130.547,0,0,0,0,100,0);

--
-- END UPDATING QUERIES
--
COMMIT;
END //
DELIMITER ;
CALL updateDb();
DROP PROCEDURE IF EXISTS `updateDb`;
